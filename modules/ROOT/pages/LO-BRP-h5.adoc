== Berichtenboek

=== Berichten algemeen

==== Berichtenverkeer algemeen

===== Inleiding

De BRP is opgezet als een decentrale persoonsregistratie, waarbij de persoonsgegevens ook fysiek op verschillende plaatsen opgeslagen worden. Dit heeft tot gevolg dat er gegevensuitwisseling plaats moet kunnen vinden. Deze uitwisseling gebeurt door middel van berichten, die via de berichtendienst, webservices of API's worden verzonden. De gegevensuitwisseling heeft twee functies.

In de eerste plaats is dat de gegevensuitwisseling die dient om de BRP, inclusief de RNI consistent te houden. Zo dienen bij een intergemeentelijke verhuizing de persoonsgegevens met de burger mee te verhuizen. Bij een emigratie of het van kracht worden van een Ministerieel besluit dienen de persoonsgegevens van de gemeente naar de RNI te verhuizen. En bij een immigratie of het vervallen van een Ministerieel besluit dienen de persoonsgegevens, ingeval het een RNI-ingeschrevene betreft, van de RNI naar de gemeente te verhuizen. Onder het consistent houden van de gegevens vallen ook de berichten van en naar BRP-V, de BvBSN ter voorkoming van dubbele inschrijvingen, het Ministerie van Justitie vanwege het opnemen van de verblijfstitel en de berichten die nodig zijn om de landelijke tabellen consistent te houden.

Daarnaast vormt de BRP een basisregistratie, hetgeen betekent dat de overheid en andere organisaties in de contacten met de burgers gebruik maken van de in de basisregistratie opgeslagen gegevens. Dit maakt gegevensverstrekking aan die overheidsinstanties en die andere organisaties noodzakelijk.

===== Berichtengroepen

De BRP-berichten zijn ingedeeld in de volgende groepen:

. De berichten die tussen de verschillende op de berichtendienst aangesloten instanties uitgewisseld kunnen worden ten behoeve van de bijhouding en de consistentie van de BRP. Deze berichten worden uitgewisseld tussen:
* gemeenten onderling;
* een gemeente en de RNI;
* de IND en een gemeente of de RNI;
* een gemeente of de RNI en BRP-V.
. De berichten ten behoeve van de gegevensverstrekkingen. Deze berichten worden uitgewisseld tussen BRP-V en een afnemer. Een afnemer kan ook weer een gemeente of de RNI zijn.
. Overige berichten, die dan weer zijn onder te verdelen in:
* De berichten ten behoeve van het onderhouden van de autorisatietabel. Deze berichten worden verzonden door Tapp naar BRP-V.
* De berichten ten behoeve van het onderhouden van de overige landelijke tabellen. Deze berichten worden verzonden door Tapp naar de gemeenten, de RNI, BRP-V, de BvBSN en de afnemers.
* Het vrije bericht. Dit bericht kan worden uitgewisseld tussen alle instanties die op de berichtendienst zijn aangesloten.
* De berichten als gevolg van ernstige verstoring van het berichtenverkeer, de protocolfouten. Deze berichten kunnen worden uitgewisseld tussen alle instanties die in het BRP-stelsel zijn aangesloten.
* De verwerkbevestiging. Dit bericht is gedefinieerd om te kunnen melden dat een bepaald voorgaand bericht correct is verwerkt.

===== Berichten ten behoeve van de bijhouding en de consistentie van de BRP

====== Berichten tussen bijhouders onderling

* Berichten in verband met de vervolginschrijving tussen gemeenten:
** <<Ii01,Ii01>>: Initiatie intergemeentelijke verhuizing
** <<Ib01,Ib01>>: Verhuizen PL intergemeentelijk
** <<Iv01,Iv01>>: Verwijsgegevens
** <<If01,If01>>: Fout: PL niet te verzenden
** <<If21,If21>>: Fout: de ontvangen PL is niet de aangevraagde
** <<If31,If31>>: Fout: de verwijsgegevens zijn niet correct

* Berichten in verband met de vervolginschrijving van de gemeente naar de RNI:
** <<Rb01,Rb01>>: Verhuizen PL van gemeente naar RNI
** <<Rv01,Rv01>>: Verwijsgegevens
** <<Rf01,Rf01>>: Fout: de ontvangen PL kan niet worden opgenomen
** <<Rf31,Rf31>>: Fout: de verwijsgegevens zijn niet correct

* Berichten in verband met de vervolginschrijving van de RNI naar de gemeente:
** <<Ji01,Ji01>>: Initiatie verhuizing PL van RNI naar gemeente
** <<Jb01,Jb01>>: Verhuizen PL van RNI naar gemeente
** <<Jv01,Jv01>>: Verwijsgegevens
** <<Jf01,Jf01>>: Fout: PL niet te verzenden
** <<Jf21,Jf21>>: Fout: de ontvangen PL is niet de aangevraagde
** <<Jf31,Jf31>>: Fout: de verwijsgegevens zijn niet correct

* Berichten in verband met een toevallige geboorte:
** <<Tb01,Tb01>>: Toevallige geboorte
** <<Tv01,Tv01>>: Verwijsgegevens
** <<Tf01,Tf01>>: Fout: persoon niet in te schrijven
** <<Tf11,Tf11>>: Fout: de verwijsgegevens zijn niet correct

* Berichten in verband met een toevallige gebeurtenis:
** <<Tb02,Tb02>>: Toevallige gebeurtenis
** <<Tf21,Tf21>>: Fout: gebeurtenisgegevens niet te verwerken

* Berichten in verband met het opnemen van verwijsgegevens:
** <<Iv11,Iv11>>: Verwijsgegevens
** <<Iv21,Iv21>>: Verificatie verwijsgegevens
** <<If41,If41>>: Fout: verwijsgegevens kunnen niet worden opgenomen

* Berichten in verband met wijzigen A‑nummer in de verwijsgegevens bij gemeenten en bij de RNI:
** <<Wa01,Wa01>>: Wijziging A‑nummer
** <<Wf01,Wf01>>: Fout: A‑nummerwijziging niet te verwerken

* Berichten in verband met verblijfstitel:
** <<Og11,Og11>>: Opnemen gegevens verblijfstitel
** <<Of11,Of11>>: Fout: opnemen/wijzigen verblijfstitel niet mogelijk

====== Berichten ten behoeve van het synchroniseren van de persoonsgegevens met BRP-V

* Berichten in verband met synchronisatie met BRP-V:
** <<Lg01,Lg01>>: Synchronisatiebericht
** <<Lq01,Lq01>>: Synchronisatievraag
** <<La01,La01>>: Synchronisatieantwoord
** <<Lf01,Lf01>>: Fout: synchronisatievraag niet te beantwoorden

* Berichten in verband met synchroniciteitsselecties:
** <<Lg01,Lg01>>: Synchronisatiebericht

====== Webservices in verband met bevragen door gemeenten en de RNI van de BvBSN:

* <<_webservice_aanvragen_bsn_voorraad_bij_bvbsn,GenereerDistribueerNr>>: Opvragen BSN-nummervoorraad
* <<_webservice_presentievraag_aan_bvbsn,MatchIdenGeg>>: Presentievraag

====== Webservices in verband met het bevragen door gemeenten en RNI van BRP-V:

* <<_opvragen_persoonslijst_bij_brp_verstrekkingen,VraagPL>>: Geeft de volledige persoonslijst terug inclusief onjuiste historie
* <<_opvragen_afnemersindicaties,VraagAI>>: Geeft alle afnemersinidicaties die bij een specifieke persoonslijst staan
* <<_controleren_pl,ControleerPL>>: Controleert de opgestuurde persoonslijst (functie van de webservice StuurGBAbericht)

====== Webservices en API's in verband met het aanvragen van een voorraad A-nummers door gemeenten, RNI, de Landen en eilanden van het Caribisch gebied of beheerders van BRP-V bij BRP-V:

* <<_aanvragen_a_nummervoorraad_bij_brp_verstrekkingen_via_webservice,VraagVoorraadAnrs>>: Webservice die het gevraagde aantal A-nummers verstrekt
* <<_aanvragen_a_nummervoorraad_bij_brp_verstrekkingen_via_api,A-Nummer>>: API die het gevraagde aantal A-nummers verstrekt

====== Webservices in verband met het indienen van verzoeken door ABO's bij de RNI:

* <<_indienen_verzoek_abo_aan_rni,DeelnemerOpgave>>: ABO verzoekt om een inschrijving, wijziging, verificatie of
stuurt een aanvullend brondocument op
* <<_beantwoorden_verzoek_abo_door_rni,OpgaveResultaat>>: RNI stuurt het inhoudelijke resultaat op een DeelnemerOpgave terug
* <<_statusverzoeken_abo_opvragen_aan_rni,DeelnemerAanvraag>>: ABO verzoekt om statusinformatie van een of meer ingediende DeelnemerOpgaven

===== Berichten ten behoeve van de gegevensverstrekkingen

====== Berichten ten behoeve van spontane gegevensverstrekkingen aan afnemers
* Berichten in verband met spontane gegevensverstrekkingen als gevolg van afnemers­indicaties op persoonslijsten:
** <<Gv01,Gv01>>: Spontane mutatie
** <<Gv02,Gv02>>: Spontane mutatie: infrastructurele wijziging
** <<Wa11,Wa11>>: Wijziging A‑nummer ten behoeve van afnemers
** <<Ng01,Ng01>>: Afvoeren PL
** <<Ag11,Ag11>>: Vulbericht
** <<Ag21,Ag21>>: Conditionele gegevensverstrekking
** <<Ag31,Ag31>>: Foutherstelbericht

====== Berichten ten behoeve van selectieverstrekkingen aan afnemers
* Berichten in verband met selecties:
** <<Sv01,Sv01>>: Selectieverstrekking
** <<Sv11,Sv11>>: Niemand geselecteerd

====== Berichten ten behoeve van ad hoc bevraging door afnemers
* Berichten in verband met ad hoc vragen:
** <<Hq01,Hq01>>: Ad hoc vraag
** <<Ha01,Ha01>>: Ad hoc antwoord
** <<Hf01,Hf01>>: Fout: ad hoc vraag niet te beantwoorden

* Berichten in verband met ad hoc adresvragen:
** <<Xq01,Xq01>>: Ad hoc adresvraag
** <<Xa01,Xa01>>: Ad hoc adresantwoord
** <<Xf01,Xf01>>: Fout: ad hoc adresvraag niet te beantwoorden

====== Berichten ten behoeve van het plaatsen en verwijderen van afnemersindicaties door afnemers
* Berichten in verband met het muteren van afnemersindicaties op persoonslijsten:
** <<Ap01,Ap01>>: Plaatsen afnemersindicatie op persoonslijst
** <<Ag01,Ag01>>: Gegevensverstrekking als gevolg van ad hoc plaatsing afnemersindicatie op persoonslijst
** <<Af01,Af01>>: Fout: plaatsen afnemersindicatie op persoonslijst onmogelijk
** <<Av01,Av01>>: Verwijderen afnemersindicatie van persoonslijst
** <<Af11,Af11>>: Fout: verwijderen afnemersindicatie van persoonslijst onmogelijk

====== Webservices ten behoeve van ad hoc bevraging door afnemers
* Webservice in verband met het bevragen door afnemers van BRP-V:
** <<AdHocAdresVraagViaWebservice,Vraag>>: Afnemer stelt een ad hoc (adres)vraag aan BRP-V

====== Webservices ten behoeve van de afhandeling van berichtenverkeer
* Webservices in verband met het afhandelen van het berichtendienstverkeer via BRP-V:
** <<_berichtenverkeer_via_de_webservice_stuurgbabericht,StuurGBAbericht>>: Berichtendienstgebruiker handelt berichtenverkeer af met SummarizeMessages, ListMessages, GetMessage en PutMessage

====== API's ten behoeve van ad hoc bevraging door afnemers
* API's in verband met het bevragen door afnemers van BRP-V:
** BRP Aantal bewoners API
*** <<_brp_aantal_bewoners_api,/aantalbewoners>> +
API in het kader van het Experimentbesluit bijhouding BRP, alleen te gebruiken door MijnOverheid (Logius).
** BRP API
*** <<_brp_api_bewoning,/bewoningen>> +
Endpoint in het kader van het Experimentbesluit dataminimalisatie BRP, alleen te gebruiken door deelnemers aan het experiment: zoek bewoningen door een adresseerbaarObjectIdentificatie op te geven, samen met een peildatum of periode.
*** <<_brp_api_personen,/personen>> +
Endpoint in het kader van het Experimentbesluit dataminimalisatie BRP, alleen te gebruiken door deelnemers aan het experiment: zoek personen met één van de onderstaande verplichte combinaties van parameters en vul ze evt. aan met optionele parameters.
[disc]
**** Raadpleeg met burgerservicenummer
**** Zoek met adresseerbaar object identificatie
**** Zoek met geslachtsnaam en geboortedatum
**** Zoek met geslachtsnaam, voornamen en gemeente van inschrijving
**** Zoek met nummeraanduiding identificatie
**** Zoek met postcode en huisnummer
**** Zoek met straat, huisnummer en gemeente van inschrijving
*** <<_brp_api_reisdocumenten,/reisdocumenten>> +
Endpoint in het kader van het Experimentbesluit dataminimalisatie BRP, alleen te gebruiken door deelnemers aan het experiment: raadpleeg een reisdocument door een reisdocumentnummer op te geven, of zoek reisdocumenten van een persoon door het burgerservicenummer op te geven.
*** <<_brp_api_verblijfplaatshistorie,/verblijfplaatshistorie>> +
Endpoint in het kader van het experimentbesluit dataminimalisatie BRP, alleen te gebruiken door deelnemers aan het experiment: zoek de verblijfplaatshistorie van een persoon op de opgegeven peildatum of binnen de opgegeven periode.
* API's in verband met het opvragen van het protocolleringsoverzicht door MijnOverheid:
** BRP Protocolleringsoverzicht API
*** <<_brp_protocolleringsoverzicht_api,/protocolleringsoverzicht>> +
API waarmee MijnOverheid een protocolleringsoverzicht over een bepaalde periode kan opvragen voor een burger, bij de POM. Het protocolleringsoverzicht wordt in de MijnOverheid Berichtenbox van de burger geplaatst.


===== Overige berichten

* Berichten in verband met het onderhoud van de autorisatietabel:
** <<Ct01,Ct01>>: Toevoegen tabelregel aan Autorisatietabel
** <<Cw01,Cw01>>: Wijzigen tabelregel in Autorisatietabel
** <<Cb01,Cb01>>: Beëindigen tabelregel in Autorisatietabel

* Berichten in verband met het onderhoud van de overige landelijke tabellen:
** <<Dt01,Dt01>>: Toevoegen tabelregel
** <<Dw01,Dw01>>: Wijzigen tabelregel

* API's in verband met het bevragen van de landelijke tabellen:
** BRP Tabellen API
*** <<_brp_tabellen_api,/tabellen>> +
API waarmee de inhoud van een landelijke tabel, of een bepaalde selectie van tabelregels uit die tabel kan worden opgevraagd.

* Berichten om niet voorziene fouten in ontvangen berichten te melden:
** <<Pf01,Pf01>>: Fout: cyclus
** <<Pf02,Pf02>>: Fout: syntax
** <<Pf03,Pf03>>: Fout: inhoudelijk

* Bericht, vergelijkbaar met een mededeling op papier en als zodanig te gebruiken:
** <<Vb01,Vb01>>: Vrij bericht
** <<Vb02,Vb02>>: Vrij bericht via webservice

* Bericht om de verwerking van bepaalde gegevens te bevestigen:
** <<Null,Null>>: Verwerkbevestiging (Null-bericht)

==== Tekenset

===== Inleiding

In het BRP-stelsel wordt één tekenset gebruikt (Teletex), in twee verschillende coderingen, namelijk Teletex en UTF-8. Bij de ontwikkeling van het BRP-stelsel is gekozen voor de Teletex-standaard. Het berichtenverkeer via de mailboxserver wordt geheel in deze codering uitgevoerd.

Inmiddels zijn er andere standaards in de ICT. UTF-8 is een veel gebruikte standaard, die ook in de webservices en API's van BRP-V wordt gebruikt. Daarbij geldt wel dezelfde maximale subset van tekens, zoals in de Teletex-codering is aangegeven.

De Teletex standaard is gebaseerd op CCITT-aanbeveling Rec. T.61footnote:[CCITT aanbeveling T.61 Teletex character repertoire, 1984.]. Voor een volledige beschrijving van de Teletex standaard wordt verwezen naar dat document. Deze paragraaf bevat een uittreksel daaruit.

Om de binnen Teletex gedefinieerde karakters in een geautomatiseerd systeem te kunnen weergeven maakt Teletex gebruik van de hexadecimale, 8 bits codering. <<_overzicht_van_alle_teletex_tekens>> bevat een volledig overzicht van alle karakters die binnen Teletex voorkomen. Met behulp van de regel- en kolomaanduidingen op de rand van de tabel kan de hexadecimale Teletex-codering worden vastgesteld. Dit werkt als volgt: zoek het te coderen karakter op in de tabel. Neem de hexadecimale codering zoals die boven dit karakter staat, gevolgd door de hexadecimale codering zoals die links van het karakter staat. De zo verkregen hexadecimale codering is de unieke Teletex-codering. Voorbeeld: de hoofdletter E wordt gecodeerd als 45.

In <<_overzicht_van_de_te_gebruiken_teletex_tekens>> wordt een overzicht gegeven van die tekens uit de Teletex-tekenset die binnen het BRP-systeem gebruikt mogen worden. Niet opgenomen tekens mogen niet gebruikt worden. Dat betreft onder andere de Hollandse IJ (codes E6 en F6). Voor de diakritische karakters (codes C0 t/m CF) geldt dat die slechts mogen voorkomen in combinatie met een ander karakter.

Tekens waarbij een diakriet voorkomt, worden als volgt gecodeerd: allereerst wordt de diakriet gecodeerd en direct daarachter het karakter dat de diakriet bevat. In <<_overzicht_van_de_te_gebruiken_gecombineerde_teletex_tekens>> staat een overzicht van alle combinaties van letters en diakrieten die binnen het BRP-systeem gebruikt mogen worden. Niet opgenomen combinaties mogen niet gebruikt worden.

In <<_overzicht_van_de_te_gebruiken_teletex_besturingstekens>> wordt een overzicht gegeven van de in de Teletex-tekenset gedefinieerde besturingskarakters die binnen het BRP-systeem gebruikt mogen worden.

Omdat binnen de BRP steeds meer uitwisseling via webservices en API's plaatsvindt en binnen webservices en API's de afspraak is om te coderen op basis van de UTF-8-standaard, is in de tabellen in <<_overzicht_van_de_te_gebruiken_teletex_tekens>> en <<_overzicht_van_de_te_gebruiken_gecombineerde_teletex_tekens>> tevens een kolom toegevoegd met de UTF-8-codering voor de Teletex-tekens die binnen de BRP mogen worden gebruikt. Merk op dat andere UTF-coderingen dan die in <<_overzicht_van_de_te_gebruiken_teletex_tekens>> en <<_overzicht_van_de_te_gebruiken_gecombineerde_teletex_tekens>> zijn opgenomen, niet mogen worden gebruikt.

===== Overzicht van alle Teletex-tekens

.Toegestane tekens
[.center,width="80%",cols="5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%",]
|===
| |0 |1 |2 |3 |4 |5 |6 |7 |8 |9 |A |B |C |D |E |F
|0 | | |SP |0 |@ |P | |p | | | |° | | |Ω |ĸ
|1 | | |! |1 |A |Q |a |q | | |¡ |± |++'++ | |Æ |æ
|2 | | |" |2 |B |R |b |r | | |¢ |2 |´ | |Đ |đ
|3 | | | |3 |C |S |c |s | | |£ |3 |ˆ | |ª |ð
|4 | | | |4 |D |T |d |t | | |$ |× |˜ | |Ħ |ħ
|5 | | |% |5 |E |U |e |u | | |¥ |µ |¯ | | |ı
|6 | | |& |6 |F |V |f |v | | |# |¶ |˘ | |Ĳ |ĳ
|7 | | |' |7 |G |W |g |w | | |§ |· |˙ | |Ŀ |ŀ
|8 | | |( |8 |H |X |h |x | | |¤ |÷ |¨ | |Ł |ł
|9 | | |) |9 |I |Y |i |y | | | | | | |Ø |ø
|A | | |++*++ |: |J |Z |j |z | | | | |˚ | |Œ |œ
|B | | |{plus} |; |K |++[++ |k | | | |« |» |¸ | |º |ß
|C | | |, |++<++ |L | |l |{vbar} | | | |¼ |~-~ | |Þ |þ
|D | | |- |= |M |++]++ |m | | | | |½ |˝ | |Ŧ |ŧ
|E | | |. |++>++ |N | |n | | | | |¾ |˛ | |Ŋ |ŋ
|F | | |/ |? |O |++_++ |o | | | | |¿ |ˇ | |ŉ |
|===

===== Overzicht van de te gebruiken Teletex-tekens

In deze paragraaf zijn alle tekens uit de Teletex-tekenset opgesomd die als teken binnen het BRP-systeem gebruikt mogen worden.

.Overzicht te gebruiken Teletex-tekens
[width="100%",cols="7%,12%,7%,24%,7%,12%,7%,24%",options="header",]
|===
|T.61 |UTF-8 |Char |Omschrijving |T.61 |UTF-8 |Char |Omschrijving
|20 |20 |SP |Space |39 |39 |9 |Digit 9
|21 |21 |! |Exclamation mark |3A |3A |: |Colon
|22 |22 |" |Quotation mark |3B |3B |; |Semicolon
|25 |25 |% |Procent sign |3C |3C |++<++ |Less-than sign
|26 |26 |& |Ampersand |3D |3D |= |Equals sign
|27 |27 |' |Apostrophe |3E |3E |++>++ |Greater-than sign
|28 |28 |( |Left parenthesis |3F |3F |? |Question mark
|29 |29 |) |Right parenthesis |40 |40 |@ |Commercial at
|2A |2A |++*++ |Asterisk |41 |41 |A |Capital A
|2B |2B |{plus} |Plus sign |42 |42 |B |Capital B
|2C |2C |, |Comma |43 |43 |C |Capital C
|2D |2D |- |Hyphen or minus sign |44 |44 |D |Capital D
|2E |2E |. |Full stop, period |45 |45 |E |Capital E
|2F |2F |/ |Solidus |46 |46 |F |Capital F
|30 |30 |0 |Digit 0 |47 |47 |G |Capital G
|31 |31 |1 |Digit 1 |48 |48 |H |Capital H
|32 |32 |2 |Digit 2 |49 |49 |I |Capital I
|33 |33 |3 |Digit 3 |4A |4A |J |Capital J
|34 |34 |4 |Digit 4 |4B |4B |K |Capital K
|35 |35 |5 |Digit 5 |4C |4C |L |Capital L
|36 |36 |6 |Digit 6 |4D |4D |M |Capital M
|37 |37 |7 |Digit 7 |4E |4E |N |Capital N
|38 |38 |8 |Digit 8 |4F |4F |O |Capital O
|50 |50 |P |Capital P |68 |68 |h |Small h
|51 |51 |Q |Capital Q |69 |69 |i |Small i
|52 |52 |R |Capital R |6A |6A |j |Small j
|53 |53 |S |Capital S |6B |6B |k |Small k
|54 |54 |T |Capital T |6C |6C |l |Small l
|55 |55 |U |Capital U |6D |6D |m |Small m
|56 |56 |V |Capital V |6E |6E |n |Small n
|57 |57 |W |Capital W |6F |6F |o |Small o
|58 |58 |X |Capital X |70 |70 |p |Small p
|59 |59 |Y |Capital Y |71 |71 |q |Small q
|5A |5A |Z |Capital Z |72 |72 |r |Small r
|5B |5B |++[++ |Left square bracket |73 |73 |s |Small s
|5D |5D |++]++ |Right square bracket |74 |74 |t |Small t
|5F |5F |++_++ |Low line |75 |75 |u |Small u
|61 |61 |a |Small a |76 |76 |v |Small v
|62 |62 |b |Small b |77 |77 |w |Small w
|63 |63 |c |Small c |78 |78 |x |Small x
|64 |64 |d |Small d |79 |79 |y |Small y
|65 |65 |e |Small e |7A |7A |z |Small z
|66 |66 |f |Small f |7C |7C |{vbar} |Vertical Bar
|67 |67 |g |Small g | | | |
|A1 |C2 A1 |¡ |Inverted exclamation mark |E3 |C2 AA |ª |Ordinal indicator, feminine
|A2 |C2 A2 |¢ |Cent sign |E4 |C4 A6 |Ħ |Capital H with stroke
|A3 |C2 A3 |£ |Pound sign |E7 |C4 BF |Ŀ |Capital L with middle dot
|A4 |24 |$ |Dollar sign |E8 |C5 81 |Ł |Capital L with stroke
|A5 |C2 A5 |¥ |Yen sign |E9 |C3 98 |Ø |Capital O with slash
|A6 |23 |# |Number sign |EA |C5 92 |Œ |Capital OE ligature
|A7 |C2 A7 |§ |Section sign |EB |C2 BA |º |Ordinal indicator, masculine
|A8 |C2 A4 |¤ |Currency symbol |EC |C3 9E |Þ |Capital thorn, Icelandic
|AB |C2 AB |« |Angle quotation mark left |ED |C5 A6 |Ŧ |Capital T with stroke
|B0 |C2 B0 |° |Degree sign |EE |C5 8A |Ŋ |Capital eng, Lapp
|B1 |C2 B1 |± |Plus/minus sign |EF |C5 89 |ŉ |Small n with apostrophe
|B2 |C2 B2 |² |Superscript 2 |F0 |C4 B8 |ĸ |Small k, Greenlandic
|B3 |C2 B3 |³ |Superscript 3 |F1 |C3 A6 |æ |Small ae, diphtong
|B4 |C3 97 |× |Multiply sign |F2 |C4 91 |đ |Small d with stroke
|B5 |C2 B5 |µ |Micro sign |F3 |C3 B0 |ð |Small eth, Icelandic
|B6 |C2 B6 |¶ |Paragraph sign |F4 |C4 A7 |ħ |Small h with stroke
|B7 |C2 B7 |· |Middle dot |F5 |C4 B1 |ı |Small i without dot
|B8 |C3 B7 |÷ |Divide sign |F7 |C5 80 |ŀ |Small l with middle dot
|BB |C2 BB |» |Angle quotation mark right |F8 |C5 82 |ł |Small l with stroke
|BC |C2 BC |¼ |Fraction one quarter |F9 |C3 B8 |ø |Small o with slash
|BD |C2 BD |½ |Fraction one half |FA |C5 93 |œ |Small oe ligature
|BE |C2 BE |¾ |Fraction three quarters |FB |C3 9F |ß |Small sharp s, German
|BF |C2 BF |¿ |Inverted question mark |FC |C3 BE |þ |Small thorn, Icelandic
|E0 |E2 84 A6 |Ω |Ohm sign |FD |C5 A7 |ŧ |Small t with stroke
|E1 |C3 86 |Æ |Capital AE diphtong |FE |C5 8B |ŋ |Small eng, Lapp
|E2 |C4 90 |Đ |Capital D with stroke | | | |
|===

===== Overzicht van de te gebruiken gecombineerde Teletex-tekens

In deze paragraaf zijn alle gecombineerde tekens uit de Teletex-tekenset opgesomd die als teken binnen het BRP-systeem gebruikt mogen worden.

.Overzicht gecombineerde Teletex-tekens
[.center,width="80%",cols="10%,10%,10%,10%,10%,10%,40%",options="header",]
|===
|T.61 |UTF-8 |Char |T.61 |UTF-8 |Char |Naam
|C1 41 |C3 80 |À |C1 61 |C3 A0 |à |A grave
|C2 41 |C3 81 |Á |C2 61 |C3 A1 |á |A acute
|C3 41 |C3 82 |Â |C3 61 |C3 A2 |â |A circumflex
|C4 41 |C3 83 |Ã |C4 61 |C3 A3 |ã |A tilde
|C5 41 |C4 80 |Ā |C5 61 |C4 81 |ā |A macron
|C6 41 |C4 82 |Ă |C6 61 |C4 83 |ă |A breve
|C8 41 |C3 84 |Ä |C8 61 |C3 A4 |ä |A diaeresis
|CA 41 |C3 85 |Å |CA 61 |C3 A5 |å |A ring
|CE 41 |C4 84 |Ą |CE 61 |C4 85 |ą |A ogonek
|C2 43 |C4 86 |Ć |C2 63 |C4 87 |ć |C acute
|C3 43 |C4 88 |Ĉ |C3 63 |C4 89 |ĉ |C circumflex
|C7 43 |C4 8A |Ċ |C7 63 |C4 8B |ċ |C dot
|CB 43 |C3 87 |Ç |CB 63 |C3 A7 |ç |C cedilla
|CF 43 |C4 8C |Č |CF 63 |C4 8D |č |C caron
|CF 44 |C4 8E |Ď |CF 64 |C4 8F |ď |D caron
|C1 45 |C3 88 |È |C1 65 |C3 A8 |è |E grave
|C2 45 |C3 89 |É |C2 65 |C3 A9 |é |E acute
|C3 45 |C3 8A |Ê |C3 65 |C3 AA |ê |E circumflex
|C5 45 |C4 92 |Ē |C5 65 |C4 93 |ē |E macron
|C7 45 |C4 96 |Ė |C7 65 |C4 97 |ė |E dot
|C8 45 |C3 8B |Ë |C8 65 |C3 AB |ë |E diaeresis
|CE 45 |C4 98 |Ę |CE 65 |C4 99 |ę |E ogonek
|CF 45 |C4 9A |Ě |CF 65 |C4 9B |ě |E caron
| | | |C2 67 |C4 A3 |ģ |G cedilla
|C3 47 |C4 9C |Ĝ |C3 67 |C4 9D |ĝ |G circumflex
|C6 47 |C4 9E |Ğ |C6 67 |C4 9F |ğ |G breve
|C7 47 |C4 A0 |Ġ |C7 67 |C4 A1 |ġ |G dot
|CB 47 |C4 A2 |Ģ | | | |G cedilla
|C3 48 |C4 A4 |Ĥ |C3 68 |C4 A5 |ĥ |H circumflex
|C1 49 |C3 8C |Ì |C1 69 |C3 AC |ì |I grave
|C2 49 |C3 8D |Í |C2 69 |C3 AD |í |I acute
|C3 49 |C3 8E |Î |C3 69 |C3 AE |î |I circumflex
|C4 49 |C4 A8 |Ĩ |C4 69 |C4 A9 |ĩ |I tilde
|C5 49 |C4 AA |Ī |C5 69 |C4 AB |ī |I macron
|C7 49 |C4 B0 |İ | | | |I dot
|C8 49 |C3 8F |Ï |C8 69 |C3 AF |ï |I diaeresis
|CE 49 |C4 AE |Į |CE 69 |C4 AF |į |I ogonek
|C3 4A |C4 B4 |Ĵ |C3 6A |C4 B5 |ĵ |J circumflex
|CB 4B |C4 B6 |Ķ |CB 6B |C4 B7 |ķ |K cedilla
|C2 4C |C4 B9 |Ĺ |C2 6C |C4 BA |ĺ |L acute
|CB 4C |C4 BB |Ļ |CB 6C |C4 BC |ļ |L cedilla
|CF 4C |C4 BD |Ľ |CF 6C |C4 BE |ľ |L caron
|C2 4E |C5 83 |Ń |C2 6E |C5 84 |ń |N acute
|C4 4E |C3 91 |Ñ |C4 6E |C3 B1 |ñ |N tilde
|CB 4E |C5 85 |Ņ |CB 6E |C5 86 |ņ |N cedilla
|CF 4E |C5 87 |Ň |CF 6E |C5 88 |ň |N caron
|C1 4F |C3 92 |Ò |C1 6F |C3 B2 |ò |O grave
|C2 4F |C3 93 |Ó |C2 6F |C3 B3 |ó |O acute
|C3 4F |C3 94 |Ô |C3 6F |C3 B4 |ô |O circumflex
|C4 4F |C3 95 |Õ |C4 6F |C3 B5 |õ |O tilde
|C5 4F |C5 8C |Ō |C5 6F |C5 8D |ō |O macron
|C8 4F |C3 96 |Ö |C8 6F |C3 B6 |ö |O diaeresis
|CD 4F |C5 90 |Ő |CD 6F |C5 91 |ő |O double acute
|C2 52 |C5 94 |Ŕ |C2 72 |C5 95 |ŕ |R acute
|CB 52 |C5 96 |Ŗ |CB 72 |C5 97 |ŗ |R cedilla
|CF 52 |C5 98 |Ř |CF 72 |C5 99 |ř |R caron
|C2 53 |C5 9A |Ś |C2 73 |C5 9B |ś |S acute
|C3 53 |C5 9C |Ŝ |C3 73 |C5 9D |ŝ |S circumflex
|CB 53 |C5 9E |Ş |CB 73 |C5 9F |ş |S cedilla
|CF 53 |C5 A0 |Š |CF 73 |C5 A1 |š |S caron
|CB 54 |C5 A2 |Ţ |CB 74 |C5 A3 |ţ |T cedilla
|CF 54 |C5 A4 |Ť |CF 74 |C5 A5 |ť |T caron
|C1 55 |C3 99 |Ù |C1 75 |C3 B9 |ù |U grave
|C2 55 |C3 9A |Ú |C2 75 |C3 BA |ú |U acute
|C3 55 |C3 9B |Û |C3 75 |C3 BB |û |U circumflex
|C4 55 |C5 A8 |Ũ |C4 75 |C5 A9 |ũ |U tilde
|C5 55 |C5 AA |Ū |C5 75 |C5 AB |ū |U macron
|C6 55 |C5 AC |Ŭ |C6 75 |C5 AD |ŭ |U breve
|C8 55 |C3 9C |Ü |C8 75 |C3 BC |ü |U diaeresis
|CA 55 |C5 AE |Ů |CA 75 |C5 AF |ů |U ring
|CD 55 |C5 B0 |Ű |CD 75 |C5 B1 |ű |U double acute
|CE 55 |C5 B2 |Ų |CE 75 |C5 B3 |ų |U ogonek
|C3 57 |C5 B4 |Ŵ |C3 77 |C5 B5 |ŵ |W circumflex
|C2 59 |C3 9D |Ý |C2 79 |C3 BD |ý |Y acute
|C3 59 |C5 B6 |Ŷ |C3 79 |C5 B7 |ŷ |Y circumflex
|C8 59 |C5 B8 |Ÿ |C8 79 |C3 BF |ÿ |Y diaeresis
|C2 5A |C5 B9 |Ź |C2 7A |C5 BA |ź |Z acute
|C7 5A |C5 BB |Ż |C7 7A |C5 BC |ż |Z dot
|CF 5A |C5 BD |Ž |CF 7A |C5 BE |ž |Z caron
|===

===== Overzicht van de te gebruiken Teletex-besturingstekens

In deze paragraaf zijn alle besturingstekens uit de Teletex-tekenset genoemd die als besturingsteken binnen het BRP-systeem gebruikt mogen worden. De codering in UTF-8 is gelijk aan die in Teletex.

.Overzicht Teletex besturingstekens
[.center,width="80%" ,cols="5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%,5%",]
|===
| |0 |1 |2 |3 |4 |5 |6 |7 |8 |9 |A |B |C |D |E |F
|0 | | | | | | | | | | | | | | | |
|1 | | | | | | | | | | | | | | | |
|2 | | | | | | | | | | | | | | | |
|3 | | | | | | | | | | | | | | | |
|4 | | | | | | | | | | | | | | | |
|5 | | | | | | | | | | | | | | | |
|6 | | | | | | | | | | | | | | | |
|7 | | | | | | | | | | | | | | | |
|8 | | | | | | | | | | | | | | | |
|9 | | | | | | | | | | | | | | | |
|A |LF | | | | | | | | | | | | | | |
|B | | | | | | | | | | | | | | | |
|C |FF | | | | | | | | | | | | | | |
|D |CR | | | | | | | | | | | | | | |
|E | | | | | | | | | | | | | | | |
|F | | | | | | | | | | | | | | | |
|===

==== Identificatie

===== Algemeen

Er is pas sprake van een geslaagde identificatie indien slechts één persoon, adres, adresseerbaar object of reisdocument gevonden kan worden, waarbij alle gegevenselementen van de PL voldoen aan de in het bericht opgegeven identificerende gegevens. Zie <<_slim_zoeken>> voor een uitgebreidere beschrijving van mogelijkheden bij de ad hoc (adres)vraag via de Ad hoc webservice om slim te zoeken in de BRP-V. Categorieën die op de persoonslijst voorkomen met daarin element <<e8410,84.10>>, Indicatie onjuist, blijven bij de identificatie buiten beschouwing.

In de meeste gevallen is in de berichtspecificatie opgenomen welke gegevens in een bericht moeten voorkomen als identificerend gegeven. In geval van persoons- of adresidentificatie bij berichten via de berichtendienst gelden de in <<_opbouw_van_de_inhoud_in_tlv_formaat>> en <<_sortering_binnen_de_inhoud>> genoemde regels.

Het feit dat een bepaald element niet op de PL mag voorkomen, kan worden aangegeven door het opgeven van de lengte 0 (nul) voor dat betreffende element. Bij de rubriek die als ingang gebruikt wordt om te identificeren, wordt de lengte 0 niet gebruikt. Voor de aanvullende rubrieken, hieronder vallen ook de andere rubrieken die als ingang gebruikt kunnen worden, mag lengte 0 wel worden gebruikt.

===== Persoonsidentificatie

De in deze paragraaf beschreven wijze van persoonsidentificatie geldt voor de volgende berichten:

* <<Ap01,Ap01>> Plaatsen afnemersindicatie op persoonslijst
* <<Hq01,Hq01>> Ad hoc vraag
* <<Ii01,Ii01>> Initiatie intergemeentelijke verhuizing
* <<Ji01,Ji01>> Initiatie verhuizing PL van RNI naar gemeente
* <<Xq01,Xq01>> Ad hoc adresvraag

Voor het <<Xq01,Xq01>>-bericht geldt slechts hetgeen hierna is vermeld over '_Ingang op actuele gegevens_' en '_Ingang op historische gegevens_'.

====== Ingang op actuele gegevens

Bij een persoonsidentificatie met als ingang actuele gegevens moet minimaal één van de volgende rubrieken worden opgenomen:

* <<e0110,01.01.10>> A‑nummer
* <<e0120,01.01.20>> Burgerservicenummer
* <<e0240,01.02.40>> Geslachtsnaam
* <<e1160,08.11.60>> Postcode

Deze rubrieken kunnen worden aangevuld met alle gegevens die op de PL voorkomen, behalve met element <<e8410,84.10>>, Indicatie onjuist.

====== Ingang op historische gegevens

Bij een persoonsidentificatie met als ingang historische gegevens moet minimaal één van de volgende rubrieken worden opgenomen:

* <<e0110,51.01.10>> A‑nummer
* <<e0120,51.01.20>> Burgerservicenummer
* <<e0240,51.02.40>> Geslachtsnaam

Deze rubrieken kunnen worden aangevuld met alle gegevens die op de PL voorkomen, behalve met element <<e8410,84.10>>, indicatie onjuist.

====== Ingang op verwijsgegevens

Identificatie op verwijsgegevens kan alleen bij vervolginschrijvingen (<<Ii01,Ii01>> en <<Ji01,Ji01>>) en vindt op de volgende manier plaats:

Indien wordt geïdentificeerd op de wijze zoals is beschreven bij de persoonsidentificatie bij de ingang op actuele gegevens (zie hierboven) en in het PL-bestand voldoet geen persoon aan de opgegeven identificatie, dan wordt het zoekproces automatisch voortgezet op de verwijsgegevens. Dit is echter alleen mogelijk indien tenminste het A‑nummer, het burgerservicenummer of de geslachtsnaam van de ingeschrevene is opgenomen binnen de identificerende gegevens.

Bij dit zoeken in de verwijsgegevens worden alleen de identificerende gegevens uit de groepen <<g01,01>>, <<g02,02>> en <<g03,03>> van categorie <<c01-51,01>> (respectievelijk <<c01-51,51>>) betrokken in het zoekproces. De overige verstrekte identificerende gegevens blijven buiten beschouwing. Bij een identificatie met actuele gegevens als ingang, wordt de identificatie voortgezet in de actuele verwijsgegevens. Bij een identificatie met historische gegevens als ingang, wordt de identificatie voortgezet in de historische verwijsgegevens.

Indien in de verwijsgegevens een persoon uniek wordt geïdentificeerd, wordt er altijd een foutbericht verzonden met foutreden "V". In de kop van dat foutbericht wordt in dat geval altijd het A‑nummer van de geselecteerde en de volgende gemeente van inschrijving ofwel, zo dat het geval is, de RNI opgenomen. Deze beide rubrieken (rubriek <<e0110,21.01.10>> en <<e0910,21.09.10>>) moeten worden overgenomen uit de actuele categorie Verwijzing.

===== Adresidentificatie

De in deze paragraaf beschreven wijze van adresidentificatie geldt voor het volgende bericht:

* <<Xq01,Xq01>> Ad hoc adresvraag

Bij een adresidentificatie met het <<Xq01,Xq01>>-bericht moet minimaal één van de volgende rubrieken worden opgenomen:

* <<e1110,08.11.10>> Straatnaam
* <<e1115,08.11.15>> Naam openbare ruimte
* <<e1160,08.11.60>> Postcode
* <<e1180,08.11.80>> Identificatiecode verblijfplaats
* <<e1190,08.11.90>> Identificatiecode nummeraanduiding
* <<e1210,08.12.10>> Locatiebeschrijving

Deze rubrieken kunnen worden aangevuld met ten hoogste de volgende rubrieken:

* <<e1020,08.10.20>> Gemeentedeel
* Alle elementen uit groep <<g11,11>> Adres in categorie <<c08-58,08>> Verblijfplaats.

==== Slim zoeken

Bij het beantwoorden van een vraagbericht vergelijkt BRP-V alle identificerende rubrieken uit de vraag met de gegevenssets in BRP-V. De inhoud van deze rubrieken moet exact overeenkomen met de waarden in de BRP-V. Indien dat niet het geval is, is er geen match.

Naast deze methode van exacte matching, voorziet de ad hoc (adres)vraag via de Ad hoc webservice in mogelijkheden om 'slim' te zoeken. 'Slim' zoeken is op de volgende manieren mogelijk.

. *_Zoeken op een gedeelte van de rubriekwaarde_*
+
_Alleen voor de actuele Voornamen (<<e0210,01.02.10>>) en actuele Geslachtsnaam (<<e0240,01.02.40>>) geldt:_ +
Het sterretje "++*++" (wildcard voor 0 of meer karakters) mag op elke mogelijke positie in de zoekwaarde voorkomen, mits de zoekwaarde daarnaast ten minste één ander alfanumeriek karakter bevat. De zoekwaarde mag ook meerdere sterretjes bevatten, maar alleen als die niet direct naast elkaar staan, worden ze beschouwd als twee wildcards; sterretjes direct naast elkaar tellen als één. +
Met dit gebruik van het sterretje kan ook gezocht worden op voorletters in de actuele rubriek Voornamen (<<e0210,01.02.10>>).
+
_Voor datums geldt:_ +
Met het sterretje "++*++" kan gezocht worden naar een deels bekende datum:
+
--
* Met onbekende maand en dag (maar bekend jaar). De wildcard staat aan het eind van de zoekstring en moet voorafgegaan worden door 4 karakters die het jaartal uitdrukken.
* Met een onbekende dag (maar bekend jaar en maand). De wildcard staat aan het eind van de zoekstring en moet voorafgegaan worden door 6 karakters die jaartal en maand uitdrukken.
--
+
_Voor alle overige rubrieken geldt:_ +
De zoekwaarde eindigt met een sterretje "++*++" (wildcard voor 0 of meer karakters). Alleen de tekens tot aan de wildcard doen mee in het zoekproces. Het sterretje functioneert alleen als wildcard indien het aan het eind van de zoekwaarde staat en niet op eerste positie (dus het sterretje moet voorafgegaan worden door minimaal één ander teken). In alle andere gevallen functioneert het sterretje als een normaal teken.
+
. *_Zoeken zonder onderscheid tussen hoofdletters en kleine letters (case insenstive)_*
+
De zoekwaarde bevat geen hoofdletters. In dat geval zal er onafhankelijk van hoofd- en kleine letters worden gezocht.
+
. *_Zoeken zonder diakritische tekens_*
+
De zoekwaarde bevat geen diakritische tekens. In dat geval wordt er onafhankelijk van diakritische tekens gezocht. Indien er in een zoekwaarde diakritische tekens worden gebruikt, dan wordt precies die waarde gezocht.

[.underline]#Let op#: Een backslash "++\++" schakelt het slim zoeken uit: een zoekwaarde startend met een backslash wordt gezien als een letterlijke zoekwaarde.

Hierna volgt een voorbeeld om een en ander te verduidelijken. De volgende gegevenssets komen (in willekeurige volgorde) voor in BRP-V.

.Voorbeeld gegevensset voor slim zoeken
[.center,width="80%" ,cols="10%,25%,65%",options="header",]
|===
|GS |Geslachtsnaam |Voornamen
|1 |Janse |Hèlen
|2 |Janse |Hendrik
|3 |Janse |Hendrik-Jan
|4 |Janse |Hendrik-jan
|5 |Janse |Hèndrik
|6 |Jansen |Hèlen
|7 |Jansen |Hendrik
|8 |Jansen |Hendrik-Jan
|9 |Jansen |Hendrik-jan
|10 |Jansen |Hèndrik
|11 |Janson |Hèlen
|12 |Janson |Hendrik
|13 |Janson |Hendrik-Jan
|14 |Janson |Hendrik-jan
|15 |Janson |Hèndrik
|16 |Janssen |Hèlen
|17 |Janssen |Hendrik
|18 |Janssen |Hendrik-Jan
|19 |Janssen |Hendrik-jan
|20 |Janssen |Hèndrik
|21 |Welling Jansen |Hendrik
|22 |Johansen |Hendrik
|23 |Jung Hansen |Hendrik
|24 |Jensen |Hendrik
|25 |Jensen |Hendrik Jacob
|26 |Jensen |Hendrik Jacob Pieter
|27 |Jensen |Hendrik Karel Jacob Berend Pieter
|28 |Jensen |Hendrik-Jan Karel
|===

Wanneer deze verzameling wordt doorzocht met de hierna vermelde sets identificerende gegevens, levert dat de volgende zoekresultaten op.

.Resultaat bevraging met slim zoeken
[.center,width="80%" ,cols="20%,20%,60%",options="header",]
|===
|Geslachtsnaam |Voornamen |Zoekresultaat
|Janse |He++*++ |Gegevensset 1 t/m 5
|Janse++*++ |He++*++ |Gegevensset 1 t/m 10
|Jan++*++ |Hendrik |Gegevensset 2, 5, 7, 10, 12, 15, 17, 20
|jans++*++ |he++*++ |Gegevensset 1 t/m 20
|jans++*++ |Hè++*++ |Gegevensset 1, 5, 6, 10, 11, 15, 16, 20
|Jan++*++ |Hendrik-jan |Gegevensset 4, 9, 14, 19
|Jan++*++ |hendrik-jan |Gegevensset 3, 4, 8, 9, 13, 14, 18, 19
|Jan++*++ |++\++hendrik-jan |Geen gegevensset gevonden
|J++*++nsen |Hendrik |Gegevensset 7, 10, 22 t/m 24
|++*++Jansen |Hendrik |Gegevensset 7, 10, 21
|++*++ Jansen |Hendrik |Gegevensset 21
|Jensen |H++*++ |Gegevensset 24 t/m 28
|Jensen |H++*++ J++*++ |Gegevensset 25 t/m 27
|Jensen |H++*++J++*++ |Gegevensset 25 t/m 28
|Jensen |++*++ J++*++ |Gegevensset 25 t/m 27
|Jensen |++*++ J++*++ P++*++ |Gegevensset 26, 27
|Jensen |H++*++ ++*++ |Gegevensset 25 t/m 28
|Jensen |h++*++ k++*++ |Gegevensset 27, 28
|Jensen |H++*++ k++*++ |Geen gegevensset gevonden
|===

==== Berichtenafhandelingssysteem

===== Inleiding

Het berichtenafhandelingssysteem (BAS) vormt de aansluiting tussen het autorisatie- en routeringssysteem en de berichtendienst (via de User Agent, de webservice StuurGBAbericht of de BRP Berichten API) of een alternatief medium. De User Agent is dat deel van het systeem dat zorg draagt voor de communicatie via de mailboxserver. De webservice StuurGBAbericht is een alternatieve koppeling voor de User Agent en is beschreven in <<_berichtenverkeer_via_de_webservice_stuurgbabericht>>. De BRP Berichten API is een API voor asynchroon berichtenverkeer en ondersteunt dezelfde berichten als de User Agent en StuurGBAbericht, maar dan in een ander formaat (JSON). Herhaalberichten (<<_herhaalberichten>>) zijn niet van toepassing voor de webservice StuurGBAbericht en de BRP Berichten API. +

Het BAS heeft de volgende taken:

* Het zorgdragen voor de vertaling van de aangeboden berichten naar berichten die voldoen aan de specificaties zoals die beschreven zijn in paragraaf <<_berichtendienst_turbospd_interface>>, paragraaf <<_berichtenverkeer_via_de_webservice_stuurgbabericht>> of paragraaf <<_berichtuitwisseling_via_de_brp_berichten_api>>.
* Het bijhouden van het berichtenbestand om het verloop van de berichtencycli te bewaken en zo nodig herhaalberichten te versturen dan wel een bericht opnieuw te versturen.
* Het verzenden van de uitgaande berichten met behulp van de User Agent, de webservice StuurGBAbericht of de BRP Berichten API, dan wel het wegschrijven van deze berichten naar een alternatief medium.
* Het ophalen van berichten met behulp van de User Agent, de webservice StuurGBAbericht of de BRP Berichten API, dan wel het inlezen van berichten vanaf een alternatief medium en het aanbieden van deze ingekomen berichten aan de component die bepaalt of de verzender gerechtigd is tot het sturen van het ontvangen bericht.

Middels het BAS wordt een standaardwijze van berichtenafhandeling en onafhankelijkheid van het al of niet beschikbaar zijn van de berichtendienst gegarandeerd.

Dit hoofdstuk beperkt zich tot de bijhouding van het berichtenbestand en de condities waaronder herhaalberichten moeten worden verstuurd. Voor de beschrijving van de communicatie met de webservice StuurGBAbericht wordt de lezer verwezen naar paragraaf <<_berichtenverkeer_via_de_webservice_stuurgbabericht>> en voor de beschrijving van de communicatie met de BRP Berichten API naar paragraaf <<_berichtuitwisseling_via_de_brp_berichten_api>>. Voor de beschrijving van de communicatie met de User Agent en met behulp van alternatieve media, wordt de lezer verwezen naar <<_berichtendienst_turbospd_interface>>.

Alle berichten dienen zowel via de berichtendienst als via alternatief medium te kunnen worden verzonden en ontvangen. Welk medium gebruikt moet worden, is voor het berichtenverkeer tussen BRP-V en afnemers geregeld in tabel <<t59,59>> BRP-deelnemerstabel. Het intergemeentelijke berichtenverkeer dient in principe via de berichtendienst te geschieden. Voor bepaalde, specifieke situaties kan de verantwoordelijk Minister toestemming geven om voor het intergemeentelijke berichtenverkeer gebruik te maken van een alternatief medium.

===== Berichtenbestand

Het berichtenbestand bevat gegevens over _alle_ ingekomen en uitgaande berichten. Het bestand wordt bijgehouden om:

* het verloop van de berichtencycli te bewaken;
* ervoor te zorgen dat berichten die ontvangen zijn via een bepaald medium via hetzelfde medium beantwoord worden;
* herhaalberichten te kunnen versturen (alleen van toepassing op de User Agent).

Om aan de bovenstaande functionaliteit te kunnen voldoen dient het berichtenbestand minimaal de volgende gegevens te bevatten:

[unordered.stack]
*Eigen referentie (EREF)*:: Dit is een uniek referentienummer dat het BAS aan ieder inkomend en uitgaand bericht toekent. Hiermee kunnen de berichten uniek binnen het eigen BAS geïdentificeerd worden. Bij uitgaande berichten via de User Agent of via de webservice StuurGBAbericht wordt dit nummer als MessageId verstuurd. Bij uitgaande berichten via de BRP Berichten API wordt dit nummer als berichtId verstuurd. Bij inkomende berichten wordt dit nummer als uniek referentienummer in het eigen berichtenbestand opgeslagen.
*Binnengekomen referentie (BREF)*:: Bij inkomende berichten via de User Agent of via de webservice StuurGBAbericht is dit de ontvangen MessageId. Bij inkomende berichten via de BRP Berichten API is dit het ontvangen berichtId. Bij uitgaande berichten is dit, indien het uitgaande bericht een vervolg is op een ontvangen bericht, de MessageId dan wel het berichtId van dat ontvangen bericht. In uitgaande berichten via de User Agent of de webservice StuurGBAbericht wordt het veld dan als CrossReference opgegeven; in uitgaande berichten via de BRP Berichten API heet het verwijzingBerichtId.
*Eigen referentie 2 (EREF2)*:: Dit veld dient om de unieke verwijzing binnen het eigen berichtenbestand te kunnen leggen naar het bericht waar een inkomend of uitgaand bericht een antwoord op is. Bij inkomende berichten via de User Agent of via de webservice StuurGBAbericht wordt hierin de ontvangen CrossReference opgeslagen. Bij inkomende berichten via de BRP Berichten API wordt hierin de ontvangen verwijzingBerichtId opgeslagen. Bij uitgaande berichten is dit de toegekende eigen referentie van het ontvangen bericht waar het bericht een antwoord op is. De eigen referentie 2 van een bericht is altijd gelijk aan de eigen referentie van het voorafgaande bericht in de cyclus. Indien er geen voorgaand bericht is, wordt eigen referentie 2 niet ingevuld.
*Dispatch sequence number*:: Nummer dat door de mailboxserver onder de zelfde naam wordt toegekend aan een verzonden bericht. In de BRP Berichten API heet dit het berichtVolgnummer. Dit nummer is nodig om terugmeldingen van de mailboxserver of de BRP Berichten API zelf aan het verzonden bericht te kunnen relateren.
*Herkomst*:: Dit veld wordt gebruikt om aan te geven of het bericht een ontvangen dan wel een verstuurd bericht is.
*Medium*:: Dit veld geeft aan via welk medium (User Agent/webservice StuurGBAbericht/BRP Berichten API) het bericht ontvangen dan wel verstuurd is.
*Tijdstip*:: Bij inkomende berichten wordt hier de DeliveryTime opgenomen; bij uitgaande berichten, de SubmissionTime. Bij berichten die zijn ingelezen van of weggeschreven naar een alternatief medium wordt hier het tijdstip opgenomen waarop de berichten ingelezen dan wel weggeschreven zijn. Onder het tijdstip wordt verstaan: het jaar, de maand, de dag, het uur en de minuut.
*Status*:: Met behulp van dit veld wordt aangegeven of berichten, waarop een vervolgbericht verstuurd of ontvangen moet worden, afgehandeld zijn. Dit geldt zowel voor inkomende als uitgaande berichten.
*Bericht*:: Gegevens aan de hand waarvan het bericht gereproduceerd kan worden.

Aan de tijd benodigd voor het verwerken van een bericht en het versturen van een antwoord zijn eisen gesteld. Controle op deze eisen is alleen in het BAS mogelijk omdat het BAS het berichtenbestand beheert.

===== Herhaalberichten

====== Versturen van herhaalberichten via de User Agent

Het BAS stuurt alleen via de User Agent herhaalberichten en wel in de volgende drie situaties:

. De aflevering van het verzonden bericht is mislukt. Deze NonDelivery wordt gemeld door middel van een DeliveryReport. +
De reden voor het versturen van een DeliveryReport moet onderzocht worden om te beslissen of er een herhaalbericht verstuurd kan worden of dat er eerst een andere actie moet plaatsvinden. +
Als een herhaalbericht verstuurd kan worden, dan wordt het eerder verzonden bericht herhaald. Indien het veld Herhaling in de kop van het bericht voorkomt, wordt dit veld niet met 1 opgehoogd.
. Het bericht is het laatste bericht in een cyclus en is wel correct afgeleverd, maar niet op tijd opgehaald. Dit wordt gemeld door middel van een StatusReport. +
Een StatusReport ontvangt de afzender alleen als in het niet op tijd opgehaalde bericht een NonReceiptNotification is aangevraagd. Zo'n aanvraag is verplicht voor berichten waarop geen antwoord meer wordt verwacht (zie <<_verzenden_van_berichten>> en <<_gebruikte_codes>>) en toegestaan, maar niet aanbevolen, voor andere berichten. +
Slechts indien een StatusReport is ontvangen op het laatste bericht in een cyclus, moet het eerder verzonden bericht herhaald worden, waarbij alleen in geval van een <<Iv21,Iv21>>-bericht het veld Herhaling in de kop van het bericht met 1 wordt opgehoogd. In alle andere gevallen komt het veld Herhaling niet voor in de kop van het bericht. +
Indien het bericht om dezelfde reden al eerder herhaald was, dient deze situatie gemeld te worden aan RvIG.
. Het bericht is niet het laatste bericht in een cyclus en is wel correct afgeleverd, maar het vervolgbericht is niet binnen de gestelde termijn ontvangen. +
Het eerder verzonden bericht wordt herhaald waarbij het veld Herhaling in de kop van het bericht met 1 wordt opgehoogd. Een eventueel ontvangen StatusReport wordt genegeerd.

Het volgens bovenstaande procedure versturen van herhaalberichten is niet van toepassing op berichten die via de webservice StuurGBAbericht, de BRP Berichten API of een alternatief medium verstuurd zijn. Betrokken partijen herhalen berichten die via alternatieve media verstrekt zijn alleen na onderling overleg.

====== Reactie op herhaalberichten

Bij ontvangst van een bericht moeten de volgende velden uit het binnengekomen bericht worden vergeleken met de velden uit de berichten in het berichtenbestand:

[loweralpha]
. het MSSequenceNumber
. de afzender
. de B‑REF (binnengekomen referentie)
. het berichtnummer.

Afhankelijk van het resultaat van de vergelijking moet een passende actie plaatsvinden:

. Het MSSequenceNumber, de afzender, de B‑REF en het berichtnummer in het ontvangen bericht zijn gelijk aan dat van een bericht in het berichtenbestand. +
Het MSSequenceNumber is een uniek nummer, dat automatisch wordt toegekend door de mailboxserver. Als dit al voorkomt in het berichtenbestand, dan betekent dit dat hetzelfde bericht tweemaal is opgehaald. Onderzocht moet worden of het bericht al verwerkt en beantwoord is. Zo niet, dan moet één van beide berichten alsnog beantwoord worden. Indien het bericht al beantwoord was, dan moet verdere actie achterwege blijven.
. Het MSSequenceNumber komt reeds voor in het berichtenbestand, maar de combinatie van afzender, B‑REF en berichtnummer stemt niet overeen met de combinatie van die gegevens die bij het betreffende MSSequenceNumber voorkomt in het berichtenbestand. +
Aangezien MSSequenceNumbers uniek horen zijn, duidt dit op een ernstige storing in de mailboxserver. Het verwerken van berichten dient onmiddellijk gestaakt te worden. Het ontvangen van een niet uniek MSSequenceNumber dient ook onmiddellijk gemeld te worden aan RvIG.
. Het MSSequenceNumber komt nog niet voor in het berichtenbestand. Er is wel een bericht in het berichtenbestand met dezelfde B‑REF, die ook van dezelfde afzender afkomstig is, maar het berichtnummer is niet gelijk. +
De binnengekomen referentie is hetzelfde, maar het betreft een ander bericht. RvIG moet hierover worden ingelicht, omdat het verzendende systeem geen unieke E‑REF-nummers gebruikt en daarmee cyclusfouten introduceert.
. Het MSSequenceNumber komt nog niet voor in het berichtenbestand. Er is wel een bericht in het berichtenbestand met dezelfde B‑REF, die ook van dezelfde afzender afkomstig is en ook het berichtnummer is gelijk. +
Mogelijk gaat het hier om een herhaalbericht. De volgende situaties zijn te onderscheiden:
.. Het betreft een bericht, waarin het veld Herhaling voorkomt en de waarde in het veld is ongelijk aan die van het gevonden bericht in het berichtenbestand.
* Als het bericht nog niet beantwoord is, dan moet het binnengekomen bericht beantwoord worden alsof het het eerst ontvangen bericht is. Er moet onderzocht worden, waarom het bericht de eerste keer niet beantwoord is.
* Als het bericht wel beantwoord is en dit antwoord is langer dan twee werkdagen geleden verstuurd, dan moet het antwoordbericht herhaald worden. Daarbij moet het veld Herhaling in de kop van het antwoordbericht met 1 worden opgehoogd.
* Als het bericht wel beantwoord is en dit antwoord is korter dan of precies twee werkdagen geleden verstuurd, dan kan er van uit gegaan worden, dat het antwoordbericht en het herhaalbericht elkaar gekruist hebben. Het herhaalbericht kan in dat geval genegeerd worden.
.. Het betreft een bericht, waarin het veld Herhaling voorkomt en de waarde in het veld is gelijk aan die van het gevonden bericht in het berichtenbestand. Blijkbaar is het bericht twee keer verzonden. Het bericht kan worden beschouwd als niet ontvangen en er wordt verder geen actie ondernomen.
.. Het betreft een bericht waarin het veld Herhaling niet voorkomt. Mogelijk betreft het een herhaling op een bericht dat zelf herhaald is. Dan hebben de berichten elkaar blijkbaar gekruist en kan verdere actie achterwege blijven. Mogelijk is het bericht twee keer verstuurd. Het bericht kan worden beschouwd als niet ontvangen en er wordt verder geen actie ondernomen.
. In alle overige gevallen waarin het MSSequenceNumber nog niet voorkomt in het berichtenbestand gaat het om een nieuw bericht, dat als zodanig moet worden afgehandeld.

Bij ontvangst van een protocolfout of het laatste bericht uit een cyclus, moet altijd de cyclus worden afgesloten. De cyclus mag dan echter nog niet verwijderd worden uit het berichtenbestand. De afgesloten cyclus is nog nodig om bovenstaande controles op het ontvangen van herhaalberichten te kunnen uitvoeren. Het afsluiten van de cyclus betekent wel dat er binnen die cyclus geen nieuwe berichten geïnitieerd mogen worden. +
De cyclus mag vier werkdagen na het versturen c.q. het ontvangen van het laatste bericht verwijderd worden uit het berichtenbestand.

==== Bijzondere aangesloten instanties

Naast afnemersindicaties voor gemeenten en afnemers wordt een aantal bijzondere afnemersindicaties gebruikt in het BRP-stelsel om bijzondere instanties te identificeren. Deze afnemersindicaties staan hieronder opgesomd, met tussen haakjes de berichten die daarbij betrokken zijn:

* 199901 ++[++Registratie Niet-Ingezetenen++]++ +
Mailbox RNI; uitwisseling i.h.k.v. emigraties, (her)vestiging en overlijden van niet-ingezetenen (<<Ji01,Ji01>>, <<Jb01,Jb01>>, <<Jv01,Jv01>>, <<Jf01,Jf01>>, <<Jf21,Jf21>>, <<Jf31,Jf31>>, <<Rb01,Rb01>>, <<Rv01,Rv01>>, <<Rf01,Rf01>>, <<Rf31,Rf31>>, <<Tb01,Tb01>> en <<Tf21,Tf21>>); +
Ook gebruik als 'gemeente'-mailbox voor verwijsgegevens (<<Iv11,Iv11>>, <<Iv21,Iv21>>, <<If41,If41>>) en wijzigen A-nummer (<<Wa01,Wa01>>, <<Wf01,Wf01>>).
* 300002 ++[++PIVA-BRP Koppeling++]++ +
Mailbox PBK-module; uitwisseling in het kader van (her)vestiging van PIVA-ingezetenen in de BRP en vice versa (<<Vb01,Vb01>>).
* 300020 ++[++BRP-V - gemeenten, groep 1++]++ +
300021 ++[++BRP-V - gemeenten, groep 2++]++ +
300022 ++[++BRP-V - gemeenten, groep 3++]++ +
300023 ++[++BRP-V - gemeenten, groep 4++]++ +
300025 ++[++BRP-V - afnemers, groep 1++]++ +
300026 ++[++BRP-V - afnemers, groep 2++]++ +
300027 ++[++BRP-V - RNI++]++) +
Mailboxen BRP-V; uitwisseling van synchronisatieberichten (<<Lg01,Lg01>>, <<Lq01,Lq01>>, <<La01,La01>>, <<Lf01,Lf01>>).
* 300028 ++[++BRP-V - Daft (Data Analyzing Fingerprint Tool)++]++ +
Mailbox Synchroniciteit-Daft; uitwisseling van synchroniciteitsselecties (<<Lg01,Lg01>>).
* 450201 Min van BZK/Logius/Inzage gegevens Basisregistratie Personen via MijnOverheid. +
Ad hoc webservice en VraagAI
* 700302 ++[++Immigratie- en Naturalisatiedienst++]++ +
Mailbox IND; levering van gegevens over het verblijfrecht (<<Og11,Og11>>, <<Of11,Of11>>).
* 999904 ++[++Rijksdienst voor Identiteitsgegevens++]++ +
Mailbox Paspoortregister; versturen van paspoortsignaleringen naar gemeenten (<<Vb01,Vb01>>); +
Mailbox Tabelberichten; uitwisseling van tabelberichten (<<Dt01,Dt01>>, <<Dw01,Dw01>>, <<Ct01,Ct01>>, <<Cw01,Cw01>>, <<Cb01,Cb01>>). De Tabelberichten <<Dt01,Dt01>>, <<Dw01,Dw01>> kunnen worden doorgestuurd via de webservice StuurGBAbericht.

==== Opbouw van de berichtendienst berichten

De BRP-berichten die via de berichtendienst worden verstuurd, zijn opgebouwd uit een kop en een inhoud. In de volgende paragrafen worden de opbouw van de kop en de inhoud nader beschreven.

De inhoud van BRP-berichten is sterk gerelateerd aan de structuur van de BRP-gegevens. De inhoud is opgebouwd uit één of meer rubriekinhouden, voorafgegaan door de identificatie van de desbetreffende categorie of tabel en de respectievelijke elementnummers.

Deze paragraaf bevat een beschrijving van de opbouwmethode van de kop van het bericht en de inhoud ervan. Bij die beschrijving moet onderscheid worden gemaakt tussen de opbouw van berichten die worden uitgewisseld via de mailboxserver en de webservice StuurGBAbericht en tussen berichten die worden uitgewisseld via de BRP Berichten API. In het eerste geval wordt gebruik gemaakt van het zogenaamde TLV-formaat (Tag, Length, Value) en in het tweede geval van een JSON-formaat. In paragraaf <<_berichten>>, <<_berichten_2>> en <<_berichten_3>> is voor ieder bericht afzonderlijk aangegeven welke elementen in de inhoud kunnen voorkomen. Hierbij wordt, indien van toepassing, aangegeven dat lengte 0 (nul) voor de element- en/of categorielengte mag worden gebruikt.

Gezien het grote aantal mogelijkheden in berichtsamenstelling en de variëteit in rubriekdefinities is voor het uitwisselingsformaat gekozen voor een universele en flexibele opbouwmethode.


===== Opbouw van de kop

Er wordt een opsomming gegeven van de velden die in de kop van een BRP-bericht kunnen voorkomen. Bij elk veld wordt beschreven wat dat veld betekent, waarbij ook ingegaan wordt op de waarden die dat veld kan hebben. Daarbij wordt uitgegaan van de waarden die de verzender van een bericht in een gegeven situatie moet opnemen.

De kop bestaat minimaal uit de volgende velden:

[unordered.stack]
*Random key* (8 posities, numeriek, niet van toepassing op berichten via de BRP Berichten API):: Een sleutel waarmee het bericht vercijferd kan worden. +
De standaardwaarde is 00000000.
*Berichtnummer* (4 posities, alfanumeriek, in de BRP Berichten API: berichtType):: Het nummer van het bericht

De kop bestaat dus minimaal uit 12 (= 8{plus}4) posities. De velden worden achter elkaar opgenomen.

Naast de twee bovengenoemde velden kunnen één of meer van de hierna opgesomde velden voorkomen in de kop van een bericht. Deze velden worden achter de bovengenoemde elementen geplaatst, in de volgorde zoals ze ook in de opsomming bij het betreffende bericht zijn opgenomen. Mogelijke overige velden zijn:

[unordered.stack]
*(Nieuw) A‑nummer* (10 posities, numeriek, in de BRP Berichten API: aNummer):: In dit veld wordt het A‑nummer van de persoon opgenomen. +
Bevat de inhoud van het bericht gegevens van een PL, dan wordt hier de inhoud van rubriek <<e0110,01.01.10>> opgenomen. Bevat de inhoud van het bericht gegevens van een verwijzing, dan wordt hier de inhoud van rubriek <<e0110,21.01.10>> opgenomen. Wanneer in de kop van het bericht ook Foutreden voorkomt, dan wordt bij Foutreden "G" (= niet gevonden), "H" (= geheimhouding), "R" (= geen autorisatie), "U" (= niet uniek) of "X" (= niet geautoriseerd) de waarde "0000000000" opgenomen.

*Aantal* (3 posities, numeriek, niet van toepassing op berichten via de BRP Berichten API):: In de berichten van de toevallige gebeurtenis (<<Tb02,Tb02>> en <<Tf21,Tf21>>) bevat dit veld het aantal identificerende rubrieken. +
In Hf01-, Hq01-, Xf01- en Xq01-berichten bevat dit veld het aantal gevraagde rubrieken.

*Adresfunctie* (1 positie, alfanumeriek):: Dit veld komt voor in de ad hoc adresvraag (<<Xq01,Xq01>> en <<Xf01,Xf01>>) en geeft aan of er gegevens van PL'en moeten worden verstrekt, waarvoor geldt dat rubriek <<e1010,08.10.10>>
* de waarde "B" heeft (Adresfunctie heeft de waarde "B") of
* de waarde "W" heeft (Adresfunctie heeft de waarde "W") of
* de waarde "B" of "W" heeft (Adresfunctie heeft de waarde "A").

*Afnemersindicatie* (6 posities, numeriek):: De Afnemersindicatie geeft de afnemersindicatie aan van de te wijzigen of te beëindigen tabelregel uit de autorisatietabel ter identificatie van deze tabelregel.

*Aktenummer* (7 posities, alfanumeriek):: Het aktenummer van de akte, waaraan de gegevens in de inhoud van het bericht (<<Tb01,Tb01>> en <<Tb02,Tb02>>) zijn ontleend.

*Autorisatietabelregel* (variabel aantal posities, alfanumeriek):: Dit veld bevat de toe te voegen of gewijzigde autorisatietabelregel. Het formaat is hieronder beschreven.

*Bericht* (variabel aantal posities, alfanumeriek, in de BRP Berichten API: vrijeTekst):: De eigenlijke tekst van het vrije bericht (<<Vb01,Vb01>> en <<Vb02,Vb02>>).

*Communicatiepartner aan* (7 posities, numeriek, in de BRP Berichten API: communicatiepartnerAan):: De instantie gekoppeld aan de webservice van BRP-V of het mailboxnummer van de instantie waaraan het vrije bericht moet worden gestuurd.

*Communicatiepartner van* (7 posities, numeriek, in de BRP Berichten API: communicatiepartnerVan):: De instantie gekoppeld aan de webservice van BRP-V of het mailboxnummer van de instantie die het vrije bericht heeft verstuurd.

*Datum* (8 posities, numeriek):: Dit veld komt voor in combinatie met het veld Status. Bij een opgeschorte PL wordt hierin de inhoud opgenomen van rubriek <<e6710,07.67.10>> Datum opschorting bijhouding. Bij een actuele PL moet de waarde "00000000" worden opgenomen.

*Datum beëindiging tabelregel* (8 posities, numeriek, in de BRP Berichten API: datumEinde):: Dit veld geeft de op te nemen waarde aan voor datum beëindiging tabelregel in de te wijzigen of te beëindigen tabelregel in de autorisatietabel.

*Datum geldigheid* (8 posities, numeriek, in de BRP Berichten API: datumGeldigheid):: In dit veld wordt de datum geldigheid van een A‑nummerwijziging opgenomen.

*Datum ingang tabelregel* (8 posities, numeriek, in de BRP Berichten API: datumIngang):: De ingangsdatum geldigheid van de te wijzigen of te beëindigen tabelregel uit de autorisatietabel ter identificatie van deze tabelregel.

*Datum/Tijd* (17 posities, numeriek, in de BRP Berichten API: datumTijd):: In het synchronisatiebericht (<<Lg01,Lg01>>) bevat dit veld de datum en tijd waarop het bericht is aangemaakt. De eerste 8 posities bevatten de datum, de laatste negen posities bevatten de tijd in milliseconden (hhmmssμμμ).

*Foutreden* (1 positie, alfanumeriek):: Foutreden geeft aan, dat het voorafgaande bericht uit de cyclus niet op de bedoelde wijze kon worden verwerkt. De waarde van Foutreden geeft aan wat de oorzaak is van het niet op de bedoelde wijze kunnen verwerken van een bericht. Bij de beschrijving van ieder bericht waarin Foutreden voorkomt, is aangegeven wat de mogelijke waarden van Foutreden kunnen zijn.

*Gemeente* (4 posities, numeriek):: Indien van toepassing bevat dit veld de code van de volgende gemeente van inschrijving of de RNI dan wel de code van de gemeente of de RNI waar de gezochte persoon wordt ingeschreven. Anders bevat het veld de standaardwaarde "0000".

*Gevraagde rubrieken* (6 posities numeriek, variabel aantal, in de BRP Berichten API: rubrieken):: De gevraagde rubrieknummers in de ad hoc vraag (<<Hq01,Hq01>> en <<Hf01,Hf01>>) en de ad hoc adresvraag (<<Xq01,Xq01>> en <<Xf01,Xf01>>).

*Gezochte persoon* (1 positie, alfanumeriek, in de BRP Berichten API: gezochtePersoon):: In het bericht van een toevallige geboorte (<<Tb01,Tb01>>) wordt hierin aangegeven naar welke ouder gezocht moet worden. Ouder1 wordt aangegeven met "1", Ouder2 wordt aangegeven met "2".

*Herhaling* (1 positie, numeriek):: De inhoud van dit veld geeft aan of een bericht herhaald verstuurd is en zo ja, hoe vaak. De standaardwaarde voor Herhaling is 0 (nul). In <<_herhaalberichten>> is beschreven hoe dit veld moet worden ingevuld.

*Identificatie* (1 positie, alfanumeriek):: De inhoud van dit veld geeft bij de ad hoc adresvraag (<<Xq01,Xq01>> en <<Xf01,Xf01>>) aan of er sprake is van een identificatie op adres (waarde is "A") of op persoon (waarde is "P").

*Identificerende rubrieken* (6 posities numeriek, variabel aantal, in de BRP Berichten API: rubrieken):: De identificerende rubrieknummers bij de toevallige gebeurtenis (<<Tb02,Tb02>> en <<Tf21,Tf21>>). +
Als het rechtsfeit geen verandering in de persoonsidentificerende gegevens veroorzaakt, dan worden de betreffende rubrieknummers uit de groepen <<g01,01.01>>, <<g02,01.02>>, <<g03,01.03>> en <<g04,01.04>> opgenomen. +
Als het rechtsfeit wel verandering in de persoonsidentificerende gegevens veroorzaakt, dan worden de betreffende rubrieknummers uit de groepen <<g01,01.01>>, <<g02,51.02>>, <<g03,51.03>> en <<g04,51.04>> opgenomen.

*Lengte bericht* (5 posities, numeriek, niet van toepassing op berichten via de BRP Berichten API):: De lengte van de tekst van het vrije bericht (<<Vb01,Vb01>> en <<Vb02,Vb02>>).

*Oud A‑nummer* (10 posities, numeriek, in de BRP Berichten API: oudANummer):: Na een A‑nummerwijziging staat in het betreffende synchronisatiebericht (<<Lg01,Lg01>>) het oude A‑nummer van de persoon in dit veld. De standaardwaarde is "0000000000".

*Status* (1 positie, alfanumeriek):: Hiermee wordt aangegeven wat de status is van de in het bericht verstrekte gegevens. Bij de beschrijving van ieder bericht waarin dit veld voorkomt, is aangegeven wat de mogelijke waarden van Status kunnen zijn. +
De standaardwaarde van Status is "A".

*Te wijzigen tabel* (2 posities, numeriek, in de BRP Berichten API: teWijzigenTabel):: Het nummer van de uit te breiden of te wijzigen tabel ter identificatie van die tabel.

====== De autorisatietabelregel in de kop

Omdat de autorisatietabelregel zich niet leent om in de inhoud van een BRP-bericht verstuurd te worden, wordt het in een vrij veld in de kop van een BRP-bericht verstuurd.

Dit vrije veld is onderverdeeld in acht blokken. Het eerste blok bevat alle elementen die niet meerdere malen in een autorisatietabelregel kunnen voorkomen. De laatste zeven blokken bevatten de elementen die meerdere malen in een autorisatietabelregel kunnen voorkomen.

Per autorisatietabelregel komen altijd alle blokken voor, ook indien een blok geen te verstrekken gegevens bevat. Een blok bevat in zo'n geval geen tekens. De blokken worden gescheiden door het @‑teken (Teletex-code 40).

Hieronder zijn de afzonderlijke blokken beschreven:

[unordered.stack]
*Blok 1*:: Dit blok bevat de elementen van de autorisatietabelregel in volgorde van de tabelbeschrijving in <<_beschrijving_van_de_landelijke_tabellen>>, uitgezonderd de meerdere malen voorkomende elementen. De elementen zijn gescheiden door middel van het scheidingsteken # (Teletex-code A6). Indien in de tabel een element niet voorkomt, komen er tussen twee scheidingstekens geen tekens voor. Na het laatste element volgt direct een @‑teken ter aanduiding van het volgende blok. Als in een veld een @ voorkomt in de voorwaardenregel, dan dient deze te worden voorafgegaan door een escape-karakter. Hiervoor wordt het omgekeerde uitroepteken ¡ (Teletex-code A1) gebruikt

*Blok 2*:: Dit blok komt alleen voor in oude tabelregels en wordt gevolgd door een @‑teken ter aanduiding van het volgende blok.

*Blok 3*:: Dit blok bevat de rubrieknummers uit rubriek <<e9540,35.95.40>> Rubrieknummers spontaan. Deze zijn achter elkaar opgesomd, zonder scheidingstekens. Indien er geen spontaan te verstrekken rubrieken zijn, bevat dit blok geen tekens. Het blok wordt afgesloten met een @‑teken.

*Blok 4*:: Dit blok bevat de rubrieknummers uit rubriek <<e9542,35.95.42>> Sleutelrubriek. Deze zijn achter elkaar opgesomd, zonder scheidingstekens. Indien er geen sleutelrubrieken zijn, bevat dit blok geen tekens. Het blok wordt afgesloten met een @‑teken.

*Blok 5*:: Dit blok bevat de rubrieknummers uit rubriek <<e9550,35.95.50>> Rubrieknummer selectie. Deze zijn achter elkaar opgesomd, zonder scheidingstekens. Indien er geen selectierubrieken zijn, bevat dit blok geen tekens. Het blok wordt afgesloten met een @‑teken.

*Blok 6*:: Dit blok bevat de rubrieknummers uit rubriek <<e9560,35.95.60>> Rubrieknummer ad hoc. Deze zijn achter elkaar opgesomd, zonder scheidingstekens. Indien er geen ad hoc te verstrekken rubrieken zijn, bevat dit blok geen tekens. Het blok wordt afgesloten met een @‑teken.

*Blok 7*:: Dit blok bevat de afnemersindicaties uit rubriek <<e9563,35.95.63>> Afnemersverstrekkingen. Deze zijn achter elkaar opgesomd, zonder scheidingstekens. Indien er geen te verstrekken afnemersindicaties zijn, bevat dit blok geen tekens. Het blok wordt afgesloten met een @-teken.

*Blok 8*:: Dit blok bevat geen tekens.

===== Opbouw van de inhoud in TLV-formaat

Het TLV (Tag, Length, Value) formaat is een manier om de structuur van berichten te coderen door van elk element in het bericht de naam, de lengte en de waarde expliciet op te nemen en die achter elkaar te plaatsen. Door de lengte op te nemen weet een computer bij welke byte het volgende element begint. Alle tekens in een bericht worden gecodeerd volgens de Teletex standaard.

In deze paragraaf worden de volgende afkortingen gehanteerd:

[unordered.stack]
*BL* (Berichtlengte) 5 tekens:: De totale lengte van de inhoud van het bericht, exclusief het veld BL zelf. +
Als er voor een bericht een berichtinhoud gedefinieerd is volgens de beschrijving van dat bericht, dan komt het veld Berichtlengte altijd voor. Dit houdt in dat als die inhoud 'leeg' is, dat veld dan opgenomen is met lengte 0 (nul), dat wil zeggen de waarde "00000" heeft.

*CAN* (Categorie- of tabelnummer) 2 tekens:: Dit nummer bestaat uit twee cijfers. In een bericht mogen alleen de volgende categorie- en tabelnummers voorkomen:

* de nummers 1 t/m 13 en 21, dat wil zeggen de categorienummers van de gedefinieerde actuele categorieën;
* de nummers 51 t/m 63 en 71, dat wil zeggen de bovengenoemde nummers met 50 opgehoogd;
* de nummers 32, 33, 34, 37, 39, 41, 48, 49, 56, 59, 60 en 61 dat wil zeggen de tabelnummers van de mogelijk te actualiseren landelijke tabellen met uitzondering van de autorisatietabel.

*CAL* (Categorie- of tabelregellengte) 3 tekens:: De lengte van de volgende categorie- of tabelregelinhoud. Tenzij anders vermeld, komt lengte 0 (nul) niet voor.

*ELN* (Elementnummer) 4 tekens:: Dit nummer bestaat uit vier cijfers. Binnen een categorie komen uitsluitend elementnummers voor die gedefinieerd zijn bij de betreffende categorie of tabelregel.

*ELL* (Elementlengte) 3 tekens:: De lengte van de volgende elementinhoud. Daarbij wordt altijd de fysieke lengte gebruikt (zie <<_lengte>>). Tenzij anders vermeld, komt lengte 0 (nul) niet voor.

*ELI* (Elementinhoud) variabel:: De inhoud van het desbetreffende element, gecodeerd conform de Teletex tekenset. De mogelijke inhoud, gebruikte codes et cetera zijn beschreven in het Gegevenswoordenboek.

Elk in de inhoud van een bericht op te nemen element wordt als volgt opgenomen: het betreffende elementnummer, gevolgd door de elementlengte en de elementinhoud. De elementlengte bevat de lengte in tekens van de elementinhoud.

[.text-center]
.Opbouw van een element
image::image8.svg[width=126,height=60]

Alle elementen die tot één categorie of tabelregel behoren, worden voorafgegaan door het betreffende categorie- of tabelnummer en een categorie- of tabelregellengte. De categorie- of tabelregellengte bevat de lengte in tekens van de inhoud van de betreffende categorie of tabelregel. De categorielengte is de som van alle daarin voorkomende velden ELN, ELL en ELI.

[.text-center]
.Opbouw van een categorie
image::image10.svg[width=325,height=75]

Het totaal van op te nemen gegevens wordt voorafgegaan door de berichtlengte van de berichtinhoud. De berichtlengte is de som van de lengtes van alle daarin voorkomende velden CAN, CAL, ELN, ELL en ELI.

[.text-center]
.Opbouw van een bericht
image::image12.svg[width=566,height=82]

Ter illustratie van bovenbeschreven opbouw van de inhoud volgt onderstaand een voorbeeldbericht. Voor de nummering van de rubrieken wordt verwezen naar het Gegevenswoordenboek.

[horizontal,labelwidth=35%,itemwidth=65%]
Bericht++:++:: Verstrekking naam- en nationaliteitsgegevens
Inhoud++:++:: Zie onderstaande tabel

.De gegevens in het voorbeeldbericht
[.center,width="60%" ,cols="25%,50%,25%",options="header"]
|===
|Rubriek |Omschrijving |Inhoud
|<<e0110,01.01.10>> |Administratienummer |2635789285
|<<e0210,01.02.10>> |Voornamen |Jan Willem
|<<e0230,01.02.30>> |Voorvoegsels |de
|<<e0240,01.02.40>> |Geslachtsnaam |Vries
|<<e0510,04.05.10>> |Nationaliteit |0052
|<<e0510,04.05.10>> |Nationaliteit |0056
|===

Dit bericht is als volgt opgebouwd (totale lengte = 97):

[.text-center]
.Opbouw van de inhoud van het voorbeeldbericht
image::image14.svg[width=566,height=124]

===== Opbouw van de inhoud in JSON-formaat
In JSON-formaat wordt de structuur van berichten weergegeven door gegevenselementen te organiseren in sleutel/waarde-paren, waarbij een waarde een tekenreeks, een getal, een letterlijke waarde true, false of null, een lijst (array) of een ander JSON-object kan zijn. Daarbij worden de elementen uit de berichtkop op het hoogste niveau opgenomen. Bij de meeste berichten is het laatste element een element dat de inhoud van het bericht bevat: een structuur die (delen van) een persoonslijst bevat, wordt aangeduid met plData en de structuur die (delen van) een tabelregel bevat, wordt aangeduid met tabelData. Deze structuur is als volgt opgebouwd:

[width="100%",cols="3%,3%,29%,15%,50%",options="header",]
|===
3+|Element naam| Type |Omschrijving
3+|[categorieaanduiding] |array of objects |Altijd "c" + het tweecijferige categorienummer. Bijvoorbeeld "c01" voor categorie 01 Persoon. Het array bevat altijd net zoveel objecten als er actuele categorieën op de persoonslijst zijn met het bewuste categorienummer. In elk object staan vervolgens alle relevante elementen uit de actuele categorie die voorkomen op de persoonslijst, en, indien van toepassing een element "historie"
| 2+|[elementaanduiding] |string |Altijd "e" + het elementnummer, zonder scheidings-punt. Bijvoorbeeld "e0110" voor element 01.10 A-nummer.
De waarde is dan de inhoud van het betreffende element in de aangeduide categorie.
| 2+|historie |array of objects | Een lijst met alle historische categorieën op de stapel. Elk object bevat alle relevante elementen uit één historische categorie.
| | |[elementaanduiding] |string |Altijd "e" + het elementnummer, zonder scheidings-punt. Bijvoorbeeld "e0110" voor element 01.10 A-nummer.
De waarde is dan de inhoud van het betreffende element in de aangeduide (historische) categorie.
|===

In een Xa01-bericht kan de berichtinhoud meerdere plData structuren bevatten. Deze zijn opgenomen in een array die wordt aangeduid met plDataSet.

Ter illustratie van de hierboven beschreven opbouw van het bericht volgt hieronder een voorbeeldbericht. Voor de nummering van de rubrieken wordt verwezen naar het Gegevenswoordenboek.

[horizontal,labelwidth=35%,itemwidth=65%]
Bericht++:++:: Verstrekking naam- en nationaliteitsgegevens
Inhoud++:++:: Zie onderstaande tabel

.De gegevens in het voorbeeldbericht
[.center,width="60%" ,cols="25%,50%,25%",options="header"]
|===
|Rubriek |Omschrijving |Inhoud
|<<e0110,01.01.10>> |Administratienummer |2635789285
|<<e0210,01.02.10>> |Voornamen |Jan Willem
|<<e0230,01.02.30>> |Voorvoegsels |de
|<<e0240,01.02.40>> |Geslachtsnaam |Vries
|<<e0110,51.01.10>> |Administratienummer| 2635789285
|<<e0210,51.02.10>> |Voornamen |Willem Jan
|<<e0230,51.02.30>>	|Voorvoegsels |de
|<<e0240,51.02.40>>	|Geslachtsnaam |Vries
|<<e0510,04.05.10>> |Nationaliteit |0052
|<<e0510,04.05.10>> |Nationaliteit |0056
|===

Deze plData is als volgt opgebouwd:

.Opbouw van de inhoud van het voorbeeldbericht
[source,json]
----
					    {
							"c01" : [
								{
									"e0110" : "2635789285",
									"e0210" : "Jan Willem",
									"e0230" : "de",
									"e0240" : "Vries",
									"historie" : [
										{
											"e0110" : "2635789285",
											"e0210" : "Willem Jan",
											"e0230" : "de",
											"e0240" : "Vries"
										}
									]
								}
							],
							"c04" : [
								{
									"e0510" : "0052"
								},
								{
									"e0510" : "0056"
								}
							]
 					   }
----

===== Sortering binnen de inhoud

Gegevens uit één categorie, één verwijsgegeven of één tabelregel worden in het bericht opgenomen oplopend in volgorde van de bij die gegevens horende elementnummers in die categorie, dat verwijsgegeven of die tabelregel.

Als er in een bericht gegevens uit meerdere categorieën voorkomen gelden de volgende regels:

* Voor de actuele categorieën is de sortering altijd op het categorienummer (01 t/m 13). Indien meerdere gelijke actuele categorieën kunnen voorkomen (bijvoorbeeld nationaliteiten) is de sortering binnen die categorieën aflopend op volgorde van Ingangsdatum geldigheid en daarbinnen aflopend op Datum opneming. Dit betekent dus dat de recentste als eerste wordt opgenomen.
* Historische categorieën moeten tussen de actuele in worden geplaatst en wel zodanig, dat een historische categorie direct volgt op de bijbehorende actuele categorie.
* Indien meerdere historische categorieën gerelateerd zijn aan één actuele categorie, dan worden die historische categorieën ook aflopend op volgorde van datum geldigheid en daarbinnen aflopend op datum opneming gesorteerd. Als er in zo'n geval meerdere historische categorieën zijn met gelijke Ingangsdatum geldigheid en gelijke Datum opneming, worden juiste categorieën vóór onjuiste categorieën gesorteerd.

Een uitzondering op de hiervoor beschreven standaard volgorderegels voor het opnemen van categorieën in een bericht geldt voor de Gegevensverstrekking in het Ad hoc adresantwoord (<<Xa01,Xa01>>). Voor dit bericht geldt het volgende:

* Het <<Xa01,Xa01>>-bericht kan gegevens van verschillende personen bevatten. In het <<Xa01,Xa01>>-bericht komt van elke PL, waarvan gegevens in het bericht zijn opgenomen, minimaal rubriek <<e0110,01.01.10>> A‑nummer voor. Elk A‑nummer wordt, voor zover van toepassing en voor zover aanwezig op de PL, gevolgd door de verder gevraagde rubrieken. De gegevens van elke PL staan in het bericht direct achter elkaar. Voor de gegevens van elke PL binnen het <<Xa01,Xa01>>-bericht geldt het hiervoor beschreven standaard sorteervoorschrift. De verschillende A-nummers met de bijbehorende gegevens moeten in het bericht worden opgenomen in oplopende numerieke volgorde van A-nummer.

Hieronder is een voorbeeld gegeven van een complete categorie Nationaliteit van een PL om het sorteringsvoorschrift te verduidelijken. De op de ingeschrevene betrekking hebbende gebeurtenissen omtrent de nationaliteiten zijn hieronder eerst opgesomd. Deze gebeurtenissen zijn puur theoretisch. De gebeurtenissen zijn:

* Bij de geboorte (18-02-1960) heeft de ingeschrevene de Belgische (code 0052) en de Franse nationaliteit (code 0057) van de ouders gekregen.
* Op 16-01-1962 werd vastgesteld dat de ingeschrevene niet de Nederlandse nationaliteit bezat.
* Op 12-03-1965 is de ingeschrevene genaturaliseerd tot Nederlander.
* Een week daarna (19-03-1965) heeft de ingeschrevene zijn Belgische nationaliteit verloren.
* Op 21-11-1982 heeft de ingeschrevene zijn Franse nationaliteit verloren.
* Op 19-01-1988 heeft de ingeschrevene weer de Belgische nationaliteit verkregen.
* Op 28-01-1990 is de PK van de ingeschrevene inclusief historie van de nationaliteiten in Amsterdam geconverteerd naar de GBA.
* Op 31-01-2015 heeft de conversie van de nationaliteitsgegevens plaatsgevonden.

De op de PL voorkomende gegevens met betrekking tot de categorie Nationaliteit zijn hieronder weergegeven in de juiste volgorde, waarbij niet voorkomende elementen zijn weggelaten. Alle gegevens zijn oorspronkelijk vanaf de PK geconverteerd.

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|04 2+|Nationaliteit
|<<e6410,04.64.10>> |Reden beëindigen |404
|<<e8510,04.85.10>> |Datum geldigheid |31-01-2015
|<<e8610,04.86.10>> |Datum opneming |31-01-2015
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|54 2+|Nationaliteit
|<<e0510,54.05.10>> |Nationaliteitscode |0052
|<<e6310,54.63.10>> |Reden opname |301
|<<e8210,54.82.10>> |Gemeente document |0363
|<<e8220,54.82.20>> |Datum document |28-01-1990
|<<e8230,54.82.30>> |Beschrijving document |PK
|<<e8510,54.85.10>> |Datum geldigheid |19-01-1988
|<<e8610,54.86.10>> |Datum opneming |28-01-1990
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|54 2+|Nationaliteit
|<<e6410,54.64.10>> |Reden beëindigen |401
|<<e8210,54.82.10>> |Gemeente document |0363
|<<e8220,54.82.20>> |Datum document |28-01-1990
|<<e8230,54.82.30>> |Beschrijving document |PK
|<<e8510,54.85.10>> |Datum geldigheid |19-03-1965
|<<e8610,54.86.10>> |Datum opneming |28-01-1990
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|54 2+|Nationaliteit
|<<e0510,54.05.10>> |Nationaliteitscode |0052
|<<e6310,54.63.10>> |Reden opname |301
|<<e8210,54.82.10>> |Gemeente document |0363
|<<e8220,54.82.20>> |Datum document |28-01-1990
|<<e8230,54.82.30>> |Beschrijving document |PK
|<<e8510,54.85.10>> |Datum geldigheid |18-02-1960
|<<e8610,54.86.10>> |Datum opneming |28-01-1990
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|04 2+|Nationaliteit
|<<e6410,04.64.10>> |Reden beëindigen |404
|<<e8510,04.85.10>> |Datum geldigheid |31-01-2015
|<<e8610,04.86.10>> |Datum opneming |31-01-2015
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|54 2+|Nationaliteit
|<<e6410,54.64.10>> |Reden beëindigen |401
|<<e8210,54.82.10>> |Gemeente document |0363
|<<e8220,54.82.20>> |Datum document |28-01-1990
|<<e8230,54.82.30>> |Beschrijving document |PK
|<<e8510,54.85.10>> |Datum geldigheid |21-11-1982
|<<e8610,54.86.10>> |Datum opneming |28-01-1990
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|54 2+|Nationaliteit
|<<e0510,54.05.10>> |Nationaliteitscode |0057
|<<e6310,54.63.10>> |Reden opname |301
|<<e8210,54.82.10>> |Gemeente document |0363
|<<e8220,54.82.20>> |Datum document |28-01-1990
|<<e8230,54.82.30>> |Beschrijving document |PK
|<<e8510,54.85.10>> |Datum geldigheid |18-02-1960
|<<e8610,54.86.10>> |Datum opneming |28-01-1990
|===

[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|04 2+|Nationaliteit
|<<e0510,04.05.10>> |Nationaliteitscode |0001
|<<e6310,04.63.10>> |Reden opname |003
|<<e8210,04.82.10>> |Gemeente document |0363
|<<e8220,04.82.20>> |Datum document |28-01-1990
|<<e8230,04.82.30>> |Beschrijving document |PK
|<<e8510,04.85.10>> |Datum geldigheid |12-03-1965
|<<e8610,04.86.10>> |Datum opneming |28-01-1990
|===

.Voorbeeld categoriestapels
[.center,width="50%" ,cols="25%,50%,25%",options="header",]
|===
|54 2+|Nationaliteit
|<<e6310,54.63.10>> |Reden opname |310
|<<e6510,54.65.10>> |Aand. bijz. Nederlanderschap |V
|<<e8210,54.82.10>> |Gemeente document |0363
|<<e8220,54.82.20>> |Datum document |28-01-1990
|<<e8230,54.82.30>> |Beschrijving document |PK
|<<e8510,54.85.10>> |Datum geldigheid |16-01-1962
|<<e8610,54.86.10>> |Datum opneming |28-01-1990
|===

===== Protocolfouten

Er zijn in het berichtenverkeer foutsituaties mogelijk die duiden op een ernstige verstoring van het berichtenverkeer en die daarom niet binnen de gedefinieerde berichtencycli kunnen worden afgehandeld. Toch moeten deze foutsituaties opgevangen worden, om te voorkomen dat de berichtencycli "vast" komen te zitten en dat er telkens handmatig in de berichtenafhandeling van de BRP-systemen moet worden ingegrepen.

Om deze foutsituaties af te handelen zijn berichten voorzien, waarmee gemeld wordt dat er zo'n fout, protocolfout genoemd, is opgetreden in een berichtencyclus. Er worden drie verschillende protocolfouten onderscheiden. Voor elke soort is een eigen bericht gedefinieerd. Die drie protocolfouten zijn:

[unordered.stack]
*<<Pf01,Pf01>>*:: Dit bericht wordt verstuurd bij cyclusfouten. Het moet worden verstuurd indien er een bericht binnenkomt dat niet in een berichtencyclus kan worden geplaatst of waarvan het berichtnummer niet gedefinieerd is.

*<<Pf02,Pf02>>*:: Dit bericht wordt verstuurd als reactie op een bericht dat niet aan de specificaties van het berichtenuitwisselingsformaat (<<_opbouw_van_de_berichtendienst_berichten>>, met uitzondering van de beschrijving van ELI (Elementinhoud)) voldoet. +
Een voorbeeld is een bericht waarin de inhoud van lengtevelden niet in overeenstemming is met de inhoud van rubrieken die volgen.

*<<Pf03,Pf03>>*:: Dit bericht wordt verstuurd als reactie op fouten in een bericht die de verwerking van dat bericht volgens hetgeen er in de betreffende berichtencyclus beschreven is, onmogelijk maken en die tevens geen aanleiding vormen om een <<Pf01,Pf01>>- of een <<Pf02,Pf02>>-bericht te sturen. +
In het algemeen zijn het fouten waarbij de inhoud van het bericht niet in overeenstemming is met de voorgeschreven inhoud. +
Voorbeelden zijn het ontbreken van een verplicht veld, het voorkomen van een alfanumerieke omschrijving in een veld dat als numeriek veld is gedefinieerd en een burgerservicenummer dat niet voldoet aan de voor het element beschreven 11‑proef. +
Bij de ontvangst van een PL in het <<Ib01,Ib01>>-bericht, het <<Rb01,Rb01>>-bericht en het <<Jb01,Jb01>>-bericht is het versturen van een <<Pf03,Pf03>>-bericht aan andere regels gebonden; zie hiervoor uitgang 8 van de berichtencyclus Vervolginschrijving, uitgang 2 van de berichtencyclus Vervolginschrijving van gemeente naar RNI en uitgang 7 van de berichtencyclus Vervolginschrijving van RNI naar gemeente.

Het gaat bij de protocolfouten om fouten die verwerken van het bericht absoluut onmogelijk maken of die twijfel doen rijzen aan de rest van de inhoud van het bericht. Andere fouten vallen hier dus nadrukkelijk niet onder. +
Protocolfouten kunnen op iedere plaats in een berichtencyclus worden verstuurd. Met het versturen van een protocolfout wordt tevens de lopende cyclus afgebroken. Na het verhelpen van de oorzaak van de storing moet de cyclus eventueel opnieuw worden gestart.

Wanneer er binnen een berichtencyclus één van de bovenbeschreven fouten optreedt, moet er een protocolfout verzonden worden. Dit geldt voor alle binnen het BRP-stelsel aangesloten instanties.

Zowel het verzenden als het ontvangen van protocolfouten moet worden gemeld aan RvIG, zodat hiernaar een onderzoek kan worden ingesteld.

==== Opbouw van webservice berichten

De webservices van BRP-V zijn uitsluitend te benaderen via het Diginetwerk. Ze maken gebruik van versie 1.1 van het SOAP protocol over https en de berichten bestaan uit XML. De beveiliging van de webservices van BRP-V is beschreven in <<_toegangsbeveiliging>>. Er zijn webservices voor bijhouding van BRP-gegevens, webservices voor verstrekking van BRP-gegevens en webservices voor vrije berichten. De afzonderlijke webservices en webservice-berichten zijn beschreven in <<_berichten_in_verband_met_de_bijhouding>>, <<_berichten_in_verband_met_verstrekkingen>> en <<_overige_berichten_2>>.

==== Opbouw van API berichten

De API's van BRP-V zijn uitsluitend te benaderen via Diginetwerk. Het zijn web API's waarmee over HTTPS gecommuniceerd kan worden. Headers en response codes zijn dan ook conform de HTTP standaard (RFC 7230) en de input en output bestaan altijd uit JSON-berichten (content-type: application/json, of application/hal{plus}json). In foutsituaties wordt een HTTP-statusbericht gestuurd conform RFC 7231 en RFC 7807 in problem/json (content-type: application/problem{plus}json). Voor elk API endpoint worden in <<_berichtuitwisseling_via_de_brp_berichten_api>>, <<_berichten_in_verband_met_de_bijhouding>>, <<_berichten_in_verband_met_verstrekkingen>> en <<_overige_berichten_2>> achtereenvolgens beschreven: de functionaliteit van het endpoint, de methode en de URI waarmee het endpoint aangeroepen kan worden, de parameters die in de URI moeten worden gebruikt (path-parameters en query parameters), de elementen die in de input JSON mogen of zelfs moeten worden meegegeven bij het aanroepen van de API, en de elementen die in de output JSON worden terug gegeven door de API. De API's zijn benaderbaar via de basis-URLs die zijn gepubliceerd op de website van RvIG.

De berichtencyclus ziet er voor alle API's hetzelfde uit en is weergegeven in onderstaand diagram.

[.text-center]
.Schematische weergave ad hoc vragen via API's
image::image15.svg[width=567,height=243]

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Berichtuitwisseling via de BRP berichten API
De BRP berichten API is een API voor het a-synchroon uitwisselen van berichten. De API bevat verschillende endpoints:

* POST {basis_url}/berichten (voor het verzenden van berichten)
* GET {basis_url}/berichten (voor het ophalen van een lijst met berichten die klaarstaan)
* GET {basis_url}/berichten/{berichtTransportIdsParam} voor het ophalen van één of meer berichten)
* DELETE {basis_url}/berichten/{berichtTransportIdsParam} (voor het ophalen van één of meer berichten)
* GET {basis_url}/berichten/telling (voor het opvragen van het aantal berichten van een bepaalde soort)
* POST {basis_url}/berichten/conversie (voor het converteren van berichten van het oude TLV-formaat naar het nieuwe JSON-formaat)

Voor gedetailleerde functionele en technische specificaties van de BRP a-synchroon API, zie de website van RvIG.

===== POST {basis_url}/berichten
Met dit endpoint is het mogelijk om berichten zoals gespecificeerd in het Logisch Ontwerp te versturen.

URI: {basis_url}/berichten

Method: POST

====== Input
De input is een JSON-object waarin de volgende elementen kunnen voorkomen. 

[width="100%",cols="3%,3%,29%,10%,12%,42%",options="header",]
|===
3+|Element naam |Type |Verplicht? |Omschrijving
3+|berichten |array of objects |ja |Lijst van bericht(en)
| 2+|berichtKenmerken |object |ja |
| | |berichtId |string |ja |Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend door de afzender. De BRP berichten API voert geen inhoudelijke controles uit op dit BerichtId. Maximaal 12 posities.
| | |verwijzingBerichtId |string | nee |Indien het bericht een antwoord is op een eerder door het eindsysteem ontvangen bericht: het berichtId van het eerder ontvangen bericht.
| | |berichtType |string |ja |Het berichtnummer zoals gedefinieerd in het berichtenboek in het Logisch Ontwerp.
| | |ontvanger |integer |ja |Het unieke nummer van een verzender/ontvanger.
| 2+|berichtInhoud |JSON-object |ja |De inhoud van bericht (berichtkop en berichtinhoud) zoals gespecificeerd in <<_opbouw_van_de_inhoud_in_json_formaat>>.
|===

====== Output
De output is een JSON-object met de volgende elementen.

[width="100%",cols="3%,37%,10%,50%",options="header",]
|===
2+|Element naam |Type |Omschrijving
2+|interactieId |string |Een uniek ID wat aan het HTTP request gekoppeld wordt.
2+|verwerkteBerichten |array of objects	|
| |ontvanger |integer |Het unieke nummer van een verzender/ontvanger.
| |berichtId |string |Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend door de afzender. De "BRP berichten API" voert geen inhoudelijke controles uit op dit BerichtId. Maximaal 12 posities.
| |berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het wordt gebruikt om het bericht uniek te identificeren.
2+|nietVerwerkteBerichten |array of objects	|
| |berichtId |string |Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend door de afzender. De BRP berichten API voert geen inhoudelijke controles uit op dit BerichtId. Maximaal 12 posities.
| |berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag gebruikt worden om het bericht uniek te identificeren.
| |foutmeldingen |array of objects |Lijst met foutmeldingen die zijn gegenereerd tijdens de verwerking van het bericht in problem/json.
|===

====== Foutcodes

[width="100%",cols="15%,40%,45%",options="header",]
|===
|Http response code |Type |Omschrijving
|201 |BBA-PUT-F002 |Een of meerdere velden in het bericht voldoen niet aan de gestelde eisen.
|201 |BBA-PUT-F003 |Het bericht kon niet verzonden worden aan de geadresseerde.
|201 |BBA-PUT-F004 |Het bericht kon niet verzonden worden, uw account is niet beschikbaar.
|400 |BBA-PUT-F001 |Het aantal berichten in het verzoek overschrijdt de ingestelde limiet.
|401 |BBA-AUTH-F001 |Onjuiste of onbekende authenticatie.
|401 |BBA-AUTH-F002 |Het account is geblokkeerd.
|401 |BBA-F999 |Onbekende (/technische) fout.
|500 |BBA-F999 |Onbekende (/technische) fout.
|===

===== GET {basis_url}/berichten
Met dit endpoint is het mogelijk om te achterhalen welke berichten er beschikbaar zijn, 

URI: {basis_url}/berichten

Method: GET

====== Input parameters
De input bestaat uit de volgende (optionele) query parameters. 

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Omschrijving
|status	|array of strings |nee |Geeft aan welke berichten opgenomen moeten worden in het resultaat. Mogelijke waardes (te scheiden door een komma): 

* nieuw – Geeft berichten die nog nooit opgehaald zijn en tevens niet in de lijst operatie zijn getoond.
* gezien-in-lijst – Geeft berichten die nog niet opgehaald zijn, maar al wel gezien zijn in de lijst.
* opgehaald – Geeft berichten die  reeds opgehaald zijn.

Standaard: "nieuw,gezien-in-lijst"
|berichtType |string |nee |Geeft aan welk type berichten opgenomen moeten worden in het resultaat. Indien leeg of niet aanwezig worden alle berichten getoond. Niet hoofdlettergevoelig.
|vanafMoment |string ($date-time) |nee |Het resultaat zal alleen berichten bevatten die vanaf dit moment ontvangen zijn. Wanneer deze waarde niet opgegeven is, worden alle berichten getoond die nog beschikbaar zijn (waarvan de retentietijd nog niet verlopen is).
|totMoment |string ($date-time) |nee |Het resultaat zal alleen berichten bevatten die tot dit moment ontvangen zijn. Wanneer deze waarde niet opgegeven is, worden alle berichten getoond t/m het heden.
|pagina |integer |nee |Pagina nummer, startend bij 1 t/m N (niet bij 0). Standaard: 1
|berichtenPerPagina |integer |nee |Het maximum aantal berichten dat geretourneerd mag worden. Indien deze waarde de ingestelde systeemlimiet overschrijdt, dan wordt de systeemlimiet gehanteerd. Indien er geen waarde wordt opgegeven, dan wordt ook de systeemlimiet gehanteerd.
|===

====== Output
De output is een JSON-object met de volgende elementen.

[width="100%",cols="3%,3%,34%,10%,50%",options="header",]
|===
3+|Element naam |Type |Omschrijving
3+|interactieId |string |Een uniek ID wat aan het HTTP request gekoppeld wordt.
3+|berichten |array of objects |
| 2+|berichtId |string |Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend door de afzender. De BRP berichten API voert geen inhoudelijke controles uit op dit BerichtId. Maximaal 12 posities.
| 2+|verwijzingBerichtId |string |Indien het bericht een antwoord is op een eerder door het eindsysteem ontvangen bericht: het berichtId van het eerder ontvangen bericht. Het veld correspondeert met het "CrossReference" veld van de mailboxserver.

Het volgnummer van het bericht, waarop dit uitgaande bericht een reactie is. Dit volgnummer is het MessageId van het voorgaande bericht uit de cyclus. Is het bericht het eerste van een cyclus dan kan dit veld of weggelaten worden, of gevuld worden met 0;
| 2+|berichtType |string |Het berichtnummer (zoals gedefinieerd in het berichtenboek in het Logisch Ontwerp).
| 2+|berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag gebruikt worden om het bericht uniek te identificeren.
| 2+|berichtVolgnummer |integer |Dit volgnummer is het equivalent van het 'Dispatch sequence number'/'MSSequenceNumber' van de mailboxserver. Hiermee kan over verschillende media worden vastgesteld of dit bericht al eerder verwerkt is. Het nummer wordt door deze dienst uniek toegekend aan het bericht.
| 2+|afzender |integer |Het unieke nummer van een verzender/ontvanger.
| 2+|dtOntvangen |string ($date-time) |Het tijdstip waarop het bericht door de berichten API ontvangen is
| 2+|opgehaaId |boolean |Geeft aan of dit bericht al eens eerder opgehaald is.
| 2+|dtBewaardTot |string ($date-time) |Tot dit moment zal het bericht beschikbaar zijn via de berichten API.
3+|paginering |array of objects |
| 2+|pagineringVerzoek |object |
| | |pagina |integer |Groter of gelijk aan 0
| 2+|totaalAantalBerichten |integer |Standaard 0
| 2+|aantalBerichtenOpDezePagina |integer |Standaard 2000
| 2+|aantalPaginas |integer |Standaard 3
| 2+|huidigePagina |integer |
| 2+|eerstePagina |boolean |
| 2+|laatstePagina |boolean |
|===

====== Foutcodes

[width="100%",cols="15%,40%,45%",options="header",]
|===
|Http response code |Type |Omschrijving
|400 |BBA-LIST-F001 |Ongeldige zoekfilters opgegeven.
|401 |BBA-AUTH-F001 |Onjuiste of onbekende authenticatie.
|401 |BBA-AUTH-F002 |Het account is geblokkeerd.
|401 |BBA-F999 |Onbekende (/technische) fout.
|500 |BBA-F999 |Onbekende (/technische) fout.
|===

===== GET {basis_url}/berichten/{berichtTransportIdsParam}
Met dit endpoint is het mogelijk om één of meer berichten op te halen.

URI: {basis_url}/berichten/{berichtTransportIdsParam}

Method: GET

====== Input parameters
De input is een path parameter waarin de volgende elementen kunnen voorkomen. 

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Omschrijving
|berichtTransportIdsParam |array of strings |ja |Een UUID of meerdere UUID's van het bericht of de berichten die opgehaald moet(en) worden. Indien meerdere UUID's, dan scheiden met een komma. Deze query parameter verwijst naar het berichtenId zoals deze bij de BRP berichten API bekend is, niet te verwarren met het BerichtId dat door de verzender is opgegeven. U verkrijgt deze UUID's middels GET {basis_url}/berichten.
|===

====== Output
De output is een JSON-object met de volgende elementen.

[width="100%",cols="3%,3%,34%,10%,50%",options="header",]
|===
3+|Element naam |Type |Omschrijving
3+|interactieId |string |Een uniek ID wat aan het HTTP request gekoppeld wordt.
3+|opgehaaldeBerichten |array of objects |Gevraagde berichten die succesvol opgehaald konden worden.
| 2+|berichtKenmerken |object |
| | |berichtId |string |Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend door de afzender. De "BRP berichten API" voert geen inhoudelijke controles uit op dit BerichtId. Maximaal 12 posities.
| | |verwijzingBerichtId |string |Indien het bericht een antwoord is op een eerder door het eindsysteem ontvangen bericht: het berichtId van het eerder ontvangen bericht. Het volgnummer van het bericht, waarop dit uitgaande bericht een reactie is. Dit volgnummer is het MessageId van het voorgaande bericht uit de cyclus. Is het bericht het eerste van een cyclus dan kan dit veld of weggelaten worden, of gevuld worden met 0;
| | |berichtType |string |Het berichtnummer (zoals gedefinieerd in het berichtenboek in het Logisch Ontwerp).
| | |berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag, net zoals berichtVolgnummer gebruikt worden om het bericht uniek te identificeren.
| | |berichtVolgnummer |integer |Hiermee kan over verschillende media worden vastgesteld of dit bericht al eerder verwerkt is. Het nummer wordt door deze dienst uniek toegekend aan het bericht.
| | |afzender |integer |Het unieke nummer van een verzender/ontvanger.
| | |dtOntvangen |string |Het tijdstip waarop het bericht door de berichten API ontvangen is
| | |opgehaald |boolean	|Geeft aan of dit bericht al eens eerder opgehaald is.
| | |dtBewaardTot |string |Tot dit moment zal het bericht beschikbaar zijn via de berichten API.
| 2+|berichtInhoud |JSON-object |De inhoud van bericht (berichtkop en berichtinhoud) zoals gespecificeerd in <<_opbouw_van_de_inhoud_in_json_formaat>>.
3+|nietOpgehaaldeBerichten |array of objects |Gevraagde berichten die niet succesvol opgehaald konden worden.
| 2+|berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag, net zoals berichtVolgnummer gebruikt worden om het bericht uniek te identificeren.
| 2+|foutmeldingen |array of objects |Lijst met foutmeldingen die zijn gegenereerd tijdens de verwerking van het bericht in problem/json.
|===

====== Foutcodes

[width="100%",cols="15%,40%,45%",options="header",]
|===
|Http response code |Type |Omschrijving
|200 |BBA-GET-F001 |Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
|200 |BBA-GET-F002 |Het bericht is niet langer beschikbaar omdat het verwijderd is.
|200 |BBA-GET-F003 |Onbekend berichtTransportId
|400 |BBA-GET-F004 |Het aantal opgevraagde berichten overschrijdt de ingestelde limiet.
|401 |BBA-AUTH-F001 |Onjuiste of onbekende authenticatie.
|401 |BBA-AUTH-F002 |Het account is geblokkeerd.
|401 |BBA-F999 |Onbekende (/technische) fout.
|500 |BBA-F999 |Onbekende (/technische) fout.
|===

===== DELETE {basis_url}/berichten/{berichtTransportIdsParam}
Met dit endpoint is mogelijk om één of meer berichten te verwijderen. De berichten kunnen na deze actie niet meer bij de berichten API opgehaald worden.

URI: {basis_url}/berichten/{berichtTransportIdsParam}

Method: DELETE

====== Input parameters
De input is een path parameterct waarin de volgende elementen kunnen voorkomen. 

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Omschrijving
|berichtTransportIdsParam |array of strings |ja |Een of meerdere UUID's van berichten die verwijderd moeten worden. Indien meerdere UUID's, dan scheiden met een komma. Deze parameter verwijst naar het  berichtTransportId zoals deze bij de BRP berichten API bekend is, niet te verwarren met het BerichtId dat door de verzender is opgegeven. U verkrijgt deze UUID's middels een request naar /api/v1/berichten.
|===

====== Output
De output is een JSON-object met de volgende elementen.

[width="100%",cols="3%,37%,10%,50%",options="header",]
|===
2+|Element naam |Type |Omschrijving
2+|interactieId |string |Een uniek ID wat aan het HTTP request gekoppeld wordt.
2+|successvolVerwijderdeBerichten |array of strings |In deze collectie staan de berichten die daadwerkelijk verwijderd zijn.
| |berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag, net zoals berichtVolgnummer gebruikt worden om het bericht uniek te identificeren.
2+|nietSuccesvolVerwijderdeBerichten |array of objects |In deze collectie staan de berichten die niet verwijderd konden worden.
| |berichtTransportId |string |De referentie naar het bericht zoals deze bekend is bij de BRP berichten API (UUID). Bij elke interactie met deze dienst omtrent een bericht, wordt deze waarde gebruikt. Het mag, net zoals berichtVolgnummer gebruikt worden om het bericht uniek te identificeren.
| |foutmeldingen |array of objects |Lijst met foutmeldingen die zijn gegenereerd tijdens de verwerking van het bericht in problem/json.
|===

====== Foutcodes

[width="100%",cols="15%,40%,45%",options="header",]
|===
|Http response code |Type |Omschrijving
|200 |BBA-DELETE-F001 |Het bericht is niet langer beschikbaar omdat de retentietijd verstreken is.
|200 |BBA-DELETE-F002 |Het bericht is niet langer beschikbaar omdat het reeds verwijderd is.
|200 |BBA-DELETE-F003 |Onbekend berichtTransportId
|400 |BBA-DELETE-F004 |Het aantal berichten dat in dit verzoek verwijderd dient te worden overschrijdt de ingestelde limiet.
|401 |BBA-AUTH-F001 |Onjuiste of onbekende authenticatie.
|401 |BBA-AUTH-F002 |Het account is geblokkeerd.
|401 |BBA-F999 |Onbekende (/technische) fout.
|500 |BBA-F999 |Onbekende (/technische) fout.
|===

===== GET {basis_url}/berichten/telling
Met dit endpoint kunnen verschillende soorten tellingen worden uitgevoerd waarmee bepaald kan worden hoeveel berichten er verwerkt dienen te worden.

URI: {basis_url}/berichten/telling

Method: soort

====== Input parameters
De input is een query parameter:

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Omschrijving
|soort |string |ja |Geeft aan welke telling er uitgevoerd moet worden.

* nieuw: Geeft het aantal nieuwe berichten terug dat nog niet gezien is via een LIST operatie en tevens nog niet opgehaald is middels een GET operatie.
* gezien-in-lijst-en-niet-opgehaald: Geeft het aantal nieuwe berichten terug dat gezien is via een LIST operatie, maar nog niet opgehaald is middels een GET operatie.
* niet-opgehaald: Geeft het aantal nieuwe berichten terug dat nog niet opgehaald is middels een GET operatie.

|===

====== Output
De output is een JSON-object met de volgende elementen.

[width="100%",cols="40%,10%,50%",options="header",]
|===
|Element naam |Type |Omschrijving
|interactieId |string |Een uniek ID wat aan het HTTP request gekoppeld wordt.
|aantalBerichten |integer |Het aantal berichten dat voldeed aan de criteria.
|===

====== Foutcodes

[width="100%",cols="15%,40%,45%",options="header",]
|===
|Http response code |Type |Omschrijving
|400 |BBA-SUMMARIZE-F001 |Het verzoek is onjuist; controleer de zoekparameters.
|401 |BBA-AUTH-F001 |Onjuiste of onbekende authenticatie.
|401 |BBA-AUTH-F002 |Het account is geblokkeerd.
|401 |BBA-F999 |Onbekende (/technische) fout.
|===

=== Berichten in verband met de bijhouding

==== Inleiding

In deze paragraaf worden de berichtencycli uiteengezet. Elke cyclus wordt beschreven aan de hand van:

[unordered.stack]
*Een schematische weergave van de cyclus*:: Hieruit blijkt de volgorde van de berichten. Het normale proces wordt beschreven met de kenmerkende activiteiten binnen de cyclus. Tevens zijn, indien van toepassing, de punten aangegeven waarop een cyclus afgebroken wordt in het geval van een foutsituatie.

*Een inleiding*:: Hierin is een omschrijving van het doel van de cyclus en een beknopte omschrijving van het verloop opgenomen.

*Een toelichting*:: Het verloop van de cyclus wordt daarin stap voor stap beschreven. Indien van toepassing, worden de foutsituaties behandeld die in een cyclus kunnen optreden. Hierbij wordt voor iedere foutsituatie aangegeven welke acties van de betrokken instanties noodzakelijk zijn.

In het overzicht hierna zijn de berichtencycli gegroepeerd uitgaande van de betrokken partijen bij de verschillende cycli. De tevens opgenomen paragraafnummers verwijzen naar de subparagraaf waarin de betreffende cyclus wordt behandeld.

[width="100%",cols="15%a,85%",frame=none,grid=none]
|===
2+|Gemeenten en RNI onderling:
|

* <<_vervolginschrijving_van_gemeente_naar_gemeente,5.2.2>>

|Vervolginschrijving van gemeente naar gemeente
|

* <<_vervolginschrijving_van_gemeente_naar_rni,5.2.3>>

|Vervolginschrijving van gemeente naar RNI
|

* <<_vervolginschrijving_van_rni_naar_gemeente,5.2.4>>

|Vervolginschrijving van RNI naar gemeente
|

* <<_toevallige_geboorte,5.2.5>>

|Toevallige geboorte
|

* <<_toevallige_gebeurtenis,5.2.6>>

|Toevallige gebeurtenis
|

* <<_opnemen_verwijsgegevens,5.2.7>>

|Opnemen verwijsgegevens
|

* <<_wijzigen_anummer_in_de_verwijsgegevens,5.2.8>>

|Wijzigen A‑nummer in de verwijsgegevens
2+|Gemeenten, RNI en de Minister van Justitie:
|

* <<_opnemenwijzigen_verblijfstitel_2,5.2.9>>

|Opnemen/wijzigen verblijfstitel
2+|Gemeenten, RNI en BRP-V:
|

* <<_synchronisatie_met_brp_verstrekkingen,5.2.10>>

|Synchronisatie met BRP-V
|

* <<_synchronisatievraag,5.2.11>>

|Synchronisatievraag
2+|Gemeenten, RNI en de synchroniciteitsmailbox:
|

* <<_synchroniciteit_met_brp_verstrekkingen,5.2.12>>

|Synchroniciteit met BRP-V
|===

[width="100%",cols="15%a,25%,60%",frame=none,grid=none]
|===
3+|Webservices in verband met bevragen door gemeenten en de RNI van de BvBSN:
|

* <<_webservice_aanvragen_bsn_voorraad_bij_bvbsn,5.2.13>>

|GenereerDistribueerNr |Opvragen BSN-nummervoorraad
|

* <<_webservice_presentievraag_aan_bvbsn,5.2.14>>

|MatchIdenGeg |Presentievraag
3+|
3+|Webservices in verband met het bevragen door gemeenten en RNI van BRP-V:
|

* <<_opvragen_persoonslijst_bij_brp_verstrekkingen,5.2.15>>

|VraagPL |Geeft de volledige persoonslijst terug inclusief onjuiste historie
|

* <<_opvragen_afnemersindicaties,5.2.16>>

|VraagAI |Geeft alle afnemersinidicaties die bij een specifieke persoonslijst staan
|

* <<_controleren_pl,5.2.17>>

|ControleerPL |Controleert de opgestuurde persoonslijst (functie van de webservice StuurGBAbericht)
3+|
3+| Webservices en API's in verband met het aanvragen van een voorraad A-nummers door gemeenten, RNI, de Landen en eilanden van het Caribisch gebied of beheerders van BRP-V bij BRP-V:
|

* <<_aanvragen_a_nummervoorraad_bij_brp_verstrekkingen_via_webservice,5.2.18>>

|VraagVoorraadAnrs |Webservice die het gevraagde aantal A-nummers verstrekt
|

* <<_aanvragen_a_nummervoorraad_bij_brp_verstrekkingen_via_api,5.2.19>>

|A-Nummer |API die het gevraagde aantal A-nummers verstrekt
3+|
3+|Webservices in verband met het indienen van verzoeken door ABO's bij de RNI:
|

* <<_indienen_verzoek_abo_aan_rni,5.2.20>>

|DeelnemerOpgave |ABO verzoekt om een inschrijving, wijziging, verificatie of stuurt een aanvullend brondocument op
|

* <<_beantwoorden_verzoek_abo_door_rni,5.2.21>>

|OpgaveResultaat |RNI stuurt het inhoudelijke resultaat op een DeelnemerOpgave terug
|

* <<_statusverzoeken_abo_opvragen_aan_rni,5.2.22>>

|DeelnemerAanvraag |ABO verzoekt om statusinformatie van een of meer ingediende DeelnemerOpgaven
|===

De berichtencycli 5.2.2 t/m 5.2.12 kunnen behalve met de mailboxserver ook via de BRP Berichten API worden uitgewisseld.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Vervolginschrijving van gemeente naar gemeente

[.text-center]
.Schematische weergave Vervolginschrijving van gemeente naar gemeente
image::image16.svg[width=566,height=608]

===== Inleiding

Deze cyclus wordt uitgevoerd wanneer een burger zich meldt in de gemeente van vestiging en zijn persoonsgegevens in een andere gemeente in de BRP zijn opgenomen.

Voor elke over te zenden PL worden identificerende gegevens bepaald en met behulp van deze gegevens wordt de PL opgezocht. De door de gemeente van vertrek verstuurde PL wordt in de gemeente van vestiging ingeschreven op het adres van een geldig adresseerbaar object in de BAG. Vervolgens wordt binnen deze cyclus de verwijsketen bijgewerkt.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Gemeente van vestiging* +
Het verzamelen van de identificerende gegevens en het verzenden van deze gegevens in het <<Ii01,Ii01>>-bericht.
. *Gemeente van vertrek* +
Het opzoeken van een unieke actuele PL met behulp van de ontvangen identificerende gegevens in het <<Ii01,Ii01>>-bericht. Bij een unieke identificatie worden de persoonsgegevens opgenomen in het <<Ib01,Ib01>>-bericht en na blokkering van de PL wordt het <<Ib01,Ib01>>-bericht verzonden.
. *Gemeente van vestiging* +
Er wordt gecontroleerd of de ontvangen PL in het <<Ib01,Ib01>>-bericht correspondeert met de gegevens in het <<Ii01,Ii01>>-bericht. Is de ontvangen PL ook de gevraagde PL dan wordt deze opgenomen en geactualiseerd; de PL wordt ingeschreven op het adres van een geldig adresseerbaar object in de BAG. Vervolgens worden in het <<Iv01,Iv01>>-bericht de verwijsgegevens verzonden.
. *Gemeente van vertrek* +
Er wordt gecontroleerd of de ontvangen verwijsgegevens in het <<Iv01,Iv01>>-bericht betrekking hebben op de verzonden PL in het <<Ib01,Ib01>>-bericht. Is dit het geval dan wordt de geblokkeerde PL verwijderd en worden de verwijsgegevens opgenomen. Na het opnemen van de verwijsgegevens wordt een verwerkbevestiging verzonden.
. *Gemeente van vestiging* +
De ontvangst van een verwerkbevestiging betekent dat de vervolginschrijvingsprocedure correct is afgerond en dat de verwijsketen is bijgewerkt.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Wanneer meerdere personen voldoen aan de identificatie in het <<Ii01,Ii01>>-bericht, wordt een <<If01,If01>>-bericht gestuurd met foutreden "U".
|[.number]#&#x2461;# |Is de gevraagde persoon in het PL‑bestand niet te vinden, dan wordt gezocht in het verwijsbestand volgens de zoekprocedure zoals beschreven in <<_identificatie>> onder "Ingang op verwijsgegevens". +
Als de gevraagde gegevens worden gevonden in het verwijsbestand, wordt een <<If01,If01>>-bericht met foutreden "V" aangemaakt, met in de kop de gemeente ofwel, zo dat het geval is, de RNI waarheen de PL is verzonden.
|[.number]#&#x2462;# |Wanneer in het verwijsbestand meerdere personen voldoen aan de identificatie in het <<Ii01,Ii01>>-bericht, wordt een <<If01,If01>>-bericht gestuurd met foutreden "U". Is de gevraagde persoon in het verwijsbestand niet te vinden, dan wordt een <<If01,If01>>-bericht verstuurd met foutreden "G".
|[.number]#&#x2463;# |Wanneer de gemeente van vertrek de gevraagde persoon wel kan vinden, dan wordt gekeken naar de status van de PL. Is de bijhouding van de PL opgeschort in verband met overlijden, dan wordt een <<If01,If01>>-bericht gestuurd met foutreden "O". Bij opschorting vanwege emigratie wordt een <<If01,If01>>-bericht gestuurd met foutreden "E". Bij opschorting vanwege ministerieel besluit wordt een <<If01,If01>>-bericht gestuurd met foutreden "M".
|[.number]#&#x2464;# |Het is ook mogelijk dat de PL in de gemeente van vertrek al is geblokkeerd in verband met een vervolginschrijving. Daarbij zijn er de volgende mogelijkheden:

* De blokkering is het gevolg van een eerder gestarte vervolginschrijvings­procedure vanuit dezelfde gemeente. Dit wijst op een administratieve of een technische fout in de gemeente van vestiging. Er dient een <<If01,If01>>-bericht te worden verstuurd met foutreden "B".
* De blokkering is het gevolg van een vervolginschrijvingsprocedure naar een andere gemeente of naar de RNI. De gemeente van vertrek verstuurt een <<If01,If01>>-bericht met foutreden "B". De vervolginschrijvingsprocedure naar die andere gemeente dan wel naar de RNI dient te worden afgerond.

In beide situaties wordt in de kop van het bericht de gemeente ofwel, zo dat het geval is, de RNI vermeld waarheen de PL is verzonden.
|[.number]#&#x2465;# |Afhankelijk van de foutreden in de kop van het <<If01,If01>>-bericht worden de volgende acties ondernomen:

*Foutreden B*

* Als de gemeente vermeld in het <<If01,If01>>-bericht een derde gemeente betreft of de RNI, dan dient een onderzoek te worden ingesteld. Wijst dit onderzoek uit dat de betrokkene zich toch in de eigen gemeente heeft gevestigd, dan wordt de PL via de vervolginschrijvingsprocedure uit deze derde gemeente ofwel, zo dat het geval is, uit de RNI opgehaald.
| |
* Als de gemeente in het <<If01,If01>>-bericht de eigen gemeente betreft, dan dient allereerst te worden nagegaan of er inderdaad sprake is van een "dubbele" procedure, dat wil zeggen of er nog een tweede vervolginschrijvingsprocedure voor de betrokken persoon loopt. Is dit het geval, dan is verdere actie niet nodig omdat mag worden aangenomen dat de eerder gestarte cyclus normaal zal worden beëindigd. Wel dient te worden nagegaan of hier sprake was van een administratieve fout (één melding van de burger is tweemaal in ontvangst genomen en/of verwerkt) of van een technische fout (één actie aan het scherm heeft aanleiding gegeven tot het starten van twee berichtencycli). In het laatste geval dient contact te worden opgenomen met de leverancier van het systeem en het voorval dient te worden gemeld aan RvIG.
* Is er sprake van slechts één cyclus, dan dient deze cyclus te worden afgebroken. Er is dan op zijn minst sprake van een ernstig synchronisatieprobleem tussen beide betrokken systemen, er is weinig reden om aan te nemen dat de ingebouwde herstelmechanismen nog het gewenste effect zullen hebben. +
Er dient te worden nagegaan waar de cyclus is gestrand. Is er voor de betrokken persoon nog geen PL ontvangen, dan dient contact te worden opgenomen met de gemeente van vertrek om ook daar de cyclus af te laten breken en de PL te laten deblokkeren. Vervolgens kan de gehele procedure opnieuw worden gestart met het <<Ii01,Ii01>>-bericht. +
Is de PL wél ontvangen en opgenomen, dan rest slechts het laten aanleggen van verwijsgegevens (zie cyclus opnemen verwijsgegevens). Ook dit geval dient te worden gemeld bij RvIG.

*Foutreden E*

Er dient een onderzoek ingesteld te worden. Immers, de PL is wel opgeschort vanwege emigratie maar niet geblokkeerd wegens een vervolginschrijvingsprocedure naar de RNI. Dit wijst op een administratieve of een technische fout in de gemeente van vestiging. Er is dan een aantal mogelijkheden:

* de burger is inderdaad geëmigreerd; de PL moet alsnog worden geblokkeerd waarna de vervolginschrijving van gemeente naar RNI dient te worden gestart;
* de emigratie blijkt onjuist; de gemeente van vertrek dient een correctie uit te voeren waarna de vervolginschrijvingsprocedure naar de gemeente van vestiging opnieuw kan worden gestart.

*Foutreden G*

Indien de correcte identificerende gegevens zijn gebruikt, zal een nader onderzoek moeten uitwijzen of de betrokken persoon eerder is ingeschreven in de BRP en zo ja, waar de PL zich bevindt. Vervolgens wordt ofwel een nieuwe vervolginschrijvingsprocedure in gang gezet, of er vindt een eerste inschrijving plaats. +
Indien niet de correcte identificerende gegevens zijn gebruikt, kan een nieuwe vervolginschrijvingsprocedure in gang worden gezet met de correcte identificerende gegevens.

*Foutreden M*

Er dient een onderzoek ingesteld te worden. Immers, de PL is wel opgeschort vanwege Ministerieel besluit maar niet geblokkeerd wegens een vervolginschrijvingsprocedure naar de RNI. Dit wijst op een administratieve of een technische fout in de gemeente van vestiging. Er is dan een aantal mogelijkheden:

* er is inderdaad sprake van een Ministerieel besluit; de PL moet alsnog worden geblokkeerd waarna de vervolginschrijving van gemeente naar RNI dient te worden gestart;
* het Ministerieel besluit blijkt onjuist; de gemeente van vertrek dient een correctie uit te voeren waarna de vervolginschrijvingsprocedure naar de gemeente van vestiging opnieuw kan worden gestart.

*Foutreden O*

Er dient een onderzoek ingesteld te worden. Immers, volgens de regels dient de burger zich te melden in de gemeente van vestiging en dan is het vreemd als de persoon in de gemeente van vertrek als overleden staat geregistreerd. Er is dan een aantal mogelijkheden:

* de burger is inderdaad inmiddels overleden; dan is verder geen actie vereist;
| |
* het overlijden blijkt onjuist; de gemeente van vertrek dient een correctie uit te voeren waarna de vervolginschrijvingsprocedure naar de gemeente van vestiging opnieuw kan worden gestart;
* de identificerende gegevens blijken onjuist; in dat geval kan de procedure opnieuw worden gestart met andere identificerende gegevens.

*Foutreden U*

Er zal een nader onderzoek ingesteld moeten worden om te bepalen welke PL de gewenste is. Daarna kan de cyclus opnieuw worden gestart met opname van aanvullende identificerende gegevens in het <<Ii01,Ii01>>-bericht.

*Foutreden V*

Eventueel kan bij de burger worden geverifieerd of de melding terecht is. Vervolgens wordt een nieuwe cyclus gestart door het zenden van een <<Ii01,Ii01>>-bericht aan de gemeente die is vermeld in de kop van het <<If01,If01>>-bericht ofwel het zenden van een <<Ji01,Ji01>>-bericht aan de RNI ingeval de RNI is vermeld in de kop van het <<If01,If01>>-bericht.

|[.number]#&#x2466;# |Bij ontvangst van de PL controleert de gemeente van vestiging of deze PL aan de minimale eisen voldoet. Dit houdt in dat:

. de gegevens die zijn gebruikt voor identificatie (de inhoud van het <<Ii01,Ii01>>-bericht) in overeenstemming zijn met de corresponderende gegevens op de PL;
. de PL een geldig A‑nummer bevat;
. de PL een geldig burgerservicenummer bevat;
. er wordt voldaan aan het voorschrift voor sortering. Dit houdt ook in dat historische categorieën altijd voorafgegaan worden door de bijbehorende actuele categorie;
. het aantal malen dat een categorie actueel voorkomt conform het voorschrift voor de PL is;
. het voorkomen van historie voor een categorie in overeenstemming is met het voorschrift voor de PL;
. alle voor een categorie verplichte elementen voorkomen indien die categorie voorkomt. Elementen kunnen afhankelijk van de aan- of afwezigheid van andere elementen verplicht zijn. Bij deze controle worden categorieën waarin element <<e8410,84.10>>, Indicatie onjuist is opgenomen, uitgesloten. +
Ook worden bij deze controle uitgesloten de met ingang van Logisch Ontwerp BRP 2024.Q1 geldende voorschriften voor de elementen van groep <<g11,11>> Adres en <<g12,12>> Locatie betreffende de vaste koppeling BAG-BRP (zoals beschreven in <<VasteKoppelingBAGBRP>>).

Is aan deze voorwaarden voldaan, dan moet de PL worden opgenomen in het PL‑bestand van de gemeente.

Met betrekking tot de tweede voorwaarde geldt dat het A‑nummer moet voldoen aan het algoritme zoals dat opgenomen is bij de beschrijving van het element <<e0110,01.10>> A‑nummer. Ten aanzien van het uniek zijn van het A‑nummer geldt dat:

* indien het A‑nummer reeds voorkomt in categorie <<c01-51,01>> van een andere PL, de vrijheid bestaat om de ontvangen PL op te nemen of te weigeren;
* indien het A‑nummer reeds voorkomt in de verwijsgegevens, de ontvangen PL moet worden opgenomen;
* indien het A‑nummer reeds voorkomt in gerelateerdengegevens, de ontvangen PL moet worden opgenomen.

Met betrekking tot de derde voorwaarde geldt dat het burgerservicenummer moet voldoen aan het algoritme zoals dat opgenomen is bij de beschrijving van het element <<e0120,01.20>> Burgerservicenummer. Ten aanzien van het uniek zijn van het burgerservicenummer geldt dat indien het burgerservicenummer reeds voorkomt in categorie <<c01-51,01>> Persoon van een andere PL, de ontvangen PL moet worden opgenomen. De constatering van een niet-uniek burgerservicenummer moet gemeld worden aan de BvBSN.

Voldoet de opgenomen PL niet aan de eisen die normaliter aan een PL worden gesteld (er zijn bijvoorbeeld elementen met een "onmogelijke" waarde), dan worden dergelijke gegevenselementen onmiddellijk volgens de normale regels in onderzoek geplaatst.

| |Als dat om technische redenen noodzakelijk is, kunnen evident onjuiste gegevens worden vervangen en ontbrekende gegevens worden aangevuld. Voorwaarde daarbij is wel dat de ontvangen gegevens in enigerlei vorm bewaard blijven, bijvoorbeeld door ze af te drukken op papier of door ze op te nemen in een tijdelijk bestand buiten het eigenlijke BRP-bestand.

Wanneer niet voldaan is aan de eerste voorwaarde, wordt een <<If21,If21>>-bericht verstuurd. Indien aan een van de overige voorwaarden niet voldaan is, wordt een <<Pf03,Pf03>>-bericht verstuurd en wordt dit gemeld aan RvIG.
|[.number]#&#x2467;# |Bij ontvangst van het <<If21,If21>>-bericht wordt de PL in kwestie gedeblokkeerd in de gemeente van vertrek. Vervolgens dient in overleg met de gemeente van vestiging te worden nagegaan hoe het verschil tussen het <<Ii01,Ii01>>-bericht en het <<Ib01,Ib01>>-bericht is ontstaan. Daarna kan de cyclus opnieuw worden gestart met de correcte identificerende gegevens in het <<Ii01,Ii01>>-bericht. Dit voorval dient te worden gemeld aan RvIG.
|[.number]#&#x2468;# |De gemeente van vertrek controleert bij ontvangst van het <<Iv01,Iv01>>-bericht of de verwijsgegevens correct zijn. Dit betekent dat de inhoud van de groepen <<g01,01>>, <<g02,02>> en <<g03,03>> van de verwijsgegevens gelijk moet zijn aan de inhoud van de overeenkomstige groepen op de geblokkeerde PL. Is dat niet het geval, dan wordt een <<If31,If31>>-bericht aan de gemeente van vestiging verstuurd. Voor dit bericht geldt dat het slechts dient om te signaleren dat er een inhoudelijk probleem is met de ontvangen verwijsgegevens.
|[.number]#&#x2469;# |Beide gemeenten zullen moeten onderzoeken waaraan het probleem met de verwijsgegevens te wijten valt. Daarbij zijn er twee mogelijkheden:

* De verwijsgegevens waren correct. Dit kan het geval zijn als de PL onmiddellijk bij binnenkomst in de gemeente van vestiging is gecorrigeerd, bijvoorbeeld omdat er sprake was van een dubbel A‑nummer, of wanneer er standaardwaarden op de PL zijn opgenomen om opname in het systeem mogelijk te maken (zie uitgang 8). De gemeente van vestiging stuurt de verwijsgegevens ongewijzigd nog een keer naar de gemeente van vertrek (zie de cyclus Opnemen verwijsgegevens).
* De verwijsgegevens waren inderdaad onjuist. Hiervan dient melding te worden gemaakt aan RvIG. De juiste verwijsgegevens worden alsnog verstuurd (zie de cyclus Opnemen verwijsgegevens).

Na de uiteindelijke ontvangst van de juiste verwijsgegevens wordt de geblokkeerde PL verwijderd.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Vervolginschrijving van gemeente naar RNI

[.text-center]
.Schematische weergave Vervolginschrijving van gemeente naar RNI
image::image27.svg[width=566,height=486]

===== Inleiding

Deze berichtencyclus wordt uitgevoerd nadat een PL is opgeschort wegens emigratie of wegens het van kracht worden van een Ministerieel besluit.

De gemeente van vertrek (de gemeente waar de burger tot op dat moment is ingeschreven) verzendt de PL naar de RNI, waarna de verstuurde PL in de RNI wordt ingeschreven. Vervolgens wordt binnen deze cyclus de verwijsketen bijgewerkt.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Gemeente van vertrek* +
De persoonsgegevens van de met reden "E" of "M" opgeschorte PL worden opgenomen in het <<Rb01,Rb01>>-bericht en na blokkering van de PL wordt het <<Rb01,Rb01>>-bericht verzonden.
. *RNI* +
Er wordt gecontroleerd of de ontvangen PL in het <<Rb01,Rb01>>-bericht is opgeschort met reden "E" of "M". Is dat inderdaad het geval, dan wordt de PL opgenomen in de RNI. Vervolgens worden in het <<Rv01,Rv01>>-bericht de verwijsgegevens verzonden.
. *Gemeente van vertrek* +
Er wordt gecontroleerd of de ontvangen verwijsgegevens in het <<Rv01,Rv01>>-bericht betrekking hebben op de verzonden PL in het <<Rb01,Rb01>>-bericht. Is dit het geval, dan wordt de geblokkeerde PL verwijderd en worden de verwijsgegevens opgenomen. Na het opnemen van de verwijsgegevens wordt een verwerkbevestiging verzonden.
. *RNI* +
De ontvangst van een verwerkbevestiging betekent dat de vervolginschrijvingsprocedure van de gemeente naar de RNI correct is afgerond en dat de verwijsketen is bijgewerkt.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Bij ontvangst van het <<Rb01,Rb01>>-bericht controleert de RNI de status van de PL. Is de bijhouding van de PL niet opgeschort, dan duidt dit op een actueel ingeschreven PL in de gemeente van vertrek. Er wordt een <<Rf01,Rf01>>-bericht met foutreden "A" verstuurd. Als de bijhouding van de PL wel is opgeschort maar in verband met overlijden, dan wordt een <<Rf01,Rf01>>-bericht gestuurd met foutreden "O".
|[.number]#&#x2461;# |Wanneer de PL is opgeschort met reden "E" of "M", controleert de RNI of deze PL aan de minimale eisen voldoet. Dit houdt in dat:

. de PL een geldig A‑nummer bevat;
. de PL een geldig burgerservicenummer bevat;
. er wordt voldaan aan het voorschrift voor sortering. Dit houdt ook in dat historische categorieën altijd voorafgegaan worden door de bijbehorende actuele categorie;
. het aantal malen dat een categorie actueel voorkomt conform het voorschrift voor de PL is;
. het voorkomen van historie voor een categorie in overeenstemming is met het voorschrift voor de PL;
. alle voor een categorie verplichte elementen voorkomen indien die categorie voorkomt. Elementen kunnen afhankelijk van de aan- of afwezigheid van andere elementen verplicht zijn. Bij deze controle worden categorieën waarin element <<e8410,84.10>>, Indicatie onjuist is opgenomen, uitgesloten. +
Ook worden bij deze controle uitgesloten de met ingang van Logisch Ontwerp BRP 2024.Q1 geldende voorschriften voor de elementen van groep <<g11,11>> Adres en <<g12,12>> Locatie betreffende de vaste koppeling BAG-BRP (zoals beschreven in <<VasteKoppelingBAGBRP>>).

Is aan deze voorwaarden voldaan, dan moet de PL worden opgenomen in het PL‑bestand van de RNI.

Met betrekking tot de eerste voorwaarde geldt dat het A-nummer moet voldoen aan het algoritme zoals dat opgenomen is bij de beschrijving van het element <<e0110,01.10>> A-nummer. Ten aanzien van het uniek zijn van het A‑nummer geldt dat:

* indien het A‑nummer reeds voorkomt in categorie <<c01-51,01>> van een andere PL in de RNI, de ontvangen PL niet wordt opgenomen maar wordt geweigerd;
* indien het A‑nummer reeds voorkomt in de verwijsgegevens, de ontvangen PL moet worden opgenomen;
* indien het A‑nummer reeds voorkomt in gerelateerdengegevens, de ontvangen PL moet worden opgenomen.

Met betrekking tot de tweede voorwaarde geldt dat het burgerservicenummer moet voldoen aan het algoritme zoals dat opgenomen is bij de beschrijving van het element <<e0120,01.20>> Burgerservicenummer. Ten aanzien van het uniek zijn van het burgerservicenummer geldt dat indien het burgerservicenummer reeds voorkomt in categorie <<c01-51,01>> Persoon van een andere PL, de ontvangen PL moet worden opgenomen. De constatering van een niet-uniek burgerservicenummer moet gemeld worden aan de BvBSN.

Voldoet de opgenomen PL niet aan de eisen die normaliter aan een PL worden gesteld (er zijn bijvoorbeeld elementen met een "onmogelijke" waarde), dan worden dergelijke gegevenselementen onmiddellijk volgens de normale regels in onderzoek geplaatst.

Als dat om technische redenen noodzakelijk is, kunnen evident onjuiste gegevens worden vervangen en ontbrekende gegevens worden aangevuld. Voorwaarde daarbij is wel dat de ontvangen gegevens in enigerlei vorm bewaard blijven, bijvoorbeeld door ze af te drukken op papier of door ze op te nemen in een tijdelijk bestand buiten de eigenlijke RNI.

Wanneer aan een van de genoemde voorwaarden niet voldaan is, wordt een <<Pf03,Pf03>>-bericht verstuurd en wordt dit gemeld aan RvIG.
|[.number]#&#x2462;# |Afhankelijk van de foutreden in de kop van het <<Rf01,Rf01>>-bericht worden de volgende acties ondernomen:

*Foutreden A*

Er dient een onderzoek ingesteld te worden. Immers, de aanleiding voor het versturen van de PL is een emigratie of het van kracht worden van een Ministerieel besluit. Dan is het vreemd als de ontvangen PL niet opgeschort blijkt te zijn. Er is dan een aantal mogelijkheden:
| |
* de PL is inderdaad actueel en de emigratie of het Ministerieel besluit is niet op de PL opgenomen of inmiddels onjuist gemaakt; dan is verder geen actie vereist;
* het actueel zijn van de PL blijkt onjuist; de gemeente van vertrek dient een correctie uit te voeren waarna de vervolginschrijvingsprocedure naar de RNI opnieuw wordt gestart.

*Foutreden O*

Er dient een onderzoek ingesteld te worden. Immers, de aanleiding voor het versturen van de PL is een emigratie of het van kracht worden van een Ministerieel besluit. Dan is het vreemd als de persoon in de gemeente van vertrek als overleden staat geregistreerd. Er is dan een aantal mogelijkheden:

* de burger is inderdaad inmiddels overleden; dan is verder geen actie vereist;
* het overlijden blijkt onjuist; de gemeente van vertrek dient een correctie uit te voeren waarna de vervolginschrijvingsprocedure naar de RNI opnieuw wordt gestart.

|[.number]#&#x2463;# |De gemeente van vertrek controleert bij ontvangst van het <<Rv01,Rv01>>-bericht of de verwijsgegevens correct zijn. Dit betekent dat de inhoud van de groepen <<g01,01>>, <<g02,02>> en <<g03,03>> van de verwijsgegevens gelijk moet zijn aan de inhoud van de overeenkomstige groepen op de geblokkeerde PL. Is dat niet het geval, dan wordt een <<Rf31,Rf31>>-bericht aan de RNI verstuurd. Voor dit bericht geldt dat het slechts dient om te signaleren dat er een inhoudelijk probleem is met de ontvangen verwijsgegevens.
|[.number]#&#x2464;# |De gemeente van vertrek en de RNI zullen samen moeten onderzoeken waaraan he4 probleem met de verwijsgegevens te wijten valt. Daarbij zijn er twee mogelijkheden:

* De verwijsgegevens waren correct. Dit kan het geval zijn als de PL onmiddellijk bij binnenkomst in de RNI is gecorrigeerd, bijvoorbeeld wanneer er standaardwaarden op de PL zijn opgenomen om opname in het systeem mogelijk te maken (zie uitgang 2). De RNI stuurt de verwijsgegevens ongewijzigd nog een keer naar de gemeente van vertrek (zie de cyclus Opnemen verwijsgegevens);
* De verwijsgegevens waren inderdaad onjuist. Hiervan dient melding te worden gemaakt aan RvIG. De juiste verwijsgegevens worden alsnog verstuurd (zie de cyclus Opnemen verwijsgegevens).

Na de uiteindelijke ontvangst van de juiste verwijsgegevens wordt de geblokkeerde PL verwijderd.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Vervolginschrijving van RNI naar gemeente

[.text-center]
.Schematische weergave Vervolginschrijving van RNI naar gemeente
image::image29.svg[width=566,height=610]

===== Inleiding

Deze cyclus wordt uitgevoerd wanneer een burger zich meldt in de gemeente van vestiging, in verband met een immigratie (een (her)vestiging in Nederland) of de opheffing van een Ministerieel besluit, en zijn persoonsgegevens in de RNI zijn opgenomen.

Voor elke over te zenden PL worden identificerende gegevens bepaald en met behulp van deze gegevens wordt de PL opgezocht. De door de RNI verstuurde PL wordt in de gemeente van vestiging ingeschreven op het adres van een geldig adresseerbaar object in de BAG. Vervolgens wordt binnen deze cyclus de verwijsketen bijgewerkt. Tot slot worden ontbrekende gegevens op de PL aangevuld.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Gemeente van vestiging* +
Het verzamelen van de identificerende gegevens en het verzenden van deze gegevens in het <<Ji01,Ji01>>-bericht.
. *RNI* +
Het opzoeken van een unieke PL met behulp van de ontvangen identificerende gegevens in het <<Ji01,Ji01>>-bericht. Bij een unieke identificatie worden de persoonsgegevens opgenomen in het <<Jb01,Jb01>>-bericht en na blokkering van de PL wordt het <<Jb01,Jb01>>-bericht verzonden. De gegevens in de categorieën <<c16-66,16/66>> Tijdelijk verblijfsadres en <<c17,17>> Contactgegevens en de gegevens in groep <<g71,07.71>> Verificatie en de groepen <<g88,88>> Deelnemer in alle categorieën worden niet meegestuurd in het <<Jb01,Jb01>>-bericht.
. *Gemeente van vestiging* +
Er wordt gecontroleerd of de ontvangen PL in het <<Jb01,Jb01>>-bericht correspondeert met de gegevens in het <<Ji01,Ji01>>-bericht en of de PL is opgeschort met reden "E", "M" of "R". Is dat inderdaad het geval, dan wordt de PL opgenomen en geactualiseerd; de PL wordt ingeschreven op het adres van een geldig adresseerbaar object in de BAG in de gemeente. Ingeval het een PL betreft die is opgeschort met reden "R", wordt bovendien in de voorkomende categorie(ën)<<c01-51,01/51>> Persoon element <<e6110,61.10>> Aanduiding naamgebruik opgenomen met de waarde "E" en de gegevens van de ouders worden opgenomen in categorie 02 Ouder1 en 03 Ouder2. Vervolgens worden in het <<Jv01,Jv01>>-bericht de verwijsgegevens verzonden.
. *RNI* +
Er wordt gecontroleerd of de ontvangen verwijsgegevens in het <<Jv01,Jv01>>-bericht betrekking hebben op de verzonden PL in het <<Jb01,Jb01>>-bericht. Is dit het geval, dan wordt de geblokkeerde PL verwijderd en worden de verwijsgegevens opgenomen. Na het opnemen van de verwijsgegevens wordt een verwerkbevestiging verzonden.
. *Gemeente van vestiging* +
De ontvangst van een verwerkbevestiging betekent dat de vervolginschrijvingsprocedure van de RNI naar de gemeente correct is afgerond en dat de verwijsketen is bijgewerkt. Hierna controleert de gemeente van vestiging de ontvangen PL en vult ontbrekende gegevens aan.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Wanneer meerdere personen voldoen aan de identificatie in het <<Ji01,Ji01>>-bericht, wordt een <<Jf01,Jf01>>-bericht gestuurd met foutreden "U".
|[.number]#&#x2461;# |Is de gevraagde persoon in het PL‑bestand van de RNI niet te vinden, dan wordt gezocht in het verwijsbestand volgens de zoekprocedure zoals beschreven in <<_identificatie>>, onder "Ingang op verwijsgegevens".

Als de gevraagde gegevens worden gevonden in het verwijsbestand, wordt een <<Jf01,Jf01>>-bericht met foutreden "V" aangemaakt, met in de kop de gemeente waarheen de PL is verzonden.
|[.number]#&#x2462;# |Wanneer in het verwijsbestand meerdere personen voldoen aan de identificatie in het <<Ji01,Ji01>>-bericht, wordt een <<Jf01,Jf01>>-bericht gestuurd met foutreden "U". Is de gevraagde persoon in het verwijsbestand niet te vinden, dan wordt een <<Jf01,Jf01>>-bericht verstuurd met foutreden "G".
|[.number]#&#x2463;#  |Wanneer de RNI de gevraagde persoon wel kan vinden, dan wordt gekeken naar de status van de PL. Is de bijhouding van de PL niet opgeschort, dan duidt dit op een actueel ingeschreven PL in de RNI. Er wordt een <<Jf01,Jf01>>-bericht met foutreden "A" verstuurd. Als de bijhouding van de PL wel is opgeschort maar in verband met overlijden, dan wordt een <<Jf01,Jf01>>-bericht gestuurd met foutreden "O".
|[.number]#&#x2464;#  |
Het is ook mogelijk dat de PL in de RNI al is geblokkeerd in verband met een vervolginschrijving. Daarbij zijn er de volgende mogelijkheden:

* De blokkering is het gevolg van een eerder gestarte vervolginschrijvings­procedure vanuit dezelfde gemeente. Dit wijst op een administratieve of een technische fout in de gemeente van vestiging. Er dient een <<Jf01,Jf01>>-bericht te worden verstuurd met foutreden "B".
* De blokkering is het gevolg van een vervolginschrijvingsprocedure naar een andere gemeente. De RNI verstuurt een <<Jf01,Jf01>>-bericht met foutreden "B". De vervolginschrijvingsprocedure naar die andere gemeente dient te worden afgerond.

In beide situaties wordt in de kop van het bericht de gemeente vermeld waarheen de PL is verzonden.
|[.number]#&#x2465;# |Afhankelijk van de foutreden in de kop van het <<Jf01,Jf01>>-bericht worden de volgende acties ondernomen:
| |
*Foutreden A*

Als de gevonden PL in de RNI actueel blijkt te zijn, dient de RNI een correctie uit te voeren. Daarna kan de vervolginschrijvingsprocedure opnieuw worden gestart.

*Foutreden B*

* Als de gemeente vermeld in het <<Jf01,Jf01>>-bericht een andere gemeente betreft, dan dient een onderzoek te worden ingesteld. Wijst dit onderzoek uit dat de betrokkene zich toch in de eigen gemeente heeft gevestigd, dan wordt de PL via de vervolginschrijvingsprocedure uit die andere gemeente opgehaald.

* Als de gemeente in het <<Jf01,Jf01>>-bericht de eigen gemeente betreft, dan dient allereerst te worden nagegaan of er inderdaad sprake is van een "dubbele" procedure, dat wil zeggen of er nog een tweede vervolginschrijvingsprocedure voor de betrokken persoon loopt. Is dit het geval, dan is verdere actie niet noodzakelijk omdat mag worden aangenomen dat de eerder gestarte cyclus normaal zal worden beëindigd. Wel dient te worden nagegaan of hier sprake was van een administratieve fout (één melding van de burger is tweemaal in ontvangst genomen en/of verwerkt) of van een technische fout (één actie aan het scherm heeft aanleiding gegeven tot het starten van twee berichtencycli). In het laatste geval dient contact te worden opgenomen met de leverancier van het systeem en het voorval dient te worden gemeld aan RvIG.

* Is er sprake van slechts één cyclus, dan dient deze cyclus te worden afgebroken. Er is dan op zijn minst sprake van een ernstig synchronisatieprobleem tussen beide betrokken systemen, er is weinig reden om aan te nemen dat de ingebouwde herstelmechanismen nog het gewenste effect zullen hebben. +
Er dient te worden nagegaan waar de cyclus is gestrand. Is er voor de betrokken persoon nog geen PL ontvangen, dan dient contact te worden opgenomen met de RNI om ook daar de cyclus af te laten breken en de PL te laten deblokkeren. Vervolgens kan de gehele procedure opnieuw worden gestart met het <<Ji01,Ji01>>-bericht. +
Is de PL wél ontvangen en opgenomen, dan rest slechts het laten aanleggen van verwijsgegevens (zie cyclus opnemen verwijsgegevens). Ook dit geval dient te worden gemeld bij RvIG.

*Foutreden G*

Indien de correcte identificerende gegevens zijn gebruikt, zal een nader onderzoek moeten uitwijzen of de betrokken persoon eerder is ingeschreven in de BRP en zo ja, waar de PL zich bevindt. Vervolgens wordt ofwel een nieuwe vervolginschrijvingsprocedure gang gezet, of er vindt een eerste inschrijving plaats. +
Indien niet de correcte identificerende gegevens zijn gebruikt, kan een nieuwe vervolginschrijvingsprocedure in gang worden gezet met de correcte identificerende gegevens.

*Foutreden O*

Er dient een onderzoek ingesteld te worden. Immers, volgens de regels dient de burger zich te melden in de gemeente van vestiging en dan is het vreemd als de persoon in de RNI als overleden staat geregistreerd. Er is dan een aantal mogelijkheden:

* de burger is inderdaad inmiddels overleden; dan is verder geen actie vereist;
* het overlijden blijkt onjuist; de RNI dient een correctie uit te voeren waarna de vervolginschrijvingsprocedure opnieuw kan worden gestart;
* de identificerende gegevens blijken onjuist; in dat geval kan de procedure opnieuw worden gestart met andere identificerende gegevens.

*Foutreden U*

Er zal een nader onderzoek ingesteld moeten worden om te bepalen welke PL de gewenste is. Daarna kan de cyclus opnieuw worden gestart met opname van aanvullende identificerende gegevens in het <<Ji01,Ji01>>-bericht.

*Foutreden V*

Eventueel kan bij de burger worden geverifieerd of de melding terecht is. Vervolgens wordt een nieuwe cyclus gestart door het zenden van een <<Ii01,Ii01>>-bericht aan de gemeente die is vermeld in de kop van het <<Jf01,Jf01>>-bericht.
|[.number]#&#x2466;# |
Bij ontvangst van de PL controleert de gemeente van vestiging of deze PL aan de minimale eisen voldoet. Dit houdt in dat:

. de gegevens die zijn gebruikt voor identificatie (de inhoud van het <<Ji01,Ji01>>-bericht) in overeenstemming zijn met de corresponderende gegevens op de PL;
. de PL een geldig A‑nummer bevat;
. de PL een geldig burgerservicenummer bevat;
. er wordt voldaan aan het voorschrift voor sortering (zie <<_opbouw_van_de_berichtendienst_berichten>>). Dit houdt ook in dat historische categorieën altijd voorafgegaan worden door de bijbehorende actuele categorie;
. het aantal malen dat een categorie actueel voorkomt conform het voorschrift voor de PL is. Bij deze controle wordt ingeval de PL is opgeschort met reden "R" het verplicht voorkomen van categorie <<c02-52,02>> Ouder1 en <<c03-53,03>> Ouder2 uitgesloten;
. het voorkomen van historie voor een categorie in overeenstemming is met het voorschrift voor de PL;
. alle voor een categorie verplichte elementen voorkomen indien die categorie voorkomt. Elementen kunnen afhankelijk van de aan- of afwezigheid van andere elementen verplicht zijn. Bij deze controle worden categorieën waarin element <<e8410,84.10>>, Indicatie onjuist is opgenomen, uitgesloten. +
Ook worden bij deze controle uitgesloten de met ingang van Logisch Ontwerp BRP 2024.Q1 geldende voorschriften voor de elementen van groep <<g11,11>> Adres en <<g12,12>> Locatie betreffende de vaste koppeling BAG-BRP (zoals beschreven in <<VasteKoppelingBAGBRP>>). +
Bovendien wordt, ingeval de PL is opgeschort met reden "R", bij deze controle het verplicht voorkomen van element <<e6110,61.10>> Aanduiding naamgebruik in categorie <<c01-51,01/51>> Persoon uitgesloten.

Is aan deze voorwaarden voldaan, dan moet de PL worden opgenomen in het PL‑bestand van de gemeente.

Met betrekking tot de tweede voorwaarde geldt dat het A‑nummer moet voldoen aan het algoritme zoals dat opgenomen is bij de beschrijving van het element <e0110,01.10>> A‑nummer. Ten aanzien van het uniek zijn van het A‑nummer geldt dat:

* indien het A‑nummer reeds voorkomt in categorie <<c01-51,01>> van een andere PL, de vrijheid bestaat om de ontvangen PL op te nemen of te weigeren;
* indien het A‑nummer reeds voorkomt in de verwijsgegevens, de ontvangen PL moet worden opgenomen;
* indien het A‑nummer reeds voorkomt in gerelateerdengegevens, de ontvangen PL moet worden opgenomen.

Met betrekking tot de derde voorwaarde geldt dat het burgerservicenummer moet voldoen aan het algoritme zoals dat opgenomen is bij de beschrijving van het element <<e0120,01.20>> Burgerservicenummer. Ten aanzien van het uniek zijn van het burgerservicenummer geldt dat indien het burgerservicenummer reeds voorkomt in categorie <<c01-51,01>> Persoon van een andere PL, de ontvangen PL moet worden opgenomen. De constatering van een niet-uniek burgerservicenummer moet gemeld worden aan de BvBSN.

Voldoet de opgenomen PL niet aan de eisen die normaliter aan een PL worden gesteld (er zijn bijvoorbeeld elementen met een "onmogelijke" waarde), dan worden dergelijke gegevenselementen onmiddellijk volgens de normale regels in onderzoek geplaatst.

Als dat om technische redenen noodzakelijk is, kunnen evident onjuiste gegevens worden vervangen en ontbrekende gegevens worden aangevuld. Voorwaarde daarbij is wel dat de ontvangen gegevens in enigerlei vorm bewaard blijven, bijvoorbeeld door ze af te drukken op papier of door ze op te nemen in een tijdelijk bestand buiten de eigenlijke BRP. Deze eisen gelden niet bij een met reden "R" opgeschorte PL voor element 61.10 Aanduiding naamgebruik in categorie <<c01-51,01/51>> Persoon en voor categorie 02 Ouder1 en 03 Ouder2.

Wanneer niet voldaan is aan de eerste voorwaarde, wordt een <<Jf21,Jf21>>-bericht verstuurd. Indien aan een van de overige voorwaarden niet voldaan is, wordt een <<Pf03,Pf03>>-bericht verstuurd en wordt dit gemeld aan RvIG.

|[.number]#&#x2467;# |Bij ontvangst van het <<Jf21,Jf21>>-bericht wordt de PL in kwestie gedeblokkeerd in de RNI. Vervolgens dient in overleg met de gemeente van vestiging te worden nagegaan hoe het verschil tussen het <<Ji01,Ji01>>-bericht en het <<Jb01,Jb01>>-bericht is ontstaan. Daarna kan de cyclus opnieuw worden gestart met de correcte identificerende gegevens in het <<Ji01,Ji01>>-bericht. Dit voorval dient te worden gemeld aan RvIG.
|[.number]#&#x2468;# |De RNI controleert bij ontvangst van het <<Jv01,Jv01>>-bericht of de verwijsgegevens correct zijn. Dit betekent dat de inhoud van de groepen <<g01,01>>, <<g02,02>> en <<g03,03>> van de verwijsgegevens gelijk moet zijn aan de inhoud van de overeenkomstige groepen op de geblokkeerde PL. Is dat niet het geval, dan wordt een <<Jf31,Jf31>>-bericht aan de gemeente van vestiging verstuurd. Voor dit bericht geldt dat het slechts dient om te signaleren dat er een inhoudelijk probleem is met de ontvangen verwijsgegevens.
|[.number]#&#x2469;# |De RNI en de gemeente van vestiging zullen samen moeten onderzoeken waaraan het probleem met de verwijsgegevens te wijten valt. Daarbij zijn er twee mogelijkheden:

* De verwijsgegevens waren correct. Dit kan het geval zijn als de PL onmiddellijk bij binnenkomst in de gemeente van vestiging is gecorrigeerd, bijvoorbeeld omdat er sprake was van een dubbel A‑nummer, of wanneer er standaardwaarden op de PL zijn opgenomen om opname in het systeem mogelijk te maken (zie uitgang 7). De gemeente van vestiging stuurt de verwijsgegevens ongewijzigd nog een keer naar de RNI (zie de cyclus Opnemen verwijsgegevens).
* De verwijsgegevens waren inderdaad onjuist. Hiervan dient melding te worden gemaakt aan RvIG. De juiste verwijsgegevens worden alsnog verstuurd (zie de cyclus Opnemen verwijsgegevens).

Na de uiteindelijke ontvangst van de juiste verwijsgegevens wordt de geblokkeerde PL verwijderd.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Toevallige geboorte

[.text-center]
.Schematische weergave Toevallige geboorte
image::image31.svg[width=566,height=665]

===== Inleiding

Deze cyclus wordt uitgevoerd wanneer een kind geboren wordt in een andere gemeente dan waar de eerste inschrijving dient te geschieden.

Het kind wordt ingeschreven op het bestaande adres in de gemeente alwaar ook de ouder uit wie het kind is geboren, is ingeschreven. Wanneer vaststaat dat de ouder uit wie het kind is geboren niet als ingezetene is ingeschreven in de BRP of indien de ouder uit wie het kind is geboren niet gevonden kan worden, dan moet overgegaan tot inschrijving op basis van aangifte van verblijf en adres. Tot slot worden binnen deze cyclus in de geboortegemeente verwijsgegevens opgenomen naar de gemeente van eerste inschrijving. Het voorgaande impliceert dat de geboortegemeente eerst moet controleren of de ouder uit wie het kind is geboren wel is ingeschreven. Is dat niet het geval, dan dient de geboortegemeente een onderzoek in te stellen naar de woonplaats van de ouder uit wie het kind is geboren. Pas wanneer een dergelijk onderzoek is afgerond, kan de procedure worden uitgevoerd; tot die tijd wordt het kind niet ingeschreven. +
Heeft het onderzoek naar de woonplaats van de ouder uit wie het kind is geboren geen resultaat opgeleverd, of stond meteen al vast dat de ouder uit wie het kind is geboren niet in de BRP als ingezetene is ingeschreven (bijvoorbeeld omdat bekend is dat de woonplaats in het buitenland ligt), dan kan het kind op basis van aangifte van verblijf en adres worden ingeschreven.

Van de gezochte ouder (Ouder1 of Ouder2) moet de groep <<g01,01>> Identificatienummers worden opgenomen in het <<Tb01,Tb01>>-bericht. Als er een tweede ouder is opgenomen in het bericht, en die ouder is ingeschreven in de BRP, dan moet ook daarvan de groep Identificatienummers in het <<Tb01,Tb01>>-bericht worden opgenomen.

Als de geboortegegevens van de Ouder1 en/of Ouder2 onbekend zijn, wordt groep <<g03,03>> Geboorte van de Ouder1 en/of groep <<g03,03>> Geboorte van de Ouder2 niet opgenomen in het <<Tb01,Tb01>>-bericht.

Als er nationaliteit(en) van het kind bekend zijn, dan worden deze opgenomen in het <<Tb01,Tb01>>-bericht.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Geboortegemeente* +
Van de geboorteakte en uit BRP-V worden de gegevens afgeleid en in het <<Tb01,Tb01>>-bericht verzonden.
. *Gemeente eerste inschrijving* +
Met behulp van de gegevens uit de inhoud van het <<Tb01,Tb01>>-bericht wordt gecontroleerd of de persoon nog niet is ingeschreven. Vervolgens geldt dat er van de gezochte ouder een actuele PL moet zijn. Welke ouder wordt gezocht, wordt bepaald met behulp van het veld "gezochte persoon" in de kop van het <<Tb01,Tb01>>-bericht dat de waarde "1" (Ouder1) of de waarde "2" (Ouder2) heeft. De gezochte ouder wordt geïdentificeerd met behulp van het A‑nummer uit Ouder1 of Ouder2. +
Als de actuele PL van de gezochte ouder is gevonden, dan wordt het kind ingeschreven. De PL wordt aangelegd en ingeschreven op het adres waarop de gevonden ouder is ingeschreven. +
Bij het aanleggen van de PL voor het kind controleert de gemeente van eerste inschrijving of de gegevens in het <<Tb01,Tb01>>-bericht overeenkomen met de gegevens van de PL van de ouder uit wie het kind is voortgekomen en, zo van toepassing, met die van de andere niet gezochte ouder als die in zijn gemeente is ingeschreven. Indien bij de andere, niet gezochte ouder gegevens uit groep <<g01,01>> Identificatienummers in het <<Tb01,Tb01>>-bericht zijn opgenomen, wordt er alleen met de gegevens uit die groep gezocht. +
Als de gegevens in het <<Tb01,Tb01>>-bericht niet overeenkomen met de gegevens op de betrokken PL(-en) in zijn gemeente, dan worden de betreffende oudergegevens in onderzoek gezet. +
Als er in het bericht bij de andere, niet gezochte ouder geen identificerende gegevens zijn opgenomen in groep <<g01,01>> en toch de PL van die ouder gevonden wordt, wordt de hele betreffende categorie in onderzoek gezet. +
Vervolgens worden in het <<Tv01,Tv01>>-bericht de verwijsgegevens verzonden.
. *Geboortegemeente* +
Er wordt gecontroleerd of de ontvangen verwijsgegevens in het <<Tv01,Tv01>>-bericht betrekking hebben op de verzonden gegevens in het <<Tb01,Tb01>>-bericht. Is dit het geval dan worden de verwijsgegevens opgenomen en wordt er een verwerkbevestiging verzonden.
. *Gemeente eerste inschrijving* +
De ontvangst van een verwerkbevestiging betekent dat de procedure correct is afgerond en dat de verwijsketen is bijgewerkt.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Bij ontvangst van het <<Tb01,Tb01>>-bericht controleert de gemeente van eerste inschrijving of de persoon al voorkomt in het PL‑bestand. Indien dit zo is duidt dit op een administratieve fout (b.v. procedure tweemaal uitgevoerd of aangifte ten onrechte gedaan en verwerkt in de gemeente van eerste inschrijving). Er wordt een <<Tf01,Tf01>>-bericht met foutreden "A" verstuurd.
|[.number]#&#x2461;#  |Afhankelijk van de inhoud van het element "Gezochte persoon" in de kop van het <<Tb01,Tb01>>-bericht zoekt de gemeente van eerste inschrijving in het PL‑bestand de oudergegevens.

Is de gezochte persoon niet uniek te identificeren, dan volgt een <<Tf01,Tf01>>-bericht met foutreden "U".

Is de gezochte ouder niet aanwezig, dan wordt gezocht in het verwijsbestand volgens de zoekprocedure zoals beschreven in <<_identificatie>> onder "Ingang op verwijsgegevens". Is de gezochte ouder ook daar niet te vinden, of is de identificatie in het verwijsbestand niet uniek, dan wordt een foutbericht <<Tf01,Tf01>> met foutreden "G", respectievelijk "U" verzonden. Als de gezochte ouder wel uniek in het verwijsbestand aangetroffen wordt, dan volgt een <<Tf01,Tf01>>-bericht met foutreden "V". In de kop van het bericht wordt aangegeven waar de betrokkene naar toe is verhuisd.
|[.number]#&#x2462;# | Wanneer er in de gemeente van eerste inschrijving één unieke persoon te vinden is die voldoet aan de identificatie van de gezochte persoon die is opgegeven in het <<Tb01,Tb01>>-bericht, dan wordt vervolgens de status van de PL van deze persoon onderzocht.

Wanneer deze PL is geblokkeerd in verband met een verhuizing, dan wordt een <<Tf01,Tf01>>-bericht gestuurd aan de geboortegemeente met foutreden "B". Is de bijhouding van de PL opgeschort dan wordt gereageerd met een <<Tf01,Tf01>>-bericht met daarin de code "E" (emigratie), "M" (Ministerieel besluit) of "O" (overleden).
|[.number]#&#x2463;# |Afhankelijk van de foutreden in de kop van het <<Tf01,Tf01>>-bericht worden de volgende acties ondernomen:

*Foutreden A*

Onderzocht dient te worden wat de oorzaak is van deze foutreden. +
Indien de procedure inderdaad tweemaal is gestart, dient nagegaan te worden of voor het kind verwijsgegevens aanwezig zijn in het eigen bestand. Is dat niet het geval dan dienen deze alsnog te worden aangelegd. Dit kan door de gemeente van eerste inschrijving te verzoeken om de cyclus Opnemen verwijsgegevens uit te voeren voor de betrokken persoon.

*Foutreden B*

De geboortegemeente reageert op een <<Tf01,Tf01>>-bericht met foutreden B net als op foutreden V: een nieuwe cyclus wordt geïnitieerd met de gemeente die in de kop van het <<Tf01,Tf01>>-bericht is vermeld.

*Foutreden E, M of O*

De procedure wordt afgebroken. Het kind moet worden ingeschreven op basis van aangifte van verblijf en adres.

*Foutreden G*

De geboortegemeente dient een onderzoek te starten naar de verblijfplaats van de betreffende ouder. Levert dit onderzoek niet het gewenste resultaat op, dan wordt de procedure afgebroken. Het kind moet worden ingeschreven op basis van aangifte van verblijf en adres.

*Foutreden U*

Blijkbaar komt het A-nummer van de gezochte ouder dubbel voor in de gemeente van eerste inschrijving in het PL-bestand of in het verwijsbestand. De geboortegemeente neemt contact op met de eerste gemeente van inschrijving om de dubbelopneming op te lossen.

*Foutreden V*

Er wordt een nieuwe cyclus Toevallige geboorte gestart door het zenden van een <<Tb01,Tb01>>-bericht aan de gemeente die is vermeld in de kop van het <<Tf01,Tf01>>-bericht.

Als uit de kop van het <<Tf11,Tf11>>-bericht blijkt dat de PL van de ouder is overgedragen aan de RNI, dan kan er geen nieuwe cyclus gestart worden, omdat er dan geen sprake kan zijn van een inschrijving wegens geboorte. Er moet aangifte van verblijf en adres gedaan worden in de gemeente waar het kind ingeschreven moet worden.

|[.number]#&#x2464;# |De gemeente controleert bij ontvangst van een <<Tv01,Tv01>>-bericht of de verwijsgegevens correct zijn. Dit betekent dat de inhoud van de groepen <<g02,02>> en <<g03,03>> van de verwijsgegevens gelijk moet zijn aan de in het <<Tb01,Tb01>>-bericht verzonden gegevens van de geboorteakte. Is dat niet het geval, dan wordt een <<Tf11,Tf11>>-bericht verstuurd. Dit bericht dient om te signaleren dat er een inhoudelijk probleem is met de ontvangen verwijsgegevens.
|[.number]#&#x2465;# |Beide gemeenten zullen moeten onderzoeken waaraan het probleem met de verwijsgegevens te wijten valt. Daarbij zijn er twee mogelijkheden:

* De verwijsgegevens waren correct. Dit kan het geval zijn als in de gemeente van eerste inschrijving na aanleg van de PL actualiseringen op de ontvangen gegevens zijn uitgevoerd. De verwijsgegevens worden in dit geval ongewijzigd nog een keer opgestuurd (zie de cyclus Opnemen verwijsgegevens).
* De verwijsgegevens waren inderdaad onjuist. Hiervan dient melding te worden gemaakt aan RvIG. De juiste verwijsgegevens worden in een separate cyclus alsnog verstuurd (zie de cyclus Opnemen verwijsgegevens).
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Toevallige gebeurtenis

[.text-center]
.Schematische weergave Toevallige gebeurtenis
image::image32.svg[width=566,height=682]

===== Inleiding

Deze cyclus wordt uitgevoerd wanneer een akte is opgemaakt dan wel een latere vermelding is geplaatst op een akte die is opgenomen in de registers van de burgerlijke stand in een andere gemeente dan waar de hoofdpersoon als ingezetene is ingeschreven. Als de betrokken persoon als niet-ingezetene is ingeschreven, wordt deze cyclus uitsluitend uitgevoerd in het geval dat een overlijdensakte wordt opgemaakt.

Het betreft hier uitsluitend de volgende rechtsfeiten (met bijbehorende akteaanduidingen):

* 1•C erkenning na de geboorte
* 1•E ontkenning ouderschap (rechterlijke uitspraak)
* 1•H wijziging van de geslachtsnaam bij koninklijk besluit
* 1•J notariële akte van erkenning
* 1•M voornaamswijziging (rechterlijke uitspraak)
* 1•N vernietiging van een erkenning (rechterlijke uitspraak)
* 1•Q adoptie (rechterlijke uitspraak)
* 1•S wijziging van de geslachtsvermelding
* 1•U verklaring ontkenning ouderschap ex artikel 199, onder b, boek 1 BW
* 1•V gerechtelijke vaststelling van het ouderschap
* 2•A overlijden
* 2•G lijkvinding
* 3•A huwelijk
* 3•B echtscheiding/huwelijksontbinding na scheiding van tafel en bed
* 3•H omzetting geregistreerd partnerschap in huwelijk
* 5•A geregistreerd partnerschap
* 5•B beëindiging geregistreerd partnerschap door overeenkomst of ontbinding
* 5•H omzetting huwelijk in geregistreerd partnerschap

Indien er naamswijzigingen spelen bij een huwelijk, bij het aangaan van een geregistreerd partnerschap, bij een echtscheiding, bij een beëindiging van een geregistreerd partnerschap, bij een omzetting van een huwelijk in een geregistreerd partnerschap of bij een omzetting van een geregistreerd partnerschap in een huwelijk, dan wordt deze cyclus niet uitgevoerd.

De gemeente waar de akte is opgemaakt, dan wel waar de latere vermelding is geplaatst op een akte, verstrekt via deze cyclus de gegevens betreffende het rechtsfeit aan de gemeente van inschrijving van de hoofdpersoon. Als er twee hoofdpersonen zijn (zoals bijvoorbeeld bij een huwelijkssluiting), dan wordt deze cyclus voor elk van deze hoofdpersonen uitgevoerd.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Gebeurtenisgemeente* +
Met behulp van de akte wordt de hoofdpersoon in BRP-V opgezocht. Als de PL niet in een gemeente is ingeschreven, dan kan deze cyclus niet gebruikt worden, tenzij het gaat om een overlijden van een persoon die als niet-ingezetene is ingeschreven. Van de akte (met eventueel latere vermelding) worden de gegevens afgeleid en aangevuld met gegevens uit BRP-V van de betrokken PL'en en in het <<Tb02,Tb02>>-bericht verzonden. +
In de kop van het <<Tb02,Tb02>>-bericht wordt met behulp van de velden "Aantal" en "Identificerende rubrieken" aangegeven welke gegevens uit de inhoud van het <<Tb02,Tb02>>-bericht moeten worden gebruikt voor de controle van de identificatie. In principe zijn dit uit categorie <<c01-51,01>> Persoon de gegevens uit de groepen <<g01,01>> Identificatienummers, <<g02,02>> Naam, <<g03,03>> Geboorte en <<g04,04>> Geslacht. +
Wanneer echter het rechtsfeit een actualisering van de naamgegevens en/of de geslachtsgegevens tot gevolg heeft, worden naast groep <<g01,01>> Identificatienummers van categorie <<c01-51,01>> Persoon, uit categorie <<c01-51,51>> Persoon de gegevens uit groepen <<g02,02>> Naam, <<g03,03>> Geboorte en <<g04,04>> Geslacht gebruikt voor de controle van de identificatie. De groepen <<g02,02>> en/of <<g04,04>> uit categorie <<c01-51,01>> Persoon in de inhoud van het <<Tb02,Tb02>>-bericht bevatten in dit geval namelijk de gegevens zoals deze gelden ná het rechtsfeit. De inhoud van de groep <<g03,03>> in de categorie <<c01-51,01>> is gelijk aan de inhoud van deze groep in categorie <<c01-51,51>>. +
De betreffende rubrieknummers worden opgenomen bij het veld "Identificerende rubrieken". +
Als de betrokken persoon als niet-ingezetene is ingeschreven, wordt deze cyclus uitsluitend uitgevoerd in het geval dat een overlijdensakte wordt opgemaakt.
. *Gemeente van inschrijving of RNI* +
Met behulp van het A-nummer uit categorie Persoon in het <<Tb02,Tb02>>-bericht wordt een unieke niet geblokkeerde PL gezocht. Bij een unieke identificatie geldt voorts dat de identificerende gegevens in het <<Tb02,Tb02>>-bericht (te bepalen met behulp van de inhoud van de elementen "Aantal" en "Identificerende rubrieken" in de kop van het bericht) en de overige gegevens van vóór het rechtsfeit in het <<Tb02,Tb02>>-bericht overeen moeten komen met de actuele gegevens op de gevonden PL en andersom, de verdere gegevens uit het <<Tb02,Tb02>>-bericht moeten overeenstemmen met de gegevens op de PL. Bij deze controle moet rekening gehouden worden met het feit dat de gegevens die in het <<Tb02,Tb02>>-bericht voorkomen in categorie <<c02-52,02>> Ouder1 op de PL aanwezig kunnen zijn in categorie <<c03-53,03>> Ouder2 en omgekeerd. +
Als voor de gezochte persoon geldt dat in het <<Tb02,Tb02>>-bericht in rubriek <<e0320,01.03.20>> dan wel <<e0320,51.03.20>> een buitenlandse plaatsnaam is opgenomen, blijft dit gegeven buiten beschouwing bij het controleren van de identificerende gegevens van de PL van die persoon. Als in rubriek <<e0320,01.03.20>> van de gevonden PL een buitenlandse plaatsnaam voorkomt, die afwijkt van de buitenlandse plaatsnaam in het <<Tb02,Tb02>>-bericht, moet op de gevonden PL rubriek <<e0320,01.03.20>> dan wel <<e0320,51.03.20>> in onderzoek worden gezet. +
Als de PL is opgeschort, moet aan de hand van de ingangsdatum geldigheid worden onderzocht of het rechtsfeit op de PL kan worden opgenomen. +
Indien op basis van de gegevens over een gerelateerde in het bericht de PL van die gerelateerde in de gemeente aanwezig blijkt te zijn en er afwijkingen zijn tussen de gegevens van de gerelateerde zoals die in het <<Tb02,Tb02>>-bericht zijn opgenomen, worden de betrokken, aan het bericht ontleende en op de PL van de persoon opgenomen gegevens in onderzoek gezet. Indien bij een gerelateerde gegevens uit groep <<g01,01>> Identificatienummers in het <<Tb02,Tb02>>-bericht zijn opgenomen, wordt er alleen met de gegevens uit die groep gezocht. +
Als er in het bericht bij de gerelateerde geen identificerende gegevens zijn opgenomen in groep <<g01,01>> en toch de PL van die gerelateerde gevonden wordt, wordt de hele betreffende categorie in onderzoek gezet. +
Indien aan alle voorwaarden wordt voldaan, wordt de gevonden PL geactualiseerd op basis van de gegevens in het <<Tb02,Tb02>>-bericht. +
Na het actualiseren van de PL wordt een verwerkbevestiging verzonden.
. *Gebeurtenisgemeente* +
De ontvangst van een verwerkbevestiging betekent dat de procedure correct is afgerond.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Wanneer de gezochte persoon niet uniek te identificeren is (c.q. meerdere personen voldoen) wordt een <<Tf21,Tf21>>-bericht gestuurd met foutreden "U".
|[.number]#&#x2461;# |Is de gezochte persoon in het PL‑bestand niet te vinden, dan wordt vervolgens gezocht in het verwijsbestand volgens de zoekprocedure zoals beschreven in <<_identificatie>> onder "Ingang op verwijsgegevens".

Als de gezochte persoon ook daar niet is te vinden, of als de identificatie in het verwijsbestand niet uniek is, dan wordt een <<Tf21,Tf21>>-bericht met foutreden "G", respectievelijk "U" verzonden. Als de gezochte persoon wel uniek in het verwijsbestand aangetroffen wordt, dan volgt een <<Tf21,Tf21>>-bericht met foutreden "V". In de kop van het bericht wordt aangegeven waar de betrokkene naar toe is verhuisd.

|[.number]#&#x2462;# |Wanneer er in de gemeente van inschrijving één unieke persoon te vinden is waarvan het A-nummer gelijk is aan het A-nummer uit categorie Persoon in het <<Tb02,Tb02>>-bericht, dan wordt vervolgens de status van de PL van deze persoon onderzocht.

Wanneer deze PL in een gemeente is ingeschreven en is geblokkeerd in verband met een verhuizing dan wel emigratie dan wel is opgeschort met reden "E" of "M", dan wordt een <<Tf21,Tf21>>-bericht gestuurd aan de gebeurtenisgemeente met foutreden "B". Is de PL ingeschreven in een gemeente en de bijhouding van de PL opgeschort met reden "O" (overleden), dan moet worden gecontroleerd of de ingangsdatum geldigheid van het rechtsfeit voor de opschorting ligt. Als dat niet het geval is, wordt er een <<Tf21,Tf21>>-bericht gestuurd met foutreden "O".

a|image:image33.svg[width=24] |Is de PL geblokkeerd i.v.m. vestiging in een gemeente of is de PL actueel, dan wordt een <<Tf21,Tf21>>-bericht gestuurd met foutreden "B"

Is de bijhouding van de PL opgeschort met reden "O" (overleden), dan wordt een <<Tf21,Tf21>>-bericht gestuurd met foutreden "O".

|[.number]#&#x2463;# |Wanneer in de gemeente van inschrijving één unieke persoon te vinden is waarvan het A-nummer gelijk is aan het A-nummer uit categorie Persoon in het <<Tb02,Tb02>>-bericht en er geen reden is om een foutbericht met reden "B" of "O" te sturen, dan wordt vervolgens nagegaan of de identificerende gegevens in het <<Tb02,Tb02>>-bericht (te bepalen met behulp van de inhoud van de elementen "Aantal" en "Identificerende rubrieken" in de kop van het bericht) en de overige gegevens van vóór het rechtsfeit in het <<Tb02,Tb02>>-bericht overeenkomen met de actuele gegevens op de gevonden PL en andersom, de verdere gegevens uit het <<Tb02,Tb02>>-bericht overeenkomen met de gegevens op de PL. Bij deze controle moet rekening gehouden worden met het feit dat de gegevens die in het <<Tb02,Tb02>>-bericht voorkomen in categorie <<c02-52,52>> Ouder1 op de PL aanwezig kunnen zijn in categorie <<c03-53,03>> Ouder2 en omgekeerd. Als de gegevens niet met elkaar overeenkomen, dan wordt een <<Tf21,Tf21>>-bericht met foutreden "N" gestuurd.

| |Ook indien het <<Tb02,Tb02>>-bericht niet te verwerken is, omdat er een actualisering moet worden uitgevoerd die inhoudt dat er een historische categorie zou moeten worden tussengevoegd (de Ingangsdatum geldigheid in het <<Tb02,Tb02>>-bericht ligt op of voor de Ingangsdatum geldigheid in de betrokken actuele categorie op de PL), wordt een <<Tf21,Tf21>>-bericht gestuurd met foutreden "N". Indien echter het <<Tb02,Tb02>>-bericht aanleiding is voor het uitvoeren van een actualisering waarbij in de historie element <<e8410,84.10>> wordt opgenomen, kan de Ingangsdatum geldigheid in het <<Tb02,Tb02>>-bericht op of voor de Ingangsdatum geldigheid van de betrokken actuele categorie op de PL liggen en is dat geen reden om een <<Tf21,Tf21>>-bericht te sturen.

Een <<Tf21,Tf21>>-bericht met foutreden "N" wordt ook gestuurd indien de PL is opgeschort en het <<Tb02,Tb02>>-bericht gegevens over het overlijden bevat, waarbij de Ingangsdatum geldigheid in het <<Tb02,Tb02>>-bericht (<<e8510,06.85.10>>) voor de Datum opschorting bijhouding op de PL (<<e6710,07.67.10>>) ligt.
a| image:image34.svg[width=24] |
Wanneer in de RNI één unieke persoon te vinden is waarvan het A-nummer gelijk is aan het A-nummer uit categorie Persoon in het <<Tb02,Tb02>>-bericht en er geen reden is om een foutbericht met reden "B" of "O" te sturen, dan wordt gecontroleerd of het bericht een overlijdensmelding betreft. Als dat niet het geval is, wordt een <<Tf21,Tf21>>-bericht gestuurd met foutreden "N".
|[.number]#&#x2464;# |Afhankelijk van de foutreden in de kop van het <<Tf21,Tf21>>-bericht worden de volgende acties ondernomen:

*Foutreden B*

De PL van de gezochte persoon is geblokkeerd. De gebeurtenisgemeente kan een nieuwe cyclus starten door een <<Tb02,Tb02>>-bericht, met dezelfde inhoud als in de onderhavige cyclus, te zenden aan de gemeente die in de kop van het <<Tf21,Tf21>>-bericht staat vermeld. Staat in de kop van het <<Tf21,Tf21>>-bericht de RNI, dan kan de cyclus alleen gestart worden als het een overlijden betreft Is het geen overlijden, dan zal de gebeurtenisgemeente de RNI met een schriftelijke kennisgeving op de hoogte stellen van het rechtsfeit.

*Foutreden G*

De gebeurtenisgemeente zal een nader onderzoek moeten instellen om te bepalen of en zo ja waar de betrokken persoon is ingeschreven. Of de gebeurtenis daarna alsnog met deze cyclus afgehandeld kan worden, is afhankelijk van het resultaat van het onderzoek. Als dat niet kan, moet een kennisgeving gestuurd worden.

*Foutreden N*

Er zal een nader onderzoek ingesteld moeten worden om te bepalen waarom de overige gegevens in het <<Tb02,Tb02>>-bericht niet in overeenstemming zijn met de gegevens op de PL. Vervolgens wordt ofwel een nieuw <<Tb02,Tb02>>-bericht gestuurd (met dezelfde identificerende gegevens en aangepaste overige gegevens), of de PL wordt gecorrigeerd volgens de hiervoor geldende voorschriften waarna het <<Tb02,Tb02>>-bericht opnieuw kan worden gestuurd.

Een andere mogelijkheid is dat het bericht wel correct is, maar niet te verwerken is op de PL, omdat de Ingangsdatum geldigheid in het <<Tb02,Tb02>>-bericht op of voor de Ingangsdatum geldigheid in de betrokken actuele categorie op de PL ligt en er feitelijk een historische categorie op de PL zou moeten worden tussengevoegd. De betrokken gemeenten zullen dan nader overleg moeten voeren. Of de gebeurtenis daarna alsnog met deze cyclus afgehandeld kan worden is afhankelijk van het resultaat van het onderzoek. Als dat niet kan, moet een kennisgeving gestuurd worden.

De derde reden om een Foutreden N te versturen is dat het <<Tb02,Tb02>>-bericht aan de RNI is gericht en de inhoud betreft een andere akte dan een overlijdensakte.

*Foutreden O*

Als het <<Tb02,Tb02>>-bericht aan een gemeente is gericht, dan ligt de ingangsdatum geldigheid van het rechtsfeit na het moment van opschorten van de PL door overlijden. Als het <<Tb02,Tb02>>-bericht aan de RNI is gericht, dan is het overlijden al verwerkt op de PL. Mogelijk heeft een ABO de mutatie aangeleverd.

De gebeurtenisgemeente zal de situatie moeten onderzoeken.
| |

*Foutreden U*

Blijkbaar komt het A-nummer van de hoofdpersoon dubbel voor in de gemeente van inschrijving of de RNI in het PL-bestand of in het verwijsbestand. De gebeurtenisgemeente neemt contact op met de gemeente van inschrijving of de RNI om de dubbelopneming op te lossen.

*Foutreden V*

De PL van de gezochte persoon is verhuisd. Als uit de kop van het <<Tf21,Tf21>>-bericht blijkt dat de PL is overgedragen aan de RNI en het betreft geen overlijdensmelding, dan zal de gebeurtenisgemeente de RNI met een schriftelijke kennisgeving op de hoogte stellen van het rechtsfeit. In alle andere gevallen wordt het bericht doorgezonden naar de gemeente of de RNI die in de kop van het <<Tf21,Tf21>>-bericht staat vermeld.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']
==== Opnemen verwijsgegevens

[.text-center]
.Schematische weergave Opnemen verwijsgegevens
image::image35.svg[width=566,height=618]

===== Inleiding

De cyclus Opnemen verwijsgegevens is gedefinieerd voor de volgende situaties:

. Bij de cyclus Vervolginschrijving (<<_vervolginschrijving_van_gemeente_naar_gemeente>>, <<_vervolginschrijving_van_gemeente_naar_rni>> en <<_vervolginschrijving_van_rni_naar_gemeente>>) kan zich de situatie voordoen dat de verwijsgegevens niet zijn opgenomen in de gemeente van vertrek of RNI terwijl de PL wel correct is opgenomen in de gemeente van vestiging of RNI. In dat geval moeten de verwijsgegevens alsnog worden opgenomen om de verwijsketen te completeren.

. Bij de cyclus Toevallige geboorte (<<_toevallige_geboorte>>) kan zich de situatie voordoen dat de verwijsgegevens niet zijn opgenomen terwijl de PL wel correct is aangelegd. Ook in dat geval moeten de verwijsgegevens alsnog worden opgenomen om de verwijsketen te completeren.

. De situatie kan zich voordoen dat bij een toevallige geboorte het kind is ingeschreven op basis van een aangifte van verblijf en adres, omdat geen der ouders als ingezetene is ingeschreven als ingezetene. Ook in dat geval moeten de verwijsgegevens alsnog worden opgenomen om de verwijsketen te completeren.

. De situatie kan zich voordoen dat een op of na 01‑10‑1994 (inwerkingtreding van de Wet GBA) in Nederland geboren persoon zich in Nederland heeft gevestigd en is ingeschreven op grond van een aangifte van verblijf en adres. Ook in dat geval moeten de verwijsgegevens alsnog worden opgenomen om de verwijsketen te completeren.

. Bij de cyclus Vervolginschrijving van gemeente naar RNI kan zich de situatie voordoen dat de verwijsgegevens niet zijn opgenomen in de gemeente van vertrek terwijl de PL wel correct is opgenomen in de RNI. Ook in dat geval moeten de verwijsgegevens alsnog worden opgenomen om de verwijsketen te completeren.

. Bij de cyclus Vervolginschrijving van RNI naar gemeente kan zich de situatie voordoen dat de verwijsgegevens niet zijn opgenomen in de RNI terwijl de PL wel correct is opgenomen in de gemeente van vestiging. Ook in dat geval moeten de verwijsgegevens alsnog worden opgenomen om de verwijsketen te completeren.

. De situatie kan zich voordoen dat een persoon met meerdere PL'en is ingeschreven in verschillende gemeenten. Als in zo'n geval de overbodige PL wordt verwijderd (conform <<_verwijderen_geblokkeerde_pl>>) uit de basisregistratie van een andere gemeente dan de gemeente met de te handhaven PL, moet de gemeente met de verwijderde PL verwijsgegevens opnemen naar de gemeente met de te handhaven PL. Dit geldt ook als een van de betrokken gemeenten de RNI is.

Bij de hierna volgende beschrijving van de cyclus Opnemen verwijsgegevens is uitgegaan van de eerstgenoemde situatie (ad 1), namelijk dat de cyclus Vervolginschrijving niet goed is afgerond; daarom worden de termen "gemeente van vertrek" en "gemeente van vestiging" gebruikt. In de andere genoemde situaties moeten deze termen als volgt worden gelezen:

* (ad 2) na een niet goed afgeronde cyclus Toevallige geboorte:
** "gemeente van vertrek" = "geboortegemeente"
** "gemeente van vestiging" = "gemeente van eerste inschrijving"

* (ad 3, 4) na een eerste inschrijving op grond van een aangifte van verblijf en adres:
** "gemeente van vertrek" = "geboortegemeente"
** "gemeente van vestiging" = "gemeente van eerste inschrijving"

* (ad 5) na een niet goed afgeronde cyclus Vervolginschrijving van gemeente naar RNI:
** "gemeente van vertrek" = "gemeente van vertrek"
** "gemeente van vestiging" = "RNI"

* (ad 6) na een niet goed afgeronde cyclus Vervolginschrijving van RNI naar gemeente:
** "gemeente van vertrek" = "RNI"
** "gemeente van vestiging" = "gemeente van vestiging"

* (ad 7) na het verwijderen van een PL in geval van een persoon met meerdere PL'en:
** "gemeente van vertrek" = "gemeente of RNI met de overbodige PL"
** "gemeente van vestiging" = "gemeente of RNI met de te handhaven PL".

De cyclus wordt gestart door de gemeente van vestiging, op verzoek van de gemeente van vertrek. De gemeente van vestiging ontleent aan de PL de verwijsgegevens en stuurt deze in de vorm van een <<Iv11,Iv11>>-bericht naar de gemeente van vertrek. De cyclus wordt niet afgerond met een verwerkbevestiging; ter controle stuurt de gemeente van vertrek de complete verwijzing in de vorm van een <<Iv21,Iv21>>-bericht terug naar de gemeente van vestiging.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Gemeente van vestiging* +
Op verzoek van de gemeente van vertrek ontleent de gemeente van vestiging de verwijsgegevens aan de opgenomen PL en verzendt deze in het <<Iv11,Iv11>>-bericht.
. *Gemeente van vertrek* +
De gemeente van vertrek controleert of de ontvangen verwijsgegevens ook de gevraagde gegevens zijn en neemt deze op. De opgenomen verwijsgegevens worden teruggezonden in het <<Iv21,Iv21>>-bericht.
. *Gemeente van vestiging* +
Er wordt gecontroleerd of de terugontvangen verwijsgegevens gelijk zijn aan de verzonden verwijsgegevens. Dit geeft de garantie dat de verwijsketen is hersteld.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Bij ontvangst van het <<Iv11,Iv11>>-bericht wordt door de gemeente van vertrek eerst gecontroleerd of de betrokken persoon voorkomt in het PL‑bestand. Dit kan het geval zijn als deze cyclus wordt gebruikt om een afgebroken vervolginschrijving weer op gang te helpen. Dan is de PL dus geblokkeerd in de gemeente van vertrek. Is dat niet het geval dan wordt een <<If41,If41>>-bericht gestuurd met foutreden "A".
|[.number]#&#x2461;# |Is de PL inderdaad geblokkeerd, dan moet worden geverifieerd of het een vervolginschrijving betreft naar de gemeente van vestiging alwaar het <<Iv11,Iv11>>-bericht van afkomstig is. Is dat niet het geval, dan is er dus een vervolginschrijvingsprocedure naar een derde gemeente (dan wel naar de RNI) in gang gezet. Deze cyclus dient eerst op enigerlei wijze te worden beëindigd. De gemeente van vertrek stuurt een <<If41,If41>>-bericht met foutreden "B" naar de gemeente van vestiging.
|[.number]#&#x2462;# |Betreft het wel een vervolginschrijving naar de gemeente van vestiging alwaar het <<Iv11,Iv11>>-bericht van afkomstig is, dan mag worden aangenomen dat de blokkering het gevolg is van een eerder begonnen vervolginschrijvingsprocedure naar diezelfde gemeente van vestiging. Dit betekent dat de geblokkeerde PL na ‑ bij voorkeur vooraf ‑ verkregen toestemming verwijderd kan worden. Hiervoor wordt gebruik gemaakt van de procedure Verwijderen geblokkeerde PL (zie <<_verwijderen_geblokkeerde_pl>>). Zonder die toestemming blijft de PL vooralsnog geblokkeerd aanwezig in de gemeente van vertrek. Er volgt in dit geval een <<If41,If41>>-bericht met foutreden "B".
|[.number]#&#x2463;# |Komt de persoon niet voor in het PL‑bestand maar wel in de verwijsgegevens, dan wordt een <<If41,If41>>-bericht verstuurd met foutreden "V".
|[.number]#&#x2464;# |Afhankelijk van de foutreden in de kop van het <<If41,If41>>-bericht worden de volgende acties ondernomen:

*Foutreden A*

Er wordt door beide betrokken gemeenten dan wel de betrokken gemeente en de RNI een onderzoek ingesteld naar de oorzaak van het probleem. Blijkt het te gaan om een dubbele inschrijving, dan moet deze situatie opgelost worden conform de procedure zoals beschreven in <<_verwijderen_geblokkeerde_pl>>.

*Foutreden B*

Er zal nagegaan moeten worden waarom deze foutreden is verstuurd. Er zijn twee mogelijkheden:

* De foutreden is het gevolg van een weigering voor het verwijderen van de PL. +
Blijkt de weigering niet correct dan kan na het wegnemen van de oorzaak een nieuwe cyclus worden gestart. +
Blijkt de weigering echter wel correct en wordt er besloten om de betreffende PL te deblokkeren dan moet nagegaan worden of er een dubbele inschrijving is ontstaan. Vervolgens moet deze situatie worden opgelost conform de procedure zoals beschreven in <<_verwijderen_geblokkeerde_pl>>.
* De foutreden is het gevolg van een vervolginschrijving die loopt met een derde gemeente, dan wel de RNI. +
In dat geval dient de lopende vervolginschrijving eerst op enigerlei wijze te worden beëindigd. Vervolgens zal de gemeente van vestiging een eventuele dubbele inschrijving samen met de derde gemeente (c.q. de RNI) moeten oplossen conform de procedure zoals beschreven in <<_verwijderen_geblokkeerde_pl>>.

De gemeente van vestiging kan deze beide situaties onderscheiden doordat in de kop van het <<If41,If41>>-bericht de gemeentecode (dan wel de code van de RNI) is opgenomen.

*Foutreden V*

De gemeente van vestiging kan aan de gemeentecode (dan wel de code van de RNI) in de kop van dit bericht zien om welke gemeente (c.q. de RNI) het hier gaat. Er zijn drie mogelijkheden:

* De verwijsgegevens verwijzen naar de eigen gemeente of RNI zelf. +
In dat geval zijn de verwijsgegevens dus al correct en is geen verdere actie nodig.
* De verwijsgegevens verwijzen ten onrechte naar een derde gemeente (dan wel de RNI). +
In dat geval dienen de verwijsgegevens in de gemeente van vertrek te worden verwijderd (zie <<_actualiseren_verwijzing>>), waarna de cyclus opnieuw kan worden gestart.
| |
* De verwijsgegevens verwijzen terecht naar een derde gemeente (dan wel de RNI). +
In dat geval zal de gemeente van vestiging een eventuele dubbele inschrijving samen met de derde gemeente (c.q. de RNI) moeten oplossen conform de procedure zoals beschreven in <<_verwijderen_geblokkeerde_pl>>.
|[.number]#&#x2465;# |In het normale geval ontvangt de gemeente van vestiging een kopie van de verwijsgegevens in het <<Iv21,Iv21>>-bericht. Wijken deze gegevens af van de gegevens zoals opgestuurd in het <<Iv11,Iv11>>-bericht dan zal een nader onderzoek moeten worden ingesteld.

Als dit onderzoek uitwijst dat de verwijsgegevens nog niet correct zijn, dan zal eerst de oorzaak van deze afwijking moeten worden weggenomen. Daarna kunnen de onjuiste verwijsgegevens in de gemeente van vertrek worden verwijderd en kan opnieuw de cyclus Opnemen verwijsgegevens worden gestart.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Wijzigen A‑nummer in de verwijsgegevens

[.text-center]
.Schematische weergave Wijzigen A-nummer in de verwijsgegevens
image::image36.svg[width=566,height=617]

===== Inleiding

Er is onderscheid gemaakt tussen een bericht Wijziging A‑nummer aan een gemeente met verwijsgegevens of de RNI met verwijsgegevens en aan een afnemer. In deze cyclus gaat het om het bericht Wijziging A‑nummer aan gemeenten of de RNI met verwijsgegevens. Onder gemeenten met verwijsgegevens wordt verstaan: alle gemeenten waar de persoon ingeschreven is geweest en de geboortegemeente, indien deze in Nederland ligt.

Dit betekent dat de wijziging van een A‑nummer een berichtencyclus initieert met elk van de vroegere gemeenten van inschrijving, de geboortegemeente en, in het geval de persoon in de RNI is ingeschreven geweest, de RNI.

Bij het vaststellen van de vroegere gemeenten van inschrijving, dan wel van een vroegere inschrijving in de RNI, wordt uitgegaan van de gemeentecodes dan wel de code van de RNI in de historische verblijfplaatsgegevens (categorie 58). Bij het vaststellen van de geboortegemeente wordt uitgegaan van de actuele geboortegemeente (rubriek <<e0320,01.03.20>>). +
Bij het zoeken moet worden gelet op de volgende punten:

* Wanneer een gevonden gemeentecode of RNI-code de eigen gemeente respectievelijk de RNI zelf betreft, leidt dit niet tot een bericht Wijziging A‑nummer.
* Wanneer een code meer dan eenmaal in de lijst van gevonden codes voorkomt, hoeft er maar één bericht te worden verstuurd.
* Wanneer een gemeente bij een herindeling betrokken is geweest, kan het voorkomen dat deze gemeente tegenwoordig dezelfde is als een andere gevonden gemeente. +
In zo'n geval geldt hetzelfde als vermeld bij de vorige twee aandachtspunten.

In het bericht Wijziging A‑nummer worden naast het oude en het nieuwe A‑nummer ook naam‑ en geboortegegevens meegestuurd.

Bij de hierna volgende beschrijving van de cyclus Wijzigen A-nummer in de verwijsgegevens is uitgegaan van de situatie dat de PL met het gewijzigde A-nummer is ingeschreven in een gemeente en dat dat A-nummer voorkomt in de verwijsgegevens van een andere gemeente; daarom worden de termen "huidige gemeente van inschrijving" en "gemeente met verwijsgegevens" gebruikt. In situaties dat het de RNI betreft, moeten deze termen als volgt worden gelezen:

* het te wijzigen A‑nummer komt voor in het verwijsbestand van de RNI:
** "huidige gemeente van inschrijving" = "huidige gemeente van inschrijving"
** "gemeente met verwijsgegevens" = "RNI met verwijsgegevens"
* de PL met het gewijzigde A‑nummer is ingeschreven in de RNI:
** "huidige gemeente van inschrijving" = "RNI"
** "gemeente met verwijsgegevens" = "gemeente met verwijsgegevens".

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Huidige gemeente van inschrijving* +
Een melding met behulp van het <<Wa01,Wa01>>-bericht van de huidige gemeente van inschrijving aan de gemeente met verwijsgegevens dat het A‑nummer in categorie 01 Persoon is gewijzigd.
. *Gemeente met verwijsgegevens* +
Na controle of de persoon in het verwijsbestand aanwezig is, wordt het A‑nummer aangepast. Wanneer de wijziging is aangebracht, wordt dit gemeld aan de huidige gemeente van inschrijving door het verzenden van een verwerkbevestiging.
. *Huidige gemeente van inschrijving* +
De ontvangst van een verwerkbevestiging betekent dat de cyclus correct is afgerond en de verwijsketen is bijgewerkt.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |
De gemeente met verwijsgegevens controleert achtereenvolgens met behulp van het A‑nummer en de naam- en geboortegegevens of de betreffende persoon voorkomt in het PL‑bestand. Als dat zo is, is er sprake van een persoon die tweemaal is ingeschreven. De gemeente verstuurt een <<Wf01,Wf01>>-bericht met foutreden "A" naar de huidige gemeente van inschrijving.

Komt het A‑nummer reeds voor, maar wijken de naam- of geboortegegevens af, dan is er sprake van een dubbel voorkomend A‑nummer. Deze situatie wordt afgehandeld zoals beschreven in <<_actualiseren_bijzondere_pl_situaties>>.

|[.number]#&#x2461;# |De gemeente met verwijsgegevens zoekt vervolgens met behulp van het A‑nummer de persoon in het verwijsbestand. Als deze daar niet te vinden is, is er sprake van een inconsistentie tussen de verwijsgegevens en de adreshistorie of de geboorteplaats op de PL van de betrokken persoon. De gemeente met verwijsgegevens stuurt een <<Wf01,Wf01>>-bericht met foutreden "G" naar de huidige gemeente van inschrijving.
|[.number]#&#x2462;# |De gemeente met verwijsgegevens controleert vervolgens of de meegestuurde naam- en geboortegegevens in overeenstemming zijn met de verwijsgegevens. Een afwijking wordt wel gesignaleerd, maar de cyclus wordt in elk geval verder afgewikkeld.

Een afwijking kan wijzen op een echte fout in één van beide systemen (bijvoorbeeld een driemaal gebruikt A‑nummer); de meest waarschijnlijke verklaring is echter dat de naam- of geboortegegevens zijn geactualiseerd nadat de betreffende persoon uit de gemeente dan wel de RNI is vertrokken. Er moet een nader onderzoek worden ingesteld naar de oorzaak. Of er daarna nog actie nodig is en zo ja, welke, is afhankelijk van de oorzaak.
|[.number]#&#x2463;# |De laatste controle die de gemeente met verwijsgegevens uitvoert, is of het nieuwe A‑nummer al voorkomt in het PL‑bestand of het verwijsbestand. Indien dit reeds voorkomt, betekent dit dat het nieuwe A‑nummer dat aan de persoon in kwestie is toegekend, dubbel toegekend is of dat de betrokken persoon meermalen ingeschreven is.

Aangezien moet worden aangenomen dat de A‑nummerwijziging al is doorgevoerd in de huidige gemeente van inschrijving en al aan de nodige afnemers is gemeld, zullen beide personen een nieuw A‑nummer moeten krijgen.

. Voor de persoon die onderwerp is van de lopende cyclus betekent dit dus een tweede A‑nummer wijziging. Deze zal eveneens moeten worden uitgevoerd vanuit de huidige gemeente van inschrijving. De gemeente met verwijsgegevens verstuurt een <<Wf01,Wf01>>-bericht met foutreden "A" naar de huidige gemeente van inschrijving.
. Welke gemeente voor de andere betrokken persoon de A‑nummerwijziging moet doorvoeren, is afhankelijk van de vraag of het dubbele A‑nummer voorkwam in het verwijsbestand of in het PL‑bestand van de gemeente met verwijsgegevens. In het laatste geval kan deze gemeente het initiatief nemen. In het eerste geval moet worden opgezocht waar deze tweede persoon thans is ingeschreven; deze gemeente c.q. de RNI moet op de hoogte worden gesteld, zodat deze de A‑nummerwijziging kan doorvoeren.

Omdat het hier om gecompliceerde situaties gaat, kan de tweede A‑nummerwijziging die op grond van het bovenstaande tegemoet kan worden gezien te zijner tijd handmatig moeten worden afgehandeld.

|[.number]#&#x2464;# |Afhankelijk van de foutreden in de kop van het <<Wf01,Wf01>>-bericht worden de volgende acties ondernomen:

*Foutreden A*

Er wordt door beide betrokken gemeenten dan wel de betrokken gemeente en de RNI een onderzoek ingesteld naar de oorzaak van het dubbel voorkomen van het A‑nummer. Blijkt het te gaan om een dubbele inschrijving, dan moet deze situatie opgelost worden conform de procedure zoals beschreven in <<_actualiseren_bijzondere_pl_situaties>>. Verder zal in dat geval moeten worden nagegaan of er redenen zijn om het A‑nummer bij de overgebleven inschrijving (nogmaals) te wijzigen.

Is er sprake van een dubbel voorkomend A‑nummer, dan zullen beide betrokken PL'en conform de procedure zoals beschreven in <<_actualiseren_bijzondere_pl_situaties>> een nieuw A‑nummer moeten krijgen. Voor de PL die het onderwerp was van de huidige cyclus kan dit een tweede opeenvolgende A‑nummerwijziging betekenen.

*Foutreden G*

De huidige gemeente van inschrijving stelt een onderzoek in naar de oorzaak van het ontbreken van de verwijsgegevens. Blijkt het te gaan om een gat in de verwijsketen, dan zal er een nieuwe set verwijsgegevens aangelegd moeten worden. Blijkt het te gaan om een onjuiste adreshistorie of geboorteplaats op de PL, dan dient de huidige gemeente van inschrijving de adreshistorie of de geboorteplaats te corrigeren. Als ten gevolge daarvan een gemeente op de PL wordt opgenomen waaraan nog geen A‑nummerwijziging was gestuurd, stuurt de gemeente van inschrijving daarna alsnog een A‑nummerwijziging naar de andere gemeente.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Opnemen/wijzigen verblijfstitel

[.text-center]
.Schematische weergave Opnemen/wijzigen verblijfstitel
image::image37.svg[width=566,height=514]

===== Inleiding

De Minister van Justitie kent verblijfstitels toe aan personen. Hiervan wordt door middel van deze cyclus mededeling gedaan aan de gemeente van inschrijving dan wel aan de RNI.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Minister van Justitie* +
De Minister van Justitie doet een verzoek aan de gemeente van inschrijving dan wel aan de RNI om de verblijfstitel op de PL van een persoon op te nemen c.q. te wijzigen, door middel van het versturen van een <<Og11,Og11>>-bericht.
. *Gemeente van inschrijving of RNI* +
Na controle of het bericht afkomstig is van het Ministerie van Justitie-IND wordt, met behulp van de ontvangen identificerende gegevens in het <<Og11,Og11>>-bericht, gezocht naar een unieke PL. In het zoekproces worden alle PL'en betrokken, behalve de met reden "F" opgeschorte PL'en. Daarbij geldt dat het <<Og11,Og11>>-bericht alleen dan op een met reden "O" opgeschorte PL kan worden verwerkt, als de datum opschorting ligt na de datum die is opgenomen bij de actuele gegevens in het <<Og11,Og11>>-bericht in rubriek <<e3930,10.39.30>>, Ingangsdatum verblijfstitel. +
+
Bij een unieke identificatie worden aan de hand van de actuele gegevens in het <<Og11,Og11>>-bericht de verblijfstitelgegevens opgenomen op de PL. Indien er reeds een actuele categorie verblijfstitel op de PL aanwezig is, dan wordt deze categorie historisch. De Minister van Justitie kan op dezelfde dag meerdere verblijfstitels toekennen. Rubriek <<e8510,10/60.85.10>> Ingangsdatum geldigheid krijgt daarom een fictieve datum die puur de vólgorde van de verschillende verblijfstitels op een PL waarborgt. De échte ingangsdatum van een verblijfstitel wordt vastgelegd in rubriek <<e3930,10.39.30>> Ingangsdatum verblijfstitel. +
Vervolgens wordt er een verwerkbevestiging aan het Ministerie van Justitie-IND gestuurd. +
+
Eventuele historische gegevens in het <<Og11,Og11>>-bericht dienen slechts ter controle. De historische gegevens in het <<Og11,Og11>>-bericht worden, met uitzondering van rubriek <<e8410,60.84.10>>, vergeleken met de ten gevolge van het verwerken van het <<Og11,Og11>>-bericht historisch geworden gegevens op de PL. Indien de gegevens overeenkomen en rubriek <<e8410,60.84.10>> Indicatie onjuist komt voor in het <<Og11,Og11>>-bericht, dan wordt deze rubriek opgenomen in de historisch geworden categorie op de PL. +
Als de historische gegevens in het <<Og11,Og11>>-bericht, met uitzondering van rubriek <<e8410,60.84.10>>, niet overeenkomen met de ten gevolge van het verwerken van het <<Og11,Og11>>-bericht historisch geworden gegevens op de PL, dan wordt de historisch geworden categorie op de PL in onderzoek geplaatst en zo nodig onjuist gemaakt. +
Als het <<Og11,Og11>>-bericht geen historische gegevens bevat, terwijl de PL vóór het verwerken van het <<Og11,Og11>>-bericht wel al een actuele categorie <<c10-60,10>> Verblijfstitel bevatte, dan wordt de historisch geworden categorie op de PL in onderzoek geplaatst. +
Als het <<Og11,Og11>>-bericht wel historische gegevens bevat, terwijl de PL vóór het verwerken van het <<Og11,Og11>>-bericht nog geen actuele categorie <<c10-60,10>> Verblijfstitel bevatte, dan moet het systeem een inconsistentie in de historie signaleren. +
+
In de gevallen dat de gegevens in de historische categorie <<c10-60,60>> Verblijfstitel op de PL in onderzoek zijn geplaatst of dat er een inconsistentie bestaat tussen de gegevens in het <<Og11,Og11>>-bericht en de gegevens op de PL, dient de gemeente dan wel de RNI in overleg met het Ministerie van Justitie-IND na te gaan hoe de verschillen zijn ontstaan en in hoeverre historische gegevens op de PL correct zijn opgenomen. De gemeente dan wel de RNI dient de PL zo nodig te corrigeren.
. *Minister van Justitie* +
De ontvangst van een verwerkbevestiging betekent dat de procedure correct is afgerond en dat de PL is bijgewerkt.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Wanneer meerdere personen voldoen aan de identificatie in het <<Og11,Og11>>-bericht, wordt een <<Of11,Of11>>-bericht gestuurd met foutreden "U".

Er is hier sprake van een dubbel voorkomend A‑nummer. Deze situatie moet worden opgelost conform de procedure zoals beschreven in <<_actualiseren_bijzondere_pl_situaties>>.

|[.number]#&#x2461;# |Als de gezochte persoon in het PL‑bestand niet te vinden is, dan wordt in het verwijsbestand verder gezocht. Wanneer in het verwijsbestand meerdere personen voldoen aan de identificatie in het <<Og11,Og11>>-bericht, wordt een <<Of11,Of11>>-bericht gestuurd met foutreden "U".

Er is hier sprake van een dubbel voorkomend A‑nummer. Deze situatie moet worden opgelost conform de procedure zoals beschreven in <<_actualiseren_bijzondere_pl_situaties>>.
|[.number]#&#x2462;# |Als het zoeken in het verwijsbestand in zijn geheel geen resultaat oplevert, dan wordt een <<Of11,Of11>>-bericht gestuurd met foutreden "G". De gemeente dan wel de RNI hoeft geen verdere actie te ondernemen.
|[.number]#&#x2463;# |Als de gezochte persoon in het verwijsbestand is gevonden, dan wordt een <<Of11,Of11>>-bericht met foutreden "V" aangemaakt, met in de kop de gemeente ofwel, zo dat het geval is, de RNI waarheen de PL is verzonden. De gemeente dan wel de RNI hoeft geen verdere actie te ondernemen.
|[.number]#&#x2464;# |Als de gezochte persoon in het PL‑bestand is gevonden, dan wordt de status van de gevonden PL onderzocht. Als de gevonden PL is geblokkeerd in verband met een vervolginschrijving, dan wordt een <<Of11,Of11>>-bericht gestuurd met foutreden "B". In de kop van het foutbericht wordt de gemeente ofwel, zo dat het geval is, de RNI opgenomen waarnaar de PL wordt verhuisd. De gemeente dan wel de RNI hoeft geen verdere actie te ondernemen.
|[.number]#&#x2465;# |Als de gevonden PL is opgeschort met reden "O" en de datum opschorting ligt op of voor de datum die is opgenomen bij de actuele gegevens in het <<Og11,Og11>>-bericht in rubriek <<e3930,10.39.30>>, Ingangsdatum verblijfstitel, dan wordt een <<Of11,Of11>>-bericht gestuurd met foutreden "O" (= Overlijden). De gemeente dan wel de RNI hoeft geen verdere actie te ondernemen.
|[.number]#&#x2466;# |Als op de gevonden PL is opgenomen dat de persoon de Nederlandse nationaliteit heeft of behandeld wordt als Nederlander (d.w.z. als rubriek <<e0510,04.05.10>> de waarde "0001" of rubriek <<e6510,04.65.10>> de waarde "B" heeft), dan wordt een <<Of11,Of11>>-bericht gestuurd met foutreden "I". De gemeente dan wel de RNI hoeft geen verdere actie te ondernemen.
|[.number]#&#x2467;# |Afhankelijk van de foutreden in de kop van het <<Of11,Of11>>-bericht worden de volgende acties ondernomen:

*Foutreden B*

De Minister van Justitie kan een nieuwe cyclus starten door een <<Og11,Og11>>-bericht, met dezelfde inhoud als in de onderhavige cyclus, te zenden aan de gemeente ofwel, zo dat het geval is, de RNI die in de kop van het <<Of11,Of11>>-bericht staat vermeld.

*Foutreden G*

Deze foutreden kan wijzen op onjuiste identificerende gegevens of op een persoon die in een andere gemeente (daaronder ook begrepen de RNI) is ingeschreven of ingeschreven is geweest. De Minister van Justitie dient, eventueel in overleg met de betrokken gemeente c.q. de RNI, uit te zoeken wat de oorzaak is van het identificatieprobleem. Daarna kan een nieuwe cyclus worden gestart.

*Foutreden I*

De persoon heeft volgens zijn PL de Nederlandse nationaliteit, dan wel wordt behandeld als Nederlander. De Minister van Justitie dient, eventueel in overleg met de gemeente dan wel de RNI, na te gaan wat de feitelijke situatie is.

*Foutreden O*

De PL is opgeschort wegens overlijden en de Ingangsdatum verblijfstitel van de op te nemen verblijfstitelgegevens ligt op of na datum opschorting. De Minister van Justitie dient, eventueel in overleg met de gemeente dan wel de RNI alwaar de PL is ingeschreven, uit te zoeken hoe dit kon gebeuren en na te gaan wat de feitelijke situatie is.

*Foutreden U*

De Minister van Justitie zal voor de gezochte persoon het <<Wa11,Wa11>>-bericht moeten afwachten. Vervolgens kan met behulp van een nieuwe cyclus "Opnemen/wijzigen verblijfstitel" de verblijfstitel alsnog worden opgenomen c.q. gewijzigd.

*Foutreden V*

De Minister van Justitie kan een nieuwe cyclus starten door een <<Og11,Og11>>-bericht, met dezelfde inhoud als in de onderhavige cyclus, te zenden aan de gemeente ofwel, zo dat het geval is, de RNI die in de kop van het <<Of11,Of11>>-bericht staat vermeld.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Synchronisatie met BRP Verstrekkingen

[.text-center]
.Schematische weergave Synchronisatie met BRP-V
image::image38.svg[width=566,height=328]

===== Inleiding

Met behulp van deze berichtencyclus ontvangt BRP-V een kopie van de PL uit de gemeente van inschrijving dan wel de RNI, ten behoeve van de gegevensverstrekking aan afnemers. Het <<Lg01,Lg01>>-bericht bevat de volledige inhoud van de PL, inclusief alle historische en onjuiste categorieën.

===== Toelichting

Het verloop van de cyclus bestaat uit een enkele stap, te weten:

. *Gemeente van inschrijving of RNI* +
Iedere keer dat een gemeente of de RNI berichten over de berichtendienst verstuurt, wordt voor iedere PL die is gewijzigd sinds de vorige berichtverzending een <<Lg01,Lg01>>-bericht aangemaakt en verzonden. +
Om te verzekeren dat BRP-V een kopie krijgt van alle PL'en in het volledige PL-bestand van een gemeente of de RNI moeten alle wijzigingen op de PL leiden tot een <<Lg01,Lg01>>-bericht. Er is een uitzondering:
+
--
* het wijzigen van de rubrieken <<e8010,07.80.10>> en/of <<e8020,07.80.20>>; wijziging van deze rubrieken leidt op zichzelf niet tot het aanmaken van een <<Lg01,Lg01>>-bericht;
--
+
Wanneer aan een persoon een nieuw A‑nummer is toegekend, wordt in de kop van het betreffende <<Lg01,Lg01>>-bericht het oude A‑nummer opgenomen in het veld 'Oud A‑nummer'. BRP-V ontvangt geen <<Wa01,Wa01>>- of <<Wa11,Wa11>>-bericht als gevolg van een A‑nummerwijziging.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Synchronisatievraag

[.text-center]
.Schematische weergave Synchronisatievraag
image::image39.svg[width=566,height=553]

===== Inleiding

Met deze berichtencyclus kan BRP-V de gemeente van inschrijving of de RNI verzoeken om een kopie van de PL. Het <<La01,La01>>-bericht bevat de volledige inhoud van de PL, inclusief alle historische en onjuiste categorieën.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *BRP-V* +
BRP-V doet een verzoek aan de gemeente van inschrijving dan wel aan de RNI tot het leveren van een kopie van de PL door middel van het versturen van een <<Lq01,Lq01>>-bericht.
. *Gemeente van inschrijving of RNI* +
De gemeente van inschrijving dan wel de RNI zoekt de persoon in het PL-bestand. Wordt de persoon gevonden, dan leidt dit tot het verzenden van de volledige inhoud van de PL, inclusief alle historische en onjuiste categorieën, in het <<La01,La01>>-bericht.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Wanneer meerdere personen voldoen aan de identificatie in het <<Lq01,Lq01>>-bericht, wordt een <<Lf01,Lf01>>-bericht gestuurd met foutreden "U". Aangezien BRP-V identificeert met het (historisch) A‑nummer, kan dit duiden op een dubbel A‑nummer in het PL-bestand. Dit moet onmiddellijk worden onderzocht.
|[.number]#&#x2461;# |Als de gezochte persoon in het PL-bestand niet te vinden is, dan wordt in het verwijsbestand verder gezocht. Als de persoon in het verwijsbestand wordt gevonden, dan wordt een <<Lf01,Lf01>>-bericht met foutreden "V" aangemaakt, met in de kop de gemeente ofwel, zo dat het geval is, de RNI waarheen de PL is verzonden.

Wanneer in het verwijsbestand meerdere personen voldoen aan de identificatie in het <<Lq01,Lq01>>-bericht, wordt een <<Lf01,Lf01>>-bericht gestuurd met foutreden "U". Aangezien BRP-V identificeert met het (historisch) A‑nummer, kan dit duiden op een dubbel A‑nummer in het verwijsbestand. Dit moet onmiddellijk worden onderzocht.

Als de gezochte persoon niet in het PL-bestand en niet in het verwijsbestand voorkomt, dan wordt een <<Lf01,Lf01>>-bericht gestuurd met foutreden "G".

|[.number]#&#x2462;# |Afhankelijk van de foutreden in de kop van het <<Lf01,Lf01>>-bericht worden de volgende acties ondernomen:

*Foutreden G*

Deze foutreden wijst op onjuiste identificerende gegevens. Aangezien BRP-V alleen op (historisch) A‑nummer identificeert, kan dit wijzen op een A‑nummerwijziging die niet correct is gesynchroniseerd. BRP-V kan een nieuw <<Lq01,Lq01>>-bericht sturen met als identificerend gegeven het historisch A‑nummer. Wanneer dit opnieuw een foutbericht met reden "G" oplevert, moet worden uitgezocht wat de oorzaak is van het probleem.

*Foutreden U*

Deze foutreden betekent dat unieke identificatie niet is gelukt. Aangezien BRP-V alleen identificeert met het (historisch) A‑nummer, kan dit duiden op een dubbel A‑nummer in het PL-bestand. Dit moet onmiddellijk onderzocht worden.

*Foutreden V*

Deze foutreden betekent dat de PL inmiddels is verhuisd naar een andere gemeente dan wel naar de RNI. BRP-V onderzoekt de reden waarom het bericht naar de verkeerde gemeente c.q. de RNI is gestuurd. BRP-V kan daarna een nieuwe cyclus starten door een <<Lq01,Lq01>>-bericht, met dezelfde inhoud als in de onderhavige cyclus, te zenden aan de gemeente ofwel, zo dat het geval is, de RNI die in de kop van het <<Lf01,Lf01>>-bericht staat vermeld.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Synchroniciteit met BRP Verstrekkingen

[.text-center]
.Schematische weergave Synchroniciteit met BRP-V
image::image40.svg[width=566,height=329]

===== Inleiding

Met behulp van deze berichtencyclus ontvangt BRP-V een kopie van alle geselecteerde PL'en uit de gemeente van inschrijving dan wel de RNI, ten behoeve het controleren van de synchroniciteit met BRP-V. Elk <<Lg01,Lg01>>-bericht bevat de volledige inhoud van één PL, inclusief alle historische en onjuiste categorieën.

===== Toelichting

Het verloop van de cyclus bestaat uit een enkele stap, te weten:

. *Gemeente van inschrijving of RNI* +
Als tussen RvIG en de gemeente of RNI het uitvoeren van een synchroniciteitsselectie is afgesproken, wordt voor iedere geselecteerde PL een <<Lg01,Lg01>>-bericht aangemaakt en verzonden.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Webservice Aanvragen BSN voorraad bij BvBSN

[.text-center]
.Schematische weergave Aanvragen BSN voorraad
image::image41.svg[width=566,height=243]

===== Beschrijving

De webservice Aanvragen BSN Voorraad zorgt ervoor dat organisaties die personen inschrijven in de BRP een set burgerservicenummers ontvangen om deze toe te kennen aan een persoon die in de BRP wordt ingeschreven.

Het is een synchrone webservice die voldoet aan de WSDL die op de website van RvIG is gepubliceerd.

===== Input

Een inschrijvende instantie stuurt een soap-bericht conform WSDL met het aantal nummers dat men wenst te ontvangen met de gemeentecode van de inschrijvende instantie. Deze gegevens worden opgenomen in de zoekvraag.

===== Output

Als antwoord wordt een set burgerservicenummers teruggegeven.

===== Foutcodes

.Foutcodes Opvragen BSN nummervoorraad
[width="100%",cols="15%,35%,50%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|2 |Er is een fout opgetreden |Diverse technische oorzaken w.o. autorisatieprobleem
|4 |Afzender niet geautoriseerd |Afzender heeft geen autorisatie voor het stellen van de presentievraag
|8 |De afzender van het bericht is niet gevuld |Gemeentecode is niet ingevoerd
|9 |Het berichtnummer van de afzender is niet gevuld |
|4001 |Gemeentecode onjuist |De ingevoerde gemeentecode is niet conform de gemeentetabel
|4002 |Aantal nummers is niet gevuld |Het gewenst aantal nummers moet opgegeven worden
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Webservice Presentievraag aan BvBSN

[.text-center]
.Schematische weergave Presentievraag
image::image42.svg[width=566,height=243]

===== Beschrijving

De webservice Presentievraag zorgt ervoor dat organisaties die personen inschrijven in de BRP gegevens over al ingeschreven ingezetenen of niet-ingezetenen met bijna dezelfde identificerende persoonsgegevens ontvangen. Het doel hiervan is om dubbele inschrijvingen in de BRP te voorkomen.

Het is een synchrone webservice die voldoet aan de WSDL die op de website van RvIG is gepubliceerd.

===== Input

Een inschrijvende instantie stuurt een soap-bericht conform WSDL met een aantal identificerende persoonsgegevens met de gemeentecode van de inschrijvende instantie.

Deze gegevens worden opgenomen in de zoekvraag.

===== Output

Als antwoord op de presentievraag worden er een vaste set aan persoonsgegevens van alle personen die aan de zoekvraag voldoen teruggegeven.

===== Foutcodes

.Foutcodes Presentievraag
[width="100%",cols="15%,35%,50%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|2 |Er is een fout opgetreden |Diverse technische oorzaken w.o. autorisatieprobleem
|4 |Afzender niet geautoriseerd |Afzender heeft geen autorisatie voor het stellen van de presentievraag
|6 |Bericht bevat meer vragen dan het toegestane maximum (maximum is vooralsnog 1) |
|7 |Bericht bevat geen vraag |
|8 |De afzender van het bericht is niet gevuld |Gemeentecode is niet ingevoerd
|9 |Het berichtnummer van de afzender is niet gevuld |
|11 |Eén of meer vraagnummers niet gevuld |
|14 |Vraagnummer moet 1, 2, 3 of 4 zijn |
|12001 |De instantie is niet gevuld |
|12001 |Geen resultaten gevonden |
|12003 |Te veel resultaten gevonden |
|12004 |Set van identificerende gegevens niet valide |
|12005 |Twee personen met hetzelfde BSN gevonden |
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Opvragen persoonslijst bij BRP Verstrekkingen

[.text-center]
.Schematische weergave Opvragen persoonslijst
image::image43.svg[width=566,height=243]

===== Beschrijving

De webservice Opvragen PL (VraagPL) implementeert voor de gemeenten en de RNI het opvragen van een volledige PL. Het bijbehorende WSDL-bestand wordt gepubliceerd op de RvIG-site.

===== Input

Een gemeente of RNI stuurt een soap-bericht conform WSDL met als identificatie een A-nummer, BSN of beide. De identificatie is geslaagd als er precies één PL gevonden wordt.

Persoonslijsten die ten onrechte zijn opgenomen in de BRP (opgeschort reden F) en persoonslijsten die ten onrechte zijn opgenomen in BRP-V (gedeactiveerd met status W) worden niet meegenomen bij het zoeken.

===== Output

De output is de volledige persoonslijst, of een melding van een ander resultaat, als de vraag geen correct antwoord heeft opgeleverd. Dit resultaat bevat een van de codes opgesomd in de volgende paragraaf.

===== Foutcodes

.Foutcodes Opvragen persoonslijst
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|G033 |Geen gegevens gevonden |Melding: Geen gegevens gevonden
|P032 |Te veel zoekresultaten |Melding: Teveel zoekresultaten
|X001 |Algemene (systeem)fout |Melding: Technische fout
|X010 |Onjuiste credentials of ongeldig certificaat |Melding: Ongeldige combinatie gebruikersnaam / wachtwoord
|X011 |Service niet geactiveerd |Melding: Service is niet geactiveerd voor dit account
|X012 |Wachtwoord verlopen |Melding: Wachtwoord verlopen
|X013 |Geen autorisatietabelregel |Melding: Geen actuele autorisatietabelregel
|X018 |Rubriek niet toegestaan |Melding: Niet toegestaan zoekcriterium gebruikt: ++'++rubrieknummer++'++
|X019 |Rubriek dubbel opgenomen |Melding: Dubbel rubrieknummer in zoekcriteria niet toegestaan: ++'++rubrieknummer++'++
|X019 |Rubriek niet numeriek |Melding: Numeriek zoekcriterium rubrieknummer bevat geen numerieke waarde
|X019 |Onjuiste lengte |Melding: Onjuiste lengte voor rubriek: rubrieknummer=++'++waarde++'++
|X019 |Geen correcte persoonsidentificatie |Melding: Geen correcte persoonsidentificatie
|X025 |Gevraagde rubriek dubbel opgenomen |Melding: Dubbel rubrieknummer in masker niet toegestaan: ++'++rubrieknummer++'++
|X027 |Niet geautoriseerd voor opvragen PL |Melding: Niet geautoriseerd voor opvragen PL
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']
==== Opvragen afnemersindicaties

[.text-center]
.Schematische weergave Opvragen afnemersindicaties
image::image44.svg[width=566,height=243]

===== Beschrijving

De webservice opvragen afnemersindicaties (VraagAI) is een webservice waarbij een gemeente, de RNI of MijnOverheid de afnemersindicaties kan opvragen die op een persoonslijst aanwezig zijn. Ook kunnen partijen anders dan gemeenten of RNI gebruik maken van deze service, mits daarvoor expliciet geautoriseerd.

VraagAI is een synchrone webservice en is gedefinieerd volgens W3C-standaarden . Alle standaarden zijn te vinden op http://www.w3c.org.

De WSDL VraagAI is op de website van RvIG gepubliceerd.

===== Input

Een gemeente of de RNI stuurt een soap-bericht conform WSDL waarbij er gezocht kan worden op A-Nummer en/of BSN. Het gebruiken van beide nummers is toegestaan. Tevens moet er aangegeven worden of het verzoek van het opvragen afkomstig is van een burger (opvraagreden I) of de gemeente/RNI in het kader van bijhouding (opvraagreden B).

Persoonslijsten die ten onrechte zijn opgenomen in de BRP (opgeschort reden F) en persoonslijsten die ten onrechte zijn opgenomen in BRP-V (gedeactiveerd met status W) worden niet meegenomen bij het zoeken.

===== Output

Wanneer aan de in 5.2.16.2 genoemde voorwaarden is voldaan en er een unieke persoonslijst gevonden wordt op basis van de zoekcriteria worden gegevens over de gevonden persoon teruggegeven.

Het antwoordbericht bevat de afnemerindicaties en enkele persoonsgegevens: categorie 1, groep 1, 2 en 3 uit de actuele categorie van de gevonden persoon. Indien de persoonslijst is opgeschort, wordt tevens de datum van opschorting en de opschortreden teruggegeven.

Betreft het een aanvraag die door een burger is gedaan, worden alle afnemersindicaties behalve de geheime afnemersindicaties, verstrekt (opvraagreden I).

Betreft het een aanvraag die door de gemeente/RNI is gedaan (opvraagreden B), dan worden alle afnemersindicaties behalve de gevoelige én geheime afnemersindicaties verstrekt.

Naast deze gegevens, wordt er ook altijd een resultaat wat bestaat uit een code, letter en referentienummer meegestuurd. De combinatie code/letter staat in de volgende paragraaf vermeld.

Bij onduidelijkheden over het resultaat kan het referentienummer doorgegeven worden aan RvIG zodat het bericht erbij gezocht kan worden.

===== Foutcodes

.Foutcodes Opvragen Afnemersindicaties
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|G033 |Geen PL of afnemers-indicaties gevonden of meeverstrekken niet mogelijk |Melding: Geen gegevens gevonden|X001 |Algemene (systeem)fout |Melding: technische fout
|P032 |Meer dan 1 PL gevonden |Melding: Te veel zoekresultaten
|X010 |Onjuiste credentials of ongeldig certificaat |Melding: Ongeldige combinatie gebruikersnaam/wachtwoord
|X011 |Service niet geactiveerd |Melding: Service is niet geactiveerd voor dit account.
|X012 |Wachtwoord verlopen |Melding: wachtwoord verlopen
|X013 |Geen autorisatietabelregel |Melding: Geen actuele autorisatietabelregel. De gehele autorisatietabel ontbreekt of de vragende partij is niet geautoriseerd voor ad hoc vragen.
|X018 |Rubriek niet toegestaan |Melding: Niet toegestaan zoekcriterium gebruikt: ++'++rubrieknummer++'++
|X019 |Rubriek dubbel opgenomen |Melding: Dubbel rubrieknummer in zoekcriteria niet toegestaan: ++'++rubrieknummer++'++
|X019 |Rubriek niet numeriek |Melding: Numeriek zoekcriterium rubrieknummer bevat geen numerieke waarde
|X019 |Onjuiste lengte |Melding: Onjuiste lengte voor rubriek: rubrieknummer=++'++waarde++'++
|X019 |Geen correcte persoonsidentificatie |Melding: Geen correcte persoonsidentificatie

In het vraagbericht zijn A-nr of BSN niet opgenomen.
|X025 |Gevraagde rubriek dubbel opgenomen |Melding: Dubbel rubrieknummer in masker niet toegestaan: ++'++rubrieknummer++'++
|X028 |Niet geautoriseerd voor opvragen Afnemersindicaties |Melding: Niet geautoriseerd voor opvragen AI

Afnemer is geen gemeente, RNI of geregistreerde afnemer.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Controleren PL

[.text-center]
.Schematische weergave Controleren PL
image::image45.svg[width=566,height=243]

===== Beschrijving

De webservice Controleren PL (ControleerPL) maakt het voor gemeenten en de RNI mogelijk om een PL te laten controleren op correctheid. Het bijbehorende WSDL-bestand wordt gepubliceerd op de website van RvIG.

De service Controleren PL is technisch gezien onderdeel van de webservice StuurGBAbericht. Met deze webservice kunnen BRP-berichten, in de vorm zoals ze normaliter via de mailboxserver zouden worden verstuurd, worden aangeboden aan BRP-V. Naast het bericht wordt altijd een actie meegegeven. BRP-V voert deze actie uit op het meegestuurde bericht.

===== Input

Voor het controleren van een PL dient een complete PL, inclusief onjuiste categorieën te worden aangeboden. De vorm van de PL is dezelfde als in een <<Lg01,Lg01>> bericht wordt verstuurd. De codering is standaard Teletex, maar ook een bericht in UTF-8 kan worden aangeboden.

Persoonslijsten die ten onrechte zijn opgenomen in de BRP (opgeschort reden F) mogen niet worden aangeboden.

====== Elementen in het vraagbericht

====== gbabericht
++<++gbabericht++>++ bevat de te controleren PL. Het betreft een <<Lg01,Lg01>> zoals ook via de mailboxserver wordt verstuurd. Standaard is de codering in Teletex. Optioneel kan worden aangegeven dat de codering UTF-8 is.

====== actie
De ++<++actie++>++ bevat de waarde: valideer++_++pl.

====== aanleiding
De ++<++aanleiding++>++ is een facultatief gegeven en mag weggelaten worden. Voorgestelde waarde is: kwaliteitscontrole.

====== berichtnummer
Het ++<++berichtnummer++>++ bevat de waarde: <<Lg01,Lg01>>.

===== Output

BRP-V controleert de PL op juistheid en meldt de bevindingen terug.

====== Elementen in het antwoordbericht

====== resultaatcode
De ++<++resultaatcode++>++ bevat de waarde: pl++_++ok of pl++_++nok of een foutcode.

pl++_++ok betekent dat de validatie is doorlopen en er geen bevindingen in de PL zijn geconstateerd. +
pl++_++nok betekent dat de validatie is doorlopen en er een of meer bevindingen zijn geconstateerd. Dan wordt ook de sectie details (elementen code en omschrijving) in het antwoord opgenomen met hierin voor elk van de bevindingen een detail.

====== toelichting
Bevat bij een resultaatcode pl++_++ok of pl++_++nok een vermelding van de naam en de versie van het evaluatie-instrument PL heeft gevalideerd. Als de resultaatcode een foutcode bevat dan wordt hier een toelichting op de foutcode opgenomen.

====== details
Wanneer de validatie succesvol is doorlopen en er bevindingen in de PL zijn geconstateerd, dan bevat ++<++details++>++ een of meer detailelementen met elk een code en omschrijving. Het element details is facultatief. Details en de detailelementen code en omschrijving zijn afwezig als resultaatcode pl++_++ok of een foutcode bevat.

====== code
++<++code++>++ bevat een bevindingscode van vijf tekens. De gebruikte codes komen overeen met de bevindingencodes die worden gehanteerd in het evaluatie-instrument en zijn aan uitbreiding en verandering onderhevig. Iedere code bestaat uit een letter gevolgd door vier cijfers.

====== omschrijving
Bij iedere bevinding wordt de omschrijving toegevoegd zoals die in het evaluatie-instrument is opgenomen.

====== referentie
Referentie bevat gegevens waarmee het bij onduidelijkheden en dergelijke mogelijk is om bij RvIG navraag te doen over het geautomatiseerde proces dat het sturen van het bericht tot gevolg had.

===== Foutcodes

Onderstaande tabel bevat de meldingen waarbij foutcodes meegegeven worden. Naast deze fouten kunnen ook SOAP fouten optreden.

.Foutcodes Controleren PL
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|X001 |Generieke melding voor technische fout bij het verwerken van de vraag |Melding: Technische fout
|X010 |Bij onjuiste credentials of ongeldig certificaat |Melding: Ongeldige combinatie gebruikersnaam / wachtwoord
|X011 |Controleren PL is alleen te gebruiken door gemeenten of de RNI. Behoort de vraagsteller niet tot deze groep, dan volgt deze foutmelding. |Melding: Service is niet geactiveerd voor dit account
|X012 |Wachtwoord verlopen |Melding: Wachtwoord verlopen
|X013 |Geen actuele autorisatietabelregel |Melding: Geen actuele autorisatietabelregel
|X021 |Onbekende actie |Melding: Ongeldige waarde voor parameter ++<++actie++>++
|X021 |Mismatch tussen berichtnummer en berichtinhoud |Melding: Ongeldige waarde voor parameter ++<++berichtnummer++>++
|X021 |Berichtnummer is niet <<Lg01,Lg01>> |Melding: Ongeldige waarde voor parameter ++<++berichtnummer++>++
|X021 |<<Lg01,Lg01>> bericht is niet valide |Melding: Ongeldige waarde voor parameter ++<++gbabericht++>++
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Aanvragen A-nummervoorraad bij BRP Verstrekkingen via webservice

[.text-center]
.Schematische weergave VraagVoorraadAnrs
image::image46.svg[width=567,height=243]

===== Beschrijving

De webservice VraagVoorraadAnrs is uitsluitend te gebruiken door gemeenten, de RNI, de Landen en eilanden van het Caribisch gebied en de Beheerder van BRP-V. Dat betekent dat <<e9510,35.95.10>> afnemersindicatie kleiner dan 200000 of gelijk aan 300041 t/m 300046 of 999904 moet zijn. Met deze webservice kunnen gemeenten een aantal A-nummers opvragen. Dit aantal is maximaal 2,5% van het aantal actuele inwoners. Voor een aantal gemeenten geldt een afwijkend maximum. De lay-out van de verstrekte A-nummers aan de beheerder is dezelfde als die van een reguliere aanvraag.

===== Input

====== aantal
Het element ++<++aantal++>++ bevat het gevraagde aantal A-nummers. Deze parameter heeft een technisch maximale waarde van 1.000.000. Er is echter een limiet dat per aanvrager verschillend kan zijn. Deze limiet is opgesteld aan de hand van het aantal inwoners van de gemeente; zie onderstaande tabel. Als er geen aantal meegegeven wordt, wordt door de server het resterende toegestane aantal A-nummers teruggegeven voor de betreffende periode.

Als het opgegeven aantal gelijk aan nul is, dan wordt een lege lijst met A-nummers versterkt, met daarbij de actuele waardes van gebruikerResterend, gebruikerLimiet en gebruikerReset.

[.center,width="60%" ,cols="30%,35%,>35%",options="header",]
|===
|Indicatie |Naam |Maximumaantal
|199901 |RNI |250.000
|036301 |Amsterdam |20.000
|170601 |Cranendonck |10.000
|076601 |Dongen |6.000
|022501 |Druten |5.000
|028901 |Wageningen |5.000
|195001 |Westerwolde |20.000
|047301 |Zandvoort |5.000
|999904 |Beheerder BRP-V |20.000
|300041 |Aruba |6.000
|300042 |Curaçao |7.500
|300043 |Sint Maarten |2.100
|300044 |Bonaire |2.100
|300045 |Sint Eustatius |200
|300046 |Saba |200
| |Overige gemeenten |2,5% inwoners
|===

===== Controles

Bij elke aanroep van de webservice wordt gecontroleerd of deze is gedaan met een gemeente- of afnemercode in de Authorization header en of het gevraagde aantal A-nummers binnen de actueel resterende limiet valt.

===== Output

Het antwoordbericht bevat ofwel een element ++<++aNummerData++>++, ofwel een element ++<++fout++>++. In het element ++<++aNummerData++>++ komt een lijst A-nummers voor, elk in een element ++<++aNummers++>++, en een element ++<++limiet++>++. In het element ++<++limiet++>++ komen de elementen ++<++gebruikerResterend++>++, ++<++gebruikerLimiet++>++ en (optioneel) ++<++gebruikerReset++>++ voor.

====== aNummers
Elk A-nummer wordt in een afzonderlijk element opgenomen. Als het gevraagde aantal nul is, dan worden geen A-nummers opgenomen.

====== gebruikerResterend
Het aantal resterende A-nummers dat door de gebruiker mag worden opgevraagd in de zelfde periode.

====== gebruikerLimiet
Het aantal A-nummers dat de gebruiker mag opvragen binnen één periode.

====== gebruikerReset

De datum waarop de limiet gereset wordt en de gebruiker weer nieuwe A-nummers kan opvragen, in het formaat volgens de RFC-2616. Voorbeeld: Fri, 31 Dec 2022 23:59:59 GMT.

===== Foutcodes

.Foutcodes opvragen voorraad A-nummers
[width="100%",cols="15%,85%",options="header",]
|===
|Status |Omschrijving
|400 |Service aangeroepen met invalide data, de opgegeven data voldoet niet aan de specificaties.
|401 |Authenticatiegegevens ontbreken of zijn onjuist.
|403 |Incorrecte autorisatie, of de geautoriseerde partij kan tijdelijk geen nieuwe A-nummers opvragen.
|429 |De geautoriseerde partij kan tijdelijk geen A-nummers meer opvragen omdat het aanvraag-limiet bereikt is.
|500 |Er is een probleem opgetreden bij het ophalen van A-nummers.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Aanvragen A-nummervoorraad bij BRP Verstrekkingen via API

===== Beschrijving

Endpoint voor het aanvragen van een nieuwe voorraad A-nummers. Met dit endpoint kunnen gemeenten en RNI, maar ook het Caribische deel van het Koninkrijk, een nieuwe voorraad A-nummers aanvragen ten behoeve van nieuwe inschrijvingen in de BRP of PIVA.

URI: ++{++basis++_++url}/a-nummers

Method: GET

Voor de basis++_++url en de gedetailleerde functionele en technische specificaties van de A-nummer API, zie de Open API Specificaties op de website van RvIG.

===== Input

De input is een query parameter met een sleutel met de naam ++<++aantal++>++ (bijvoorbeeld GET ++{++basis++_++url}/a-nummers?aantal=1000). Deze parameter is optioneel en geeft het aantal A-nummers weer dat teruggegeven moet worden. De maximale waarde die gegeven kan worden is 1.000.000, maar aan het aantal dat de gebruiker mag opvragen zit een limiet dat per aanvrager verschillend kan zijn. Die limiet is opgesteld aan de hand van het aantal inwoners van de gemeente. Als er geen aantal meegegeven wordt, wordt door de server het resterende toegestane aantal A-nummers teruggegeven in de betreffende periode. Als het aantal 0 meegegeven wordt, wordt een lege lijst A-nummers teruggegeven, maar met de standaard aanwezige informatie over actuele limieten.

===== Controles

Bij elke aanroep van het endpoint wordt gecontroleerd of deze is gedaan met een gemeente- of afnemercode in de Authorization header en of het gevraagde aantal A-nummers binnen de actueel resterende limiet valt.

===== Output

De output is een JSON-array met de gevraagde A-nummers.

In de response headers komen daarnaast drie elementen voor, die hieronder beschreven worden:

====== Limiet-GebruikerResterend
Het aantal resterende A-nummers dat door de gebruiker mag worden opgevraagd in de zelfde periode.

====== Limiet-GebruikerLimiet
Het aantal A-nummers dat de gebruiker mag opvragen binnen één periode.

====== Limiet-GebruikerReset
De datum waarop de limiet gereset wordt en de gebruiker weer nieuwe A-nummers kan opvragen, in het formaat volgens de RFC-2616. Voorbeeld: Fri, 31 Dec 2022 23:59:59 GMT.

====== Retry-After
In het geval er geen A-nummers meer opgevraagd mogen worden omdat de limiet bereikt is (HTTP foutcode 429), wordt er een response header element ++<++Retry-After++>++ opgenomen. Die bevat de datum waarop de limiet gereset wordt en waarna de gebruiker weer nieuwe A-nummers kan opvragen. Deze datum heeft het formaat volgens de RFC-2616 specificatie. Voorbeeld: Fri, 31 Dec 2022 23:59:59 GMT.

===== Foutsituaties

[width="100%",cols="15%,85%",options="header",]
|===
|HTTP status code |Foutmelding
|400 |Service aangeroepen met invalide data, de opgegeven data voldoet niet aan de specificaties.
|401 |Authenticatiegegevens ontbreken of zijn onjuist.
|403 |Incorrecte autorisatie, of de geautoriseerde partij kan tijdelijk geen nieuwe A-nummers opvragen.
|429 |De geautoriseerde partij kan tijdelijk geen A-nummers meer opvragen omdat de aanvraag-limiet bereikt is.
|500 |Er is een probleem opgetreden bij het ophalen van A-nummers.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']
==== Indienen verzoek ABO aan RNI

[.text-center]
.Schematische weergave Verzoek ABO
image::image47.svg[width=566,height=243]

===== Beschrijving

De webservice Deelnemersopgave zorgt ervoor dat aangewezen bestuursorganen niet-ingezetenen bij de RNI-registratiehouder kunnen inschrijven en gegevens van niet-ingezetenen in de RNI kunnen bijhouden.

Een deelnemersopgave wordt via een opgavebericht verzonden naar de RNI, waarbij de verwerking (interpretatie) van het bericht losgekoppeld is van de ontvangst/registratie.

De ontvangen deelnemersopgave wordt geregistreerd. Het systeem stuurt synchroon een ontvangstbevestiging. De uitslag van de verwerking wordt later (asynchroon) gestuurd.

===== Input

Een aangewezen bestuursorgaan stuurt een opgavebericht conform WSDL met persoons-identificerende gegevens, gegevens van de niet-ingezetene, bestanden van de gescande documenten en administratieve gegevens.

Met de DeelnemerOpgave kunnen vier soorten berichten worden verstuurd:

* Dv01, Inschrijving;
* Dv02, Actualisering;
* Dv03, Verificatie;
* Dv04, AanvullendeScan.

Alle bovenstaande berichten bestaan uit een Versie, Stuurgegevens, Bijlage(n) en een Specifiek deel.

===== Output

Als antwoord op het opgavebericht stuurt de RNI onmiddellijk (synchroon) een ontvangstbevestiging. De uitslag van de verwerking wordt later (asynchroon) gestuurd via de webservice OpgaveResultaat.

===== Foutcodes

.Foutcodes Verzoek ABO
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|100 |Er is een technische fout opgetreden. |Indien dit vaker voorkomt, moet contact opgenomen worden met de RNI-registratiehouder.
|101 |Niet geautoriseerd. |Indien dit niet overeenstemt met rapport ketentest: neem contact op met RvIG, Functioneel Beheer RNI.
|103 |De opgave met RNI referentienummer ++<++referentienummer++>++ is ingetrokken. |Dit zou duiden op een verkeerde versie van de WSDL: neem contact op met RvIG, Functioneel Beheer RNI.
|104 |Deelnemer heeft al eerder een opgave gedaan met uw referentienummer ++<++referentienummer++>++ |Dit duidt op een fout in het proces. +
Onderzoek de oorzaak.
|105 |Deelnemer ++<++deelnemerscode++>++ is niet bekend. |Neem contact op met RvIG, Functioneel Beheer RNI.
|109 |Computervirus aangetroffen. |Dit is een ernstige bevinding. Neem contact op met RvIG, Functioneel beheer RNI en schakel tevens de eigen afdeling van informatiebeveiliging in.
|110 |Probleem opgetreden tijdens gebruik van externe service. Details: ++<++details++>++ |Neem contact op met RvIG, Functioneel Beheer RNI.
|200 |PL met het aangeleverde BSN is niet in de RNI aangetroffen. |Opnieuw indienen van de mutatie is nog niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|201 |Op basis van het BSN is een PL gevonden maar deze PL heeft een ander A-nummer dan het meegeleverde A-nummer. |Onderzoek de situatie. Mogelijk zijn verstrekkingen met betrekking tot wijzigingen van identificatienummers niet juist verwerkt.
|202 |Er zijn meerdere PL'en gevonden met het aangeleverde BSN. Voeg aan de identificatie zo mogelijk het A-nummer toe. |Neem contact op met RvIG, Gegevensbeheer RNI.
|203 |Er zijn meerdere PL'en gevonden met het aangeleverde BSN, maar de combinatie BSN en het meegeleverde A-nummer komt niet voor. |Neem contact op met RvIG, Gegevensbeheer RNI.
|205 |PL met het aangeleverde BSN is niet in de RNI aanwezig. BSN komt wel voor in de verwijsgegevens (PL is overgebracht naar de ingezetenen). |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|206 |PL met het aangeleverde BSN is niet in de RNI aanwezig. BSN komt wel voor in de verwijsgegevens (PL is overgebracht naar de ingezetenen, echter niet in combinatie met het door de deelnemer meegeleverde A-nummer. |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|209 |De PL is geblokkeerd (i.v.m. verhuizing naar de ingezetenen). |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|1012 |De inschrijving voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de inschrijving en dien deze opnieuw in met een nieuwe unieke referentie.
|1013 |De inschrijvingsopgave is niet uitgevoerd. Reden: Zie DetailsGeconstateerdeFouten. |Corrigeer de inschrijving en dien deze opnieuw in met een nieuwe unieke referentie.
|1020 |De actualisering is gelijk aan de huidige gegevens op de PL. De actualisering is niet uitgevoerd. |Opnieuw indienen van de mutatie is niet zinvol.
|1021 |De actualisering is niet consistent met de huidige gegevens op de PL en kan daarom niet doorgevoerd worden. Zie DetailsGeconstateerdeFouten. |Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Ook is het mogelijk dat de gegevens in de RNI actueler (juister, vollediger) zijn dan waarover de ABO beschikt. Onderzoek de situatie.
|1022 |De PL is opgeschort met reden O (overlijden) en de ingangsdatum van het gegeven (++<++datum ingang geldigheid++>++) ligt na de datum opschorting (++<++datum opschorting dd-mm-jjjj++>++). |Onderzoek de situatie en neem zo nodig contact op met RvIG, Gegevensbeheer RNI.
|1024 |De actualisering ++<++naam++>++ voldoet inhoudelijk niet aan de voorschriften. Zie DetailsGeconstateerdeFouten |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1025 |Op de PL zijn geen gegevens aangetroffen die betrekking hebben op de aangegeven nationaliteit met code ++<++nationaliteitscode++>++ |Onderzoek de situatie en neem zo nodig contact op met RvIG, Gegevensbeheer RNI.
|1026 |De actualiseringsopgave is niet doorgevoerd. Reden: zie DetailsGeconstateerdeFouten |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1028 |Actualisering ingangsdatum adres buitenland voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1031 |De verificatieopgave voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1032 |De aangeleverde verificatiedatum ++<++datum++>++ is fout (ligt in de toekomst). |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie
|1033 |De PL is opgeschort met reden O (overlijden) en de verificatiedatum ligt na de datum opschorting (++<++datum opschorting dd-mm-jjjj++>++). |Onderzoek de situatie.
|1035 |In de RNI is reeds een latere verificatiedatum (++<++RNI-datum++>++, bron: ++<++deelnemer-meest-recente-verificatie.) geregistreerd dan nu door de deelnemer is aangeleverd (++<++Deelnemer-datum++>++); geen wijziging doorgevoerd. |Opnieuw indienen van de verificatie is niet zinvol.
|1036 |De verificatiedatum in de RNI heeft al de waarde die nu door de deelnemer is aangeleverd: geen wijziging doorgevoerd. |Opnieuw indienen van de verificatie is niet zinvol.
|1037 |De verificatieopgave is niet doorgevoerd. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1041 |Op basis van het bestandskenmerk is vastgesteld dat de scan al bij het dossier is opgenomen. Mogelijk is de opgave dubbel aangeleverd. De scan(s) is (zijn) niet opgenomen. Zie DetailsGeconstateerdeFouten voor de betreffende bestandsnaam. |Opnieuw indienen van de scan is niet zinvol.
|1303 |Overlijdensdatum mag niet in de toekomst liggen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1304 |Overlijdensdatum mag niet voor geboortedatum liggen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|9999 |++<++unexpected error met nadere omschrijving++>++ |Neem contact op met RvIG, Functioneel Beheer RNI.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Beantwoorden verzoek ABO door RNI

[.text-center]
.Schematische weergave Reactie op Verzoek ABO
image::image48.svg[width=566,height=243]

===== Beschrijving

De webservice OpgaveResultaat zorgt ervoor dat aangewezen bestuursorganen de uitslag van de verwerking (asynchroon) ontvangen. Deze verwerking vindt plaats in een proces dat losgekoppeld is van het registratieproces. De verwerkingsfunctie kan bijzondere situaties en/of fouten constateren.

Als geen fout of bijzondere situatie wordt geconstateerd en geen fiattering van de gebruiker nodig is, dan wordt het bericht volledig geautomatiseerd verwerkt en worden de consequenties doorgevoerd. De deelnemer ontvangt als antwoordbericht een Verwerkbevestiging (Daxx-bericht).

In het geval dat een fout wordt geconstateerd, wordt een foutrapport (Dfxx-bericht) gestuurd naar de deelnemer en hoeft de RNI gebruiker geen actie te ondernemen.

Als een bijzondere situatie (waarschuwing) wordt geconstateerd of als fiattering van de gebruiker is vereist, dan wordt het bericht ter beoordeling aangeboden aan de RNI-gebruiker. Daartoe aangewezen gebruikers kijken regelmatig of er deelnemersopgaven zijn die handmatige verwerking behoeven. Aan de status van de opgave is te zien dat een handeling van de gebruiker wordt verwacht. De gebruiker beoordeelt de situatie en onderneemt vervolgens actie.

===== Input

Een deelnemersopgave wordt in een aantal stappen afgehandeld. De webservice DeelnemerOpgave registreert het ontvangen opgavebericht en is de trigger.

===== Output

De uitslag van de verwerking wordt asynchroon gestuurd. Dit kan een verwerkbevestiging of een foutrapport zijn.

===== Foutcodes

.Foutcodes Reactie op verzoek ABO
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|100 |Er is een technische fout opgetreden. |Deze response wordt gegeven bij een technische fout. Indien dit vaker voorkomt, moet contact opgenomen worden met de RNI-registratiehouder.
|101 |Niet geautoriseerd. |Indien dit niet overeenstemt met rapport ketentest: neem contact op met RvIG, Functioneel Beheer RNI.
|103 |De opgave met RNI referentienummer ++<++referentienummer++>++ is ingetrokken. |Dit zou duiden op een verkeerde versie van de WSDL: neem contact op met RvIG, Functioneel Beheer RNI.
|104 |Deelnemer heeft al eerder een opgave gedaan met uw referentienummer ++<++referentienummer++>++ |Dit duidt op een fout in het proces. +
Onderzoek de oorzaak.
|105 |Deelnemer ++<++deelnemerscode++>++ is niet bekend. |Neem contact op met RvIG, Functioneel Beheer RNI.
|109 |Computervirus aangetroffen. |Dit is een ernstige bevinding. Neem contact op met RvIG, Functioneel beheer RNI en schakel tevens de eigen afdeling van informatiebeveiliging in.
|110 |Probleem opgetreden tijdens gebruik van externe service. Details: ++<++details++>++ |Neem contact op met RvIG, Functioneel Beheer RNI.
|200 |PL met het aangeleverde BSN is niet in de RNI aangetroffen. |Opnieuw indienen van de mutatie is nog niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|201 |Op basis van het BSN is een PL gevonden maar deze PL heeft een ander A-nummer dan het meegeleverde A-nummer. |Onderzoek de situatie. Mogelijk zijn verstrekkingen met betrekking tot wijzigingen van identificatienummers niet juist verwerkt.
|202 |Er zijn meerdere PL'en gevonden met het aangeleverde BSN. Voeg aan de identificatie zo mogelijk het A-nummer toe. |Neem contact op met RvIG, Gegevensbeheer RNI.
|203 |Er zijn meerdere PL'en gevonden met het aangeleverde BSN, maar de combinatie BSN en het meegeleverde A-nummer komt niet voor. |Neem contact op met RvIG, Gegevensbeheer RNI.
|205 |PL met het aangeleverde BSN is niet in de RNI aanwezig. BSN komt wel voor in de verwijsgegevens (PL is overgebracht naar de ingezetenen). |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|206 |PL met het aangeleverde BSN is niet in de RNI aanwezig. BSN komt wel voor in de verwijsgegevens (PL is overgebracht naar de ingezetenen, echter niet in combinatie met het door de deelnemer meegeleverde A-nummer. |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|209 |De PL is geblokkeerd (i.v.m. verhuizing naar de ingezetenen). |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|1012 |De inschrijving voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de inschrijving en dien deze opnieuw in met een nieuwe unieke referentie.
|1013 |De inschrijvingsopgave is niet uitgevoerd. Reden: Zie DetailsGeconstateerdeFouten. |Corrigeer de inschrijving en dien deze opnieuw in met een nieuwe unieke referentie.
|1020 |De actualisering is gelijk aan de huidige gegevens op de PL. De actualisering is niet uitgevoerd. |Opnieuw indienen van de mutatie is niet zinvol.
|1021 |De actualisering is niet consistent met de huidige gegevens op de PL en kan daarom niet doorgevoerd worden. Zie DetailsGeconstateerdeFouten. |Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Ook is het mogelijk dat de gegevens in de RNI actueler (juister, vollediger) zijn dan waarover de ABO beschikt. Onderzoek de situatie.
|1022 |De PL is opgeschort met reden O (overlijden) en de ingangsdatum van het gegeven (++<++datum ingang geldigheid++>++) ligt na de datum opschorting (++<++datum opschorting dd-mm-jjjj++>++). |Onderzoek de situatie en neem zo nodig contact op met RvIG, Gegevensbeheer RNI.
|1024 |De actualisering ++<++naam++>++ voldoet inhoudelijk niet aan de voorschriften. Zie DetailsGeconstateerdeFouten |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1025 |Op de PL zijn geen gegevens aangetroffen die betrekking hebben op de aangegeven nationaliteit met code ++<++nationaliteitscode++>++ |Onderzoek de situatie en neem zo nodig contact op met RvIG, Gegevensbeheer RNI.
|1026 |De actualiseringsopgave is niet doorgevoerd. Reden: zie DetailsGeconstateerdeFouten |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1028 |Actualisering ingangsdatum adres buitenland voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1031 |De verificatieopgave voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1032 |De aangeleverde verificatiedatum ++<++datum++>++ is fout (ligt in de toekomst). |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie
|1033 |De PL is opgeschort met reden O (overlijden) en de verificatiedatum ligt na de datum opschorting (++<++datum opschorting dd-mm-jjjj++>++). |Onderzoek de situatie.
|1035 |In de RNI is reeds een latere verificatiedatum (++<++RNI-datum++>++, bron: ++<++deelnemer-meest-recente-verificatie.) geregistreerd dan nu door de deelnemer is aangeleverd (++<++Deelnemer-datum++>++); geen wijziging doorgevoerd. |Opnieuw indienen van de verificatie is niet zinvol.
|1036 |De verificatiedatum in de RNI heeft al de waarde die nu door de deelnemer is aangeleverd: geen wijziging doorgevoerd. |Opnieuw indienen van de verificatie is niet zinvol.
|1037 |De verificatieopgave is niet doorgevoerd. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1041 |Op basis van het bestandskenmerk is vastgesteld dat de scan al bij het dossier is opgenomen. Mogelijk is de opgave dubbel aangeleverd. De scan(s) is (zijn) niet opgenomen. Zie DetailsGeconstateerdeFouten voor de betreffende bestandsnaam. |Opnieuw indienen van de scan is niet zinvol.
|1303 |Overlijdensdatum mag niet in de toekomst liggen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1304 |Overlijdensdatum mag niet voor geboortedatum liggen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|9999 |++<++unexpected error met nadere omschrijving++>++ |Neem contact op met RvIG, Functioneel Beheer RNI.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Statusverzoeken ABO opvragen aan RNI

[.text-center]
.Schematische weergave Opvragen statusverzoek ABO
image::image49.svg[width=567,height=243]

===== Beschrijving

De webservice Deelnemersaanvraag zorgt ervoor dat aangewezen bestuursorganen direct de status van de ingediende opgaven kunnen opvragen. Deze service is synchroon, dat wil zeggen dat het aangewezen bestuursorgaan 'direct' een resultaat dan wel een foutrapport ontvangt.

De deelnemersaanvraag wordt geregistreerd en direct aansluitend wordt door hetzelfde proces de deelnemersaanvraag verwerkt.

Het resultaat van de verwerking wordt in een antwoordbericht terug gemeld aan +
de deelnemer.

Bij de verwerking kan een fout worden geconstateerd. In dat geval wordt een foutrapport (Dfxx-bericht) gestuurd naar de deelnemer.

===== Input

Een aangewezen bestuursorgaan stuurt een aanvraagbericht conform WSDL met 0, +
1 of meer zoekcriteria. Mogelijke criteria zijn DeelnemerReferentie, RNIReferentie, +
BSN, Datum, Soort opgave en Status.

Met de deelnemersaanvraag kunnen drie soorten berichten worden verstuurd:

* Dv11, Overzicht ingediende opgaven;
* Dv12, Details ingediende opgaven;
* Dv13, Intrekken ingediende opgave.

Alle bovenstaande berichten bestaan uit Stuurgegevens en een Specifiek deel ZoekCriteria.

===== Output

Na ontvangst van een deelnemersaanvraag stuurt de RNI onmiddellijk (synchroon) +
het resultaat van de verwerking of een foutrapport terug. Het resultaat bestaat uit +
een algemeen verplicht deel Verwerking en een specifiek optioneel deel Informatie-IngediendeOpgave.

===== Foutcodes

.Foutcodes Opvragen status ABO-verzoek(en)
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|100 |Er is een technische fout opgetreden. |Deze response wordt gegeven bij een technische fout. Indien dit vaker voorkomt, moet contact opgenomen worden met de RNI-registratiehouder.
|101 |Niet geautoriseerd. |Indien dit niet overeenstemt met rapport ketentest: neem contact op met RvIG, Functioneel Beheer RNI.
|103 |De opgave met RNI referentienummer ++<++referentienummer++>++ is ingetrokken. |Dit zou duiden op een verkeerde versie van de WSDL: neem contact op met RvIG, Functioneel Beheer RNI.
|104 |Deelnemer heeft al eerder een opgave gedaan met uw referentienummer ++<++referentienummer++>++ |Dit duidt op een fout in het proces. +
Onderzoek de oorzaak.
|105 |Deelnemer ++<++deelnemerscode++>++ is niet bekend. |Neem contact op met RvIG, Functioneel Beheer RNI.
|109 |Computervirus aangetroffen. |Dit is een ernstige bevinding. Neem contact op met RvIG, Functioneel beheer RNI en schakel tevens de eigen afdeling van informatiebeveiliging in.
|110 |Probleem opgetreden tijdens gebruik van externe service. Details: ++<++details++>++ |Neem contact op met RvIG, Functioneel Beheer RNI.
|200 |PL met het aangeleverde BSN is niet in de RNI aangetroffen. |Opnieuw indienen van de mutatie is nog niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|201 |Op basis van het BSN is een PL gevonden maar deze PL heeft een ander A-nummer dan het meegeleverde A-nummer. |Onderzoek de situatie. Mogelijk zijn verstrekkingen met betrekking tot wijzigingen van identificatienummers niet juist verwerkt.
|202 |Er zijn meerdere PL'en gevonden met het aangeleverde BSN. Voeg aan de identificatie zo mogelijk het A-nummer toe. |Neem contact op met RvIG, Gegevensbeheer RNI.
|203 |Er zijn meerdere PL'en gevonden met het aangeleverde BSN, maar de combinatie BSN en het meegeleverde A-nummer komt niet voor. |Neem contact op met RvIG, Gegevensbeheer RNI.
|205 |PL met het aangeleverde BSN is niet in de RNI aanwezig. BSN komt wel voor in de verwijsgegevens (PL is overgebracht naar de ingezetenen). |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|206 |PL met het aangeleverde BSN is niet in de RNI aanwezig. BSN komt wel voor in de verwijsgegevens (PL is overgebracht naar de ingezetenen, echter niet in combinatie met het door de deelnemer meegeleverde A-nummer. |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|209 |De PL is geblokkeerd (i.v.m. verhuizing naar de ingezetenen). |Opnieuw indienen van de mutatie is niet zinvol. Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Onderzoek zo nodig de oorzaak en vraag de meest actuele gegevens op in de BRP.
|1012 |De inschrijving voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de inschrijving en dien deze opnieuw in met een nieuwe unieke referentie.
|1013 |De inschrijvingsopgave is niet uitgevoerd. Reden: Zie DetailsGeconstateerdeFouten. |Corrigeer de inschrijving en dien deze opnieuw in met een nieuwe unieke referentie.
|1020 |De actualisering is gelijk aan de huidige gegevens op de PL. De actualisering is niet uitgevoerd. |Opnieuw indienen van de mutatie is niet zinvol.
|1021 |De actualisering is niet consistent met de huidige gegevens op de PL en kan daarom niet doorgevoerd worden. Zie DetailsGeconstateerdeFouten. |Het ABO-systeem bevat (nog) niet de meest actuele gegevens. Ook is het mogelijk dat de gegevens in de RNI actueler (juister, vollediger) zijn dan waarover de ABO beschikt. Onderzoek de situatie.
|1022 |De PL is opgeschort met reden O (overlijden) en de ingangsdatum van het gegeven (++<++datum ingang geldigheid++>++) ligt na de datum opschorting (++<++datum opschorting dd-mm-jjjj++>++). |Onderzoek de situatie en neem zo nodig contact op met RvIG, Gegevensbeheer RNI.
|1024 |De actualisering ++<++naam++>++ voldoet inhoudelijk niet aan de voorschriften. Zie DetailsGeconstateerdeFouten |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1025 |Op de PL zijn geen gegevens aangetroffen die betrekking hebben op de aangegeven nationaliteit met code ++<++nationaliteitscode++>++ |Onderzoek de situatie en neem zo nodig contact op met RvIG, Gegevensbeheer RNI.
|1026 |De actualiseringsopgave is niet doorgevoerd. Reden: zie DetailsGeconstateerdeFouten |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1028 |Actualisering ingangsdatum adres buitenland voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1031 |De verificatieopgave voldoet inhoudelijk niet aan de voorschriften. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1032 |De aangeleverde verificatiedatum ++<++datum++>++ is fout (ligt in de toekomst). |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie
|1033 |De PL is opgeschort met reden O (overlijden) en de verificatiedatum ligt na de datum opschorting (++<++datum opschorting dd-mm-jjjj++>++). |Onderzoek de situatie.
|1035 |In de RNI is reeds een latere verificatiedatum (++<++RNI-datum++>++, bron: ++<++deelnemer-meest-recente-verificatie.) geregistreerd dan nu door de deelnemer is aangeleverd (++<++Deelnemer-datum++>++); geen wijziging doorgevoerd. |Opnieuw indienen van de verificatie is niet zinvol.
|1036 |De verificatiedatum in de RNI heeft al de waarde die nu door de deelnemer is aangeleverd: geen wijziging doorgevoerd. |Opnieuw indienen van de verificatie is niet zinvol.
|1037 |De verificatieopgave is niet doorgevoerd. In DetailsGeconstateerdeFouten staat een opsomming van de constateringen. |Corrigeer de verificatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1041 |Op basis van het bestandskenmerk is vastgesteld dat de scan al bij het dossier is opgenomen. Mogelijk is de opgave dubbel aangeleverd. De scan(s) is (zijn) niet opgenomen. Zie DetailsGeconstateerdeFouten voor de betreffende bestandsnaam. |Opnieuw indienen van de scan is niet zinvol.
|1303 |Overlijdensdatum mag niet in de toekomst liggen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|1304 |Overlijdensdatum mag niet voor geboortedatum liggen. |Corrigeer de mutatie en dien deze opnieuw in met een nieuwe unieke referentie.
|9999 |++<++unexpected error met nadere omschrijving++>++ |Neem contact op met RvIG, Functioneel Beheer RNI.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']
==== Berichten

===== Inleiding

In de beschrijving van de berichten worden de volgende onderdelen vermeld:

[unordered.stack]
*Berichtnummer*:: Een nummer bestaande uit 2 letters gevolgd door 2 cijfers.
*Berichtnaam*:: Naam die in korte vorm de inhoud van het bericht weergeeft.
*Omschrijving*:: Hierin wordt aangegeven wanneer en waarom het bericht verstuurd wordt.
*Te verzenden door*:: Geeft aan door welke aangesloten instantie het bericht verstuurd wordt.
*Te verzenden aan*:: Geeft aan door welke aangesloten instantie het bericht ontvangen wordt.
*Volgt op bericht*:: Geeft aan dat het bericht alleen verstuurd kan worden als het daar aangegeven bericht ontvangen is.
*Wordt gevolgd door*:: Geeft aan dat als dit bericht ontvangen wordt, er gereageerd dient te worden met een van de genoemde berichten.
*Kop bevat*:: Geeft aan welke gegevens in de kop zijn opgenomen.
*Inhoud bevat*:: Geeft aan welke groepen of elementen worden opgenomen.

De berichten zijn opgenomen in alfabetische volgorde.

Deze paragraaf eindigt met een overzicht van alle foutredenen en statusmeldingen.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

===== Beschrijving van de BRP-berichten

[#Ib01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ib01
Berichtnaam:: Verhuizen PL intergemeentelijk
Omschrijving:: Het bericht waarmee de gehele PL (inclusief historie) door de gemeente van vertrek naar de gemeente van vestiging gestuurd wordt.
Te verzenden door:: gemeente van vertrek
Te verzenden aan:: gemeente van vestiging
Volgt op bericht:: <<Ii01,Ii01>>
Wordt gevolgd door:: <<Iv01,Iv01>> of <<If21,If21>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
--
+
datum = 8 posities
Inhoud bevat:: de gehele PL (inclusief historie).

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#If01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: If01
Berichtnaam:: Fout: PL niet te verzenden
Omschrijving:: Indien de gemeente van vertrek niet in staat is de PL te verzenden, volgt dit bericht onder vermelding van de foutreden die verzending niet mogelijk maakt.
Te verzenden door:: gemeente van vertrek
Te verzenden aan:: gemeente van vestiging
Volgt op bericht:: <<Ii01,Ii01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
B =::: PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
E =::: bijhouden PL opgeschort wegens emigratie
G =::: persoon komt niet voor
M =::: bijhouden PL opgeschort wegens Ministerieel besluit
O =::: bijhouden PL opgeschort wegens overlijden
U =::: eenduidige identificatie niet gelukt
V =::: persoon is verhuisd naar gemeente "code"
gemeente = 4 posities +
--
+
A‑nummer = 10 posities
Inhoud bevat:: de bij het <<Ii01,Ii01>>-bericht opgegeven identificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#If21]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: If21
Berichtnaam:: Fout: de ontvangen PL is niet de aangevraagde
Omschrijving:: Indien de gemeente van vestiging een PL ontvangt die niet voldoet aan de opgegeven identificatie, dan volgt dit bericht.
Te verzenden door:: gemeente van vestiging
Te verzenden aan:: gemeente van vertrek
Volgt op bericht:: <<Ib01,Ib01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer uit het <<Ib01,Ib01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#If31]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: If31
Berichtnaam:: Fout: de verwijsgegevens zijn niet correct
Omschrijving:: Indien de gemeente van vertrek verwijsgegevens ontvangt die niet in overeenstemming zijn met de via het <<Ib01,Ib01>>-bericht verstuurde PL, wordt dit bericht verstuurd.
Te verzenden door:: gemeente van vertrek
Te verzenden aan:: gemeente van vestiging
Volgt op bericht:: <<Iv01,Iv01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: rubriek <<e0110,21.01.10>> A‑nummer uit het <<Iv01,Iv01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#If41]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: If41
Berichtnaam:: Fout: verwijsgegevens kunnen niet worden opgenomen
Omschrijving:: Indien de gemeente van vertrek dan wel de RNI niet in staat is de verwijsgegevens op te nemen, volgt dit bericht onder vermelding van de foutreden die opname niet mogelijk maakt.
Te verzenden door:: gemeente van vertrek, RNI
Te verzenden aan:: gemeente van vestiging, RNI
Volgt op bericht:: <<Iv11,Iv11>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is aanwezig en niet geblokkeerd
B =::: PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
V =::: persoon is verhuisd naar gemeente "code"
gemeente = 4 posities
--
+
A‑nummer = 10 posities
Inhoud bevat:: rubriek <<e0110,21.01.10>> A‑nummer uit het <<Iv11,Iv11>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ii01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ii01
Berichtnaam:: Initiatie intergemeentelijke verhuizing
Omschrijving:: Het bericht dat de gemeente van vestiging stuurt aan de gemeente van vertrek om kenbaar te maken dat de PL overgezonden dient te worden.
Te verzenden door:: gemeente van vestiging
Te verzenden aan:: gemeente van vertrek
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Ib01,Ib01>> of <<If01,If01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: persoonsidentificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Iv01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Iv01
Berichtnaam:: Verwijsgegevens
Omschrijving:: Het bericht waarmee de verwijsgegevens door de gemeente van vestiging naar de gemeente van vertrek gestuurd worden.
Te verzenden door:: gemeente van vestiging
Te verzenden aan:: gemeente van vertrek
Volgt op bericht:: <<Ib01,Ib01>>
Wordt gevolgd door:: verwerkbevestiging of <<If31,If31>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: categorie <<c21-71,21>> verwijzing:

* groep <<g01,01>> Identificatienummers
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g09,09>> Gemeente
* groep <<g70,70>> Geheim
* groep <<g83,83>> Procedure
* groep <<g85,85>> Geldigheid.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Iv11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Iv11
Berichtnaam:: Verwijsgegevens
Omschrijving:: Het bericht waarmee de verwijsgegevens door de gemeente van inschrijving dan wel de RNI naar de vorige gemeente van inschrijving dan wel naar de RNI gestuurd worden.
Te verzenden door:: gemeente van vestiging, RNI
Te verzenden aan:: gemeente van vertrek, RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Iv21,Iv21>> of <<If41,If41>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: categorie <<c21-71,21>> verwijzing:

* groep <<g01,01>> Identificatienummers
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g09,09>> Gemeente
* groep <<g70,70>> Geheim
* groep <<g83,83>> Procedure
* groep <<g85,85>> Geldigheid.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Iv21]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Iv21
Berichtnaam:: Verificatie verwijsgegevens
Omschrijving:: Het bericht waarmee de verwijsgegevens ter controle door de vorige gemeente van inschrijving dan wel de RNI teruggestuurd worden aan de gemeente van inschrijving dan wel aan de RNI.
Te verzenden door:: gemeente van vertrek, RNI
Te verzenden aan:: gemeente van vestiging, RNI
Volgt op bericht:: <<Iv11,Iv11>>
Wordt gevolgd door::
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: opgenomen verwijsgegevens overeenkomstig het <<Iv11,Iv11>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Jb01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Jb01
Berichtnaam:: Verhuizen PL van RNI naar gemeente
Omschrijving:: Het bericht waarmee de gehele PL (inclusief historie) door de RNI naar de gemeente van vestiging gestuurd wordt.
Te verzenden door:: RNI
Te verzenden aan:: gemeente van vestiging
Volgt op bericht:: <<Ji01,Ji01>>
Wordt gevolgd door:: <<Jv01,Jv01>> of <<Jf21,Jf21>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat:: de gehele PL (inclusief historie) met uitzondering van de categorieën <<c16-66,16/66>> en <c17,17>> en de groepen <<g71,71>> en <<g88,88>>.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Jf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Jf01
Berichtnaam:: Fout: PL niet te verzenden
Omschrijving:: Indien de RNI niet in staat is de PL te verzenden, volgt dit bericht onder vermelding van de foutreden die verzending niet mogelijk maakt.
Te verzenden door:: RNI
Te verzenden aan:: gemeente van vestiging
Volgt op bericht:: <<Ji01,Ji01>>
Wordt gevolgd door:: {empty}
Kop bevat:: random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
B =::: PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
G =::: persoon komt niet voor
O =::: bijhouden PL opgeschort wegens overlijden
U =::: eenduidige identificatie niet gelukt
V =::: persoon is verhuisd naar gemeente "code"
--
+
gemeente = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: de bij het <<Ji01,Ji01>>-bericht opgegeven identificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Jf21]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Jf21
Berichtnaam:: Fout: de ontvangen PL is niet de aangevraagde
Omschrijving:: Indien de gemeente van vestiging een PL ontvangt die niet voldoet aan de opgegeven identificatie, dan volgt dit bericht.
Te verzenden door:: gemeente van vestiging
Te verzenden aan:: RNI
Volgt op bericht:: <<Jb01,Jb01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer uit het <<Jb01,Jb01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Jf31]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Jf31
Berichtnaam:: Fout: de verwijsgegevens zijn niet correct
Omschrijving:: Indien de RNI verwijsgegevens ontvangt die niet in overeenstemming zijn met de via het <<Jb01,Jb01>>-bericht verstuurde PL, wordt dit bericht verstuurd.
Te verzenden door:: RNI
Te verzenden aan:: gemeente van vestiging
Volgt op bericht:: <<Jv01,Jv01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: rubriek <<e0110,21.01.10>> A‑nummer uit het <<Jv01,Jv01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ji01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ji01
Berichtnaam:: Initiatie verhuizing PL van RNI naar gemeente
Omschrijving:: Het bericht dat de gemeente van vestiging stuurt aan de RNI om kenbaar te maken dat de PL overgezonden dient te worden.
Te verzenden door:: gemeente van vestiging
Te verzenden aan:: RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Jb01,Jb01>> of <<Jf01,Jf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: persoonsidentificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Jv01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Jv01
Berichtnaam:: Verwijsgegevens
Omschrijving:: Het bericht waarmee de verwijsgegevens door de gemeente van vestiging naar de RNI gestuurd worden.
Te verzenden door:: gemeente van vestiging
Te verzenden aan:: RNI
Volgt op bericht:: <<Jb01,Jb01>>
Wordt gevolgd door:: verwerkbevestiging of <<Jf31,Jf31>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: categorie <<c21-71,21>> verwijzing:

* groep <<g01,01>> Identificatienummers
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g09,09>> Gemeente
* groep <<g70,70>> Geheim
* groep <<g83,83>> Procedure
* groep <<g85,85>> Geldigheid.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#La01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: La01
Berichtnaam:: Synchronisatieantwoord
Omschrijving:: Antwoord op het verzoek van BRP-V om een kopie van de PL.
Te verzenden door:: gemeente van inschrijving, RNI
Te verzenden aan:: BRP-V
Volgt op bericht:: <<Lq01,Lq01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: de volledige PL.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Lf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Lf01
Berichtnaam:: Fout: synchronisatievraag niet te beantwoorden
Omschrijving:: Dit bericht wordt verstuurd wanneer de gemeente van inschrijving dan wel de RNI de gevraagde persoon niet in het PL-bestand kan vinden.
Te verzenden door:: gemeente van inschrijving, RNI
Te verzenden aan:: BRP-V
Volgt op bericht:: <<Lq01,Lq01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
G =::: persoon komt niet voor
U =::: eenduidige identificatie niet gelukt
V =::: persoon is verhuisd naar gemeente "code"
--
+
gemeente = 4 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> respectievelijk <<e0110,51.01.10>> uit het <<Lq01,Lq01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Lg01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Lg01
Berichtnaam:: Synchronisatiebericht
Omschrijving:: Dit bericht wordt verstuurd om: +

* of de gegevens van BRP-V te synchroniseren met het PL-bestand van een gemeente of de RNI. +
* of om de synchroniciteit van de PL met BRP-V te controleren

Te verzenden door:: gemeente van inschrijving, RNI
Te verzenden aan:: BRP-V of BRP-V Daft
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
datum/tijd = 17 posities +
A‑nummer = 10 posities +
oud A‑nummer = 10 posities
Inhoud bevat:: de volledige PL.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Lq01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Lq01
Berichtnaam:: Synchronisatievraag
Omschrijving:: Het verzoek van BRP-V om een kopie van de PL te ontvangen.
Te verzenden door:: BRP-V
Te verzenden aan:: gemeente van inschrijving, RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<La01,La01>> of <<Lf01,Lf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer of rubriek <<e0110,51.01.10>> A‑nummer.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Of11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Of11
Berichtnaam:: Fout: opnemen/wijzigen verblijfstitel niet mogelijk
Omschrijving:: Foutbericht omdat een verzoek tot opnemen/wijzigen van gegevens omtrent de verblijfstitel niet uitgevoerd kan worden en waarom dit niet kan.
Te verzenden door:: gemeente van inschrijving, RNI
Te verzenden aan:: Minister van Justitie
Volgt op bericht:: <<Og11,Og11>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
B =::: PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
G =::: persoon niet gevonden
I =::: persoon is Nederlander of wordt behandeld als Nederlander
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
U =::: eenduidige identificatie niet gelukt
V =::: persoon is verhuisd naar gemeente "code"
--
+
datum = 8 posities +
gemeente = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Og11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Og11
Berichtnaam:: Opnemen/wijzigen gegevens verblijfstitel
Omschrijving:: Het bericht waarmee de Minister van Justitie gegevens omtrent de verblijfstitel van een bepaalde persoon kenbaar maakt.
Te verzenden door:: Minister van Justitie
Te verzenden aan:: gemeente van inschrijving, RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging of <<Of11,Of11>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
A‑nummer = 10 posities
Inhoud bevat:: de rubrieken:
+
--
* <<e3910,10.39.10>> Aanduiding verblijfstitel
* <<e3920,10.39.20>> Datum einde verblijfstitel
* <<e3930,10.39.30>> Ingangsdatum verblijfstitel
* <<e8410,10.84.10>> Indicatie onjuist
* <<e8510,10.85.10>> Ingangsdatum geldigheid
* <<e3910,60.39.10>> Aanduiding verblijfstitel
* <<e3920,60.39.20>> Datum einde verblijfstitel
* <<e3930,60.39.30>> Ingangsdatum verblijfstitel
* <<e8410,60.84.10>> Indicatie onjuist
* <<e8510,60.85.10>> Ingangsdatum geldigheid
--
+
Alle genoemde rubrieken dienen voor te komen in het bericht. Indien het oude of het nieuwe gegeven niet voorkomt, wordt de betreffende rubriek toch opgenomen in het bericht. Dit wordt gerealiseerd door de betreffende rubriek in het bericht op te nemen met lengte 0 (nul). Aangezien nooit onjuiste nieuwe gegevens worden verstrekt, heeft rubriek <<e8410,10.84.10>> altijd lengte 0 (nul).

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Rb01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Rb01
Berichtnaam:: Verhuizen PL van gemeente naar RNI
Omschrijving:: Het bericht waarmee de gehele PL (inclusief historie) door de gemeente van vertrek naar de RNI gestuurd wordt.
Te verzenden door:: gemeente van vertrek
Te verzenden aan:: RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Rv01,Rv01>> of <<Rf01,Rf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
--
+
datum = 8 posities
Inhoud bevat:: de gehele PL (inclusief historie).

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Rf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Rf01
Berichtnaam:: Fout: de ontvangen PL kan niet worden opgenomen
Omschrijving:: Indien de RNI een PL ontvangt die niet kan worden opgenomen, volgt dit bericht onder vermelding van de foutreden die opname niet mogelijk maakt.
Te verzenden door:: RNI
Te verzenden aan:: gemeente van vertrek
Volgt op bericht:: <<Rb01,Rb01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
O =::: bijhouden PL opgeschort wegens overlijden
--
+
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer uit het <<Rb01,Rb01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Rf31]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Rf31
Berichtnaam:: Fout: de verwijsgegevens zijn niet correct
Omschrijving:: Indien de gemeente van vertrek verwijsgegevens ontvangt die niet in overeenstemming zijn met de via het <<Rb01,Rb01>>-bericht verstuurde PL, wordt dit bericht verstuurd.
Te verzenden door:: gemeente van vertrek
Te verzenden aan:: RNI
Volgt op bericht:: <<Rv01,Rv01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: rubriek <<e0110,21.01.10>> A‑nummer uit het <<Rv01,Rv01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Rv01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Rv01
Berichtnaam:: Verwijsgegevens
Omschrijving:: Het bericht waarmee de verwijsgegevens door de RNI naar de gemeente van vertrek gestuurd worden.
Te verzenden door:: RNI
Te verzenden aan:: gemeente van vertrek
Volgt op bericht:: <<Rb01,Rb01>>
Wordt gevolgd door:: verwerkbevestiging of <<Rf31,Rf31>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: categorie <<c21-71,21>> verwijzing:

* groep <<g01,01>> Identificatienummers
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g09,09>> Gemeente
* groep <<g70,70>> Geheim
* groep <<g83,83>> Procedure
* groep <<g85,85>> Geldigheid.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Tb01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Tb01
Berichtnaam:: Toevallige geboorte
Omschrijving:: Indien een kind wordt geboren in een gemeente, waar het volgens de regels niet ingeschreven dient te worden, gaat dit bericht naar de gemeente waar de ouder uit wie het kind is geboren als ingezetene is ingeschreven.
Te verzenden door:: geboortegemeente
Te verzenden aan:: gemeente van eerste inschrijving
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Tv01,Tv01>> of <<Tf01,Tf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
gezochte persoon = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
1 =::: Ouder1
2 =::: Ouder2
--
+
aktenummer = 7 posities
Inhoud bevat:: categorie <<c01-51,01>> Persoon:
+
--
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g04,04>> Geslacht
* element <<e8120,81.20>> Aktenummer
--
+
categorie <<c01-51,51>> Persoon (historie): +
+
--
* groep <<g02,02>> Naam
* element <<e8120,81.20>> Aktenummer
--
+
categorie <<c02-52,02>> Ouder1: +
+
--
* groep <<g01,01>> Identificatienummers, indien bekend
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte, indien bekend
* groep <<g04,04>> Geslacht
* groep <<g62,62>> Familierechtelijke betrekking
--
+
categorie <<c03-53,03>> Ouder2: +
+
--
* groep <<g01,01>> Identificatienummers, indien bekend
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte, indien bekend
* groep <<g04,04>> Geslacht
* groep <<g62,62>> Familierechtelijke betrekking.
--
+
categorie <<c04-54,04>> Nationaliteit (indien bekend) +
+
--
* of groep <<g05,04.05>> Nationaliteit of groep <<g65,04.65>> Bijzonder Nederlanderschap
* groep <<g63,04.63>> Opnemen nationaliteit
--
+
Categorie <<c02-52,02>> Ouder1 en Categorie <<c03-53,03>> Ouder2 komen alleen beide voor indien er twee ouders zijn (dan wel vanaf de geboorte, dan wel vanaf de erkenning bij de geboorteaangifte). +
+
Categorie <<c01-51,51>> Persoon (historie) komt alleen voor ingeval van erkenning bij de geboorteaangifte op een datum ná de dag van geboorte. +
+
Categorie <<c04-54,04>> Nationaliteit kan nul, één keer of meerdere keren voorkomen en bevat alleen de nationaliteiten die het kind vanaf geboorte heeft. +
Naast de Nederlandse nationaliteit, waaronder ook de status "Behandeld als Nederlander" wordt geen vreemde nationaliteit opgenomen, categorie <<c04-54,04>> Nationaliteit komt dan maar een keer voor.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Tb02]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Tb02
Berichtnaam:: Toevallige gebeurtenis
Omschrijving:: Indien een akte is opgemaakt, dan wel een latere vermelding is geplaatst op een akte, in een andere gemeente dan waar de hoofdpersoon als ingezetene is ingeschreven, wordt dit bericht verstuurd naar de gemeente van inschrijving van de hoofdpersoon. Indien de opgemaakte akte een overlijden betreft en de overledene is als niet-ingezetene ingeschreven, wordt dit bericht verstuurd aan de RNI.
Te verzenden door:: gebeurtenisgemeente
Te verzenden aan:: gemeente van inschrijving of RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging of <<Tf21,Tf21>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
aantal = 3 posities +
identificerende rubrieken = 6 posities N maal +
aktenummer = 7 posities
Inhoud bevat:: categorie <<c01-51,01>> Persoon: +
+
--
* groep <<g01,01>> Identificatienummers
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g04,04>> Geslacht
--
+
aangevuld met de volgende gegevens, afhankelijk van de gebeurtenis:

* bij een wijziging in de gegevens van de persoon:
+
categorie <<c01-51,01>> Persoon: +
+
--
** groep <<g81,81>> Akte +
** groep <<g85,85>> Geldigheid
--
+
categorie <<c01-51,51>> Persoon (historie): +
+
--
** groep <<g02,02>> Naam +
** groep <<g03,03>> Geboorte +
** groep <<g04,04>> Geslacht
--
+
{empty}::
* bij een wijziging in de gegevens van de eerste betrokken ouder:
+
categorie <<c02-52,02>> Ouder1:
+
--
** groep <<g01,01>> Identificatienummers, indien bekend
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g04,04>> Geslacht
** groep <<g62,62>> Familierechtelijke betrekking
** groep <<g81,81>> Akte
** groep <<g85,85>> Geldigheid
--
+
categorie <<c02-52,52>> Ouder1 (historie), alleen als er historie is:
+
--
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g62,62>> Familierechtelijke betrekking
--
+
{empty}::
* bij een wijziging in de gegevens van de tweede betrokken ouder (alleen indien er twee ouders bij het rechtsfeit betrokken zijn):
+
categorie <<c03-53,03>> Ouder2:
+
--
** groep <<g01,01>> Identificatienummers, indien bekend
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g04,04>> Geslacht
** groep <<g62,62>> Familierechtelijke betrekking
** groep <<g81,81>> Akte
** groep <<g85,85>> Geldigheid
--
+
categorie <<c03-53,53>> Ouder2 (historie), alleen als er historie is:
+
--
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g62,62>> Familierechtelijke betrekking
--
+
{empty}::
* bij een huwelijkssluiting/aangaan geregistreerd partnerschap:
+
categorie <<c05-55,05>> Huwelijk/geregistreerd partnerschap:
+
--
** groep <<g01,01>> Identificatienummers, indien bekend
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g04,04>> Geslacht
** groep 06 Huwelijkssluiting/aangaan geregistr. partnerschap
** groep <<g15,15>> Soort verbintenis
** groep <<g81,81>> Akte
** groep <<g85,85>> Geldigheid
--
+
{empty}::
* bij een ontbinding huwelijk/geregistreerd partnerschap:
+
categorie <<c05-55,05>> Huwelijk/geregistreerd partnerschap:
+
--
** groep <<g01,01>> Identificatienummers, indien bekend
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g04,04>> Geslacht
** groep <<g07,07>> Ontbinding huwelijk/geregistr. partnerschap
** groep <<g15,15>> Soort verbintenis
** groep <<g81,81>> Akte
** groep <<g85,85>> Geldigheid
--
+
categorie <<c05-55,55>>/geregistreerd partnerschap (historie):
+
--
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep 06 Huwelijkssluiting/aangaan geregistr. partnerschap
** groep <<g15,15>> Soort verbintenis
--
+
{empty}::
* bij een omzetting huwelijk in geregistreerd partnerschap en geregistreerd partnerschap in huwelijk:
+
categorie <<c05-55,05>> Huwelijk/geregistreerd partnerschap:
+
--
** groep <<g01,01>> Identificatienummers, indien bekend
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep <<g04,04>> Geslacht
** groep 06 Huwelijkssluiting/aangaan geregistr. partnerschap
** groep <<g15,15>> Soort verbintenis
** groep <<g81,81>> Akte
** groep <<g85,85>> Geldigheid
--
+
categorie <<c05-55,55>> Huwelijk/geregistreerd partnerschap (historie):
+
--
** groep <<g02,02>> Naam
** groep <<g03,03>> Geboorte
** groep 06 Huwelijkssluiting/aangaan geregistr. partnerschap
** groep <<g15,15>> Soort verbintenis
--
+
{empty}::
* bij een overlijden:
+
categorie <<c06-56,06>> Overlijden:
+
--
** groep <<g08,08>> Overlijden
** groep <<g81,81>> Akte
** groep <<g85,85>> Geldigheid.
--

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Tf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Tf01
Berichtnaam:: Fout: persoon niet in te schrijven
Omschrijving:: Indien de persoon niet in te schrijven is, gaat dit bericht terug naar de gemeente van "toevallige geboorte".
Te verzenden door:: gemeente van eerste inschrijving
Te verzenden aan:: geboortegemeente
Volgt op bericht:: <<Tb01,Tb01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: persoon is actueel ingeschreven
B =::: PL ouder is geblokkeerd i.v.m. verhuizing naar gemeente "code"
E =::: bijhouden PL ouder opgeschort wegens emigratie ouder
G =::: ouder komt niet voor
M =::: bijhouden PL ouder opgeschort wegens Ministerieel besluit bij ouder
O =::: bijhouden PL ouder opgeschort wegens overlijden ouder
U =::: eenduidige identificatie niet gelukt
V =::: ouder is verhuisd naar gemeente "code"
--
+
gemeente = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: rubriek <<e8120,01.81.20>> Aktenummer uit het <<Tb01,Tb01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Tf11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Tf11
Berichtnaam:: Fout: de verwijsgegevens zijn niet correct
Omschrijving:: Dit bericht wordt verstuurd, indien de gemeente verwijsgegevens ontvangt van een persoon, die niet corresponderen met de eerder via het <<Tb01,Tb01>>-bericht verstuurde gegevens.
Te verzenden door:: geboortegemeente
Te verzenden aan:: gemeente van eerste inschrijving
Volgt op bericht:: <<Tv01,Tv01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer uit het <<Tv01,Tv01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Tf21]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Tf21
Berichtnaam:: Fout: gebeurtenisgegevens niet te verwerken
Omschrijving:: Indien de gemeente van inschrijving of de RNI niet in staat is de gegevens betreffende de gebeurtenis te verwerken, volgt dit bericht onder vermelding van de foutreden die verwerking niet mogelijk maakt.
Te verzenden door:: gemeente van inschrijving of RNI
Te verzenden aan:: gebeurtenisgemeente
Volgt op bericht:: <<Tb02,Tb02>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
B =::: PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
G =::: persoon komt niet voor
N =::: de gegevens van het rechtsfeit kunnen of mogen niet worden verwerkt
O =::: bijhouden PL opgeschort wegens overlijden
U =::: eenduidige identificatie niet gelukt
V =::: persoon is verhuisd naar gemeente "code"
--
+
gemeente = 4 posities +
A‑nummer = 10 positie +
aantal = 3 posities (uit de kop van het <<Tb02,Tb02>>-bericht) +
identificerende rubrieken = 6 posities N maal (uit de kop van het <<Tb02,Tb02>>-bericht)
Inhoud bevat:: alle gegevens uit de inhoud van het <<Tb02,Tb02>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Tv01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Tv01
Berichtnaam:: Verwijsgegevens
Omschrijving:: Het bericht waarmee de verwijsgegevens door de gemeente van eerste inschrijving naar de gemeente van "toevallige geboorte" gestuurd worden.
Te verzenden door:: gemeente van eerste inschrijving
Te verzenden aan:: geboortegemeente
Volgt op bericht:: <<Tb01,Tb01>>
Wordt gevolgd door:: verwerkbevestiging of <<Tf11,Tf11>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat::
categorie <<c21-71,21>> verwijzing:

* groep <<g01,01>> Identificatienummers
* groep <<g02,02>> Naam
* groep <<g03,03>> Geboorte
* groep <<g09,09>> Gemeente
* groep <<g70,70>> Geheim
* groep <<g83,83>> Procedure
* groep <<g85,85>> Geldigheid.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Wa01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Wa01
Berichtnaam:: Wijziging A‑nummer
Omschrijving:: Indien het A‑nummer wijzigt, wordt dit bericht verstuurd aan de gemeente dan wel de RNI met verwijsgegevens.
Te verzenden door:: huidige gemeente van inschrijving, RNI
Te verzenden aan:: gemeente met verwijsgegevens, RNI
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging of <<Wf01,Wf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
(nieuw) A‑nummer = 10 posities +
datum geldigheid = 8 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> (oude) A‑nummer +
alsmede uit categorie <<c02-52,02>> Persoon de groepen:

* <<g02,02>> Naam
* <<g03,03>> Geboorte.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Wf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Wf01
Berichtnaam:: Fout: A‑nummerwijziging niet te verwerken
Omschrijving:: Indien de gemeente dan wel de RNI een wijziging in het A‑nummer ontvangt die niet te verwerken is, wordt dit bericht verstuurd.
Te verzenden door:: gemeente met verwijsgegevens, RNI
Te verzenden aan:: huidige gemeente van inschrijving, RNI
Volgt op bericht:: <<Wa01,Wa01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: persoon is actueel ingeschreven
G =::: persoon komt niet voor in verwijsgegevens
--
+
Inhoud bevat:: de bij het <<Wa01,Wa01>>-bericht opgegeven identificerende gegevens.

===== Overzicht foutredenen en statusmeldingen

De in de berichten voorkomende foutredenen en statusmeldingen zijn in de onderstaande opsomming opgenomen. Indien bij de omschrijving van de betekenis "datum" of "code" voorkomt, wil dat zeggen dat in het betreffende bericht ook de bedoelde datum of gemeentecode voorkomt.

[width="100%",cols="10%,12%,78%",options="header",frame=none,grid=none]
|===
|Fout/ Status |Berichtnr. |Betekenis
|A |<<Ib01,Ib01>> |PL is actueel
|A |<<If41,If41>> |PL is aanwezig en niet geblokkeerd
|A |<<Jf01,Jf01>> |PL is actueel
|A |<<Rf01,Rf01>> |PL is actueel
|A |<<Tf01,Tf01>> |Persoon is actueel ingeschreven
|A |<<Wf01,Wf01>> |Persoon is actueel ingeschreven
3+|
|B |<<If01,If01>> |PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
|B |<<If41,If41>> |PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
|B |<<Jf01,Jf01>> |PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
|B |<<Of11,Of11>> |PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
|B |<<Tf01,Tf01>> |PL ouder is geblokkeerd i.v.m. verhuizing naar gemeente "code"
|B |<<Tf21,Tf21>> |PL is geblokkeerd i.v.m. verhuizing naar gemeente "code"
3+|
|E |<<Ib01,Ib01>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<If01,If01>> |Bijhouden PL opgeschort wegens emigratie
|E |<<Jb01,Jb01>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Rb01,Rb01>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Tf01,Tf01>> |Bijhouden PL ouder opgeschort wegens emigratie ouder
3+|
|G |<<If01,If01>> |Persoon komt niet voor
|G |<<Jf01,Jf01>> |Persoon komt niet voor
|G |<<Lf01,Lf01>> |Persoon komt niet voor
|G |<<Of11,Of11>> |Persoon niet gevonden
|G |<<Tf01,Tf01>> |Ouder komt niet voor
|G |<<Tf21,Tf21>> |Persoon komt niet voor
|G |<<Wf01,Wf01>> |Persoon komt niet voor in verwijsgegevens
3+|
|I |<<Of11,Of11>> |Persoon is Nederlander of wordt behandeld als Nederlander
3+|
|M |<<Ib01,Ib01>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<If01,If01>> |Bijhouden PL opgeschort wegens Ministerieel besluit
|M |<<Jb01,Jb01>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Rb01,Rb01>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Tf01,Tf01>> |Bijhouden PL ouder opgeschort wegens Ministerieel besluit bij ouder
3+|
|N |<<Tf21,Tf21>> |de gegevens van het rechtsfeit kunnen of mogen niet worden verwerkt
3+|
|O |<<If01,If01>> |Bijhouden PL opgeschort wegens overlijden
|O |<<Jf01,Jf01>> |Bijhouden PL opgeschort wegens overlijden
|O |<<Of11,Of11>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Rf01,Rf01>> |Bijhouden PL opgeschort wegens overlijden
|O |<<Tf21,Tf21>> |Bijhouden PL opgeschort wegens overlijden
3+|
|R |<<Jb01,Jb01>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
3+|
|U |<<If01,If01>> |Eenduidige identificatie niet gelukt
|U |<<Jf01,Jf01>> |Eenduidige identificatie niet gelukt
|U |<<Lf01,Lf01>> |Eenduidige identificatie niet gelukt
|U |<<Of11,Of11>> |Eenduidige identificatie niet gelukt
|U |<<Tf01,Tf01>> |Eenduidige identificatie niet gelukt
|U |<<Tf21,Tf21>> |Eenduidige identificatie niet gelukt
3+|
|V |<<If01,If01>> |Persoon is verhuisd naar gemeente "code"
|V |<<If41,If41>> |Persoon is verhuisd naar gemeente "code"
|V |<<Jf01,Jf01>> |Persoon is verhuisd naar gemeente "code"
|V |<<Lf01,Lf01>> |Persoon is verhuisd naar gemeente "code"
|V |<<Of11,Of11>> |Persoon is verhuisd naar gemeente "code"
|V |<<Tf01,Tf01>> |Ouder is verhuisd naar gemeente "code"
|V |<<Tf21,Tf21>> |Persoon is verhuisd naar gemeente "code"
|===

Daarnaast is er een aantal foutberichten waarbij geen foutreden kan voorkomen. Deze berichten zijn in de onderstaande opsomming opgenomen:

[width="100%",cols="10%,10%,80%",options="header",frame=none,grid=none]
|===
|Code |Berichtnr. |Betekenis
||<<If21,If21>> |De ontvangen PL is niet de aangevraagde
||<<If31,If31>> |De verwijsgegevens zijn niet correct
||<<Jf21,Jf21>> |De ontvangen PL is niet de aangevraagde
||<<Jf31,Jf31>> |De verwijsgegevens zijn niet correct
||<<Rf31,Rf31>> |De verwijsgegevens zijn niet correct
||<<Tf11,Tf11>> |De verwijsgegevens zijn niet correct
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

=== Berichten in verband met verstrekkingen

==== Inleiding

In deze paragraaf worden de berichtencycli uiteengezet. Elke cyclus wordt beschreven aan de hand van:

[unordered.stack]
*Een schematische weergave van de cyclus*:: Hieruit blijkt de volgorde van de berichten. Het normale proces wordt beschreven met de kenmerkende activiteiten binnen de cyclus. Tevens zijn, indien van toepassing, de punten aangegeven waarop een cyclus afgebroken wordt in het geval van een foutsituatie.
*Een inleiding*:: Hierin is een omschrijving van het doel van de cyclus en een beknopte omschrijving van het verloop opgenomen.
*Een toelichting*:: Het verloop van de cyclus wordt daarin stap voor stap beschreven. Indien van toepassing, worden de foutsituaties behandeld die in een cyclus kunnen optreden. Hierbij wordt voor iedere foutsituatie aangegeven welke acties van de betrokken instanties noodzakelijk zijn.

In het overzicht hierna zijn de berichtencycli gegroepeerd uitgaande van de betrokken partijen bij de verschillende cycli. De tevens opgenomen paragraafnummers verwijzen naar de subparagraaf waarin de betreffende cyclus wordt behandeld.

[width="100%",cols="15%a,85%",frame=none,grid=none]
|===
2+|BRP-V en afnemers:
|

* <<_spontane_gegevensverstrekkingen,5.3.2>> |Spontane gegevensverstrekkingen

|

* <<_selecties,5.3.3>> |Selecties

|

* <<_ad_hoc_vragen_via_de_berichtendienst,5.3.4>> |Ad hoc vragen

|

* <<_ad_hoc_adresvragen_via_de_berichtendienst,5.3.5>> |Ad hoc adresvragen

|

* <<_plaatsen_afnemersindicatie_bij_pl_2,5.3.6>> |Plaatsen afnemersindicatie op persoonslijst

|

* <<_verwijderen_afnemersindicatie_bij_pl,5.3.7>> |Verwijderen afnemersindicatie van persoonslijst

|===

[width="100%",cols="15%a,25%,60%",frame=none,grid=none]
|===
3+|Webservice in verband met bevragen door afnemers van BRP-V:
|

* <<AdHocAdresVraagViaWebservice,5.3.8>> |Vraag |Afnemer stelt een ad hoc (adres)vraag aan BRP-V

3+|Webservices in verband met het afhandelen van het berichtendienstverkeer via BRP-V
|

* <<_berichtenverkeer_via_de_webservice_stuurgbabericht,5.3.9>>

|StuurGBAbericht |Berichtendienstgebruiker handelt berichtenverkeer af met SummarizeMessages, ListMessages, GetMessage en PutMessage
|===

[width="100%",cols="15%a,85%",frame=none,grid=none]
|===
2+|API's in verband met bevragen door afnemers van BRP-V:
|

* <<_brp_aantal_bewoners_api,5.3.10>>

|BRP Aantal bewoners API
|

* <<_brp_api_bewoning,5.3.11>>

|BRP API - Bewoning
|

* <<_brp_api_personen,5.3.12>>

|BRP API - Personen
|

* <<_brp_api_reisdocumenten,5.3.13>>

|BRP API – Reisdocumenten
|

* <<_brp_api_verblijfplaatshistorie,5.3.14>>

|BRP API - Verblijfplaatshistorie
2+|API's in verband met het opvragen van het protocolleringsoverzicht door MijnOverheid:
|

* <<_brp_protocolleringsoverzicht_api,5.3.15>>

|BRP Protocolleringsoverzicht API
|===

De berichtencycli 5.3.2 t/m 5.3.7 kunnen behalve via de mailboxserver ook via de webservice StuurGBAbericht en via de BRP Berichten API worden uitgewisseld.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Spontane gegevensverstrekkingen

[.text-center]
.Schematische weergave Spontane gegevensverstrekkingen BRP-V
image::image50.svg[width=566,height=765]

===== Inleiding

Deze cyclus verzorgt de volgende gegevensverstrekkingen aan afnemers:

. het spontaan verstrekken van gegevens aan afnemers die een afnemersindicatie bij de geactualiseerde PL hebben staan;
. het versturen van gegevensverstrekkingen als gevolg van het spontaan plaatsen van afnemersindicaties bij persoonslijsten;
. het versturen van conditionele gegevensverstrekkingen.

===== Toelichting

Het verloop van de cyclus bestaat uit een enkele stap, te weten:

. *BRP-V* +
Bij BRP-V wordt met behulp van de autorisatietabel en de bij de PL geplaatste afnemersindicaties bepaald aan welke afnemers welke verstrekkingen moeten worden gedaan. De volgende situaties kunnen zich voordoen:
+
--
.. Indien BRP-V een <<Lg01,Lg01>>-bericht ontvangt over een PL die is opgeschort met reden F dan worden alle afnemers die een afnemersindicatie hebben geplaatst bij deze PL van dit feit op de hoogte gesteld. Dit geschiedt middels een <<Ng01,Ng01>>-bericht. +
Indien voor één persoon meerdere PL'en met een verschillend A-nummer zijn opgenomen, dan wordt voor elke afgevoerde PL een <<Ng01,Ng01>>-bericht gestuurd aan alle afnemers die een afnemersindicatie hebben geplaatst bij die niet te handhaven PL.
.. Indien BRP-V een <<Lg01,Lg01>>-bericht ontvangt over een PL die is gewijzigd anders dan ten gevolge van een infrastructurele wijziging, wordt die wijziging middels een <<Gv01,Gv01>>-bericht gemeld aan alle afnemers die én een afnemersindicatie hebben geplaatst bij de betreffende PL én geautoriseerd zijn voor spontane gegevensverstrekking van het betrokken gegeven. Als het niet mogelijk is om een <<Gv01,Gv01>>-bericht aan te maken omdat bijvoorbeeld de verschillen tussen twee PL'en niet duidelijk maken wat de wijzigingen zijn, wordt een <<Ag31,Ag31>> bericht verstuurd.
.. Indien BRP-V een <<Lg01,Lg01>>-bericht ontvangt over een gewijzigde PL ten gevolge van een infrastructurele wijziging wordt in plaats van het <<Gv01,Gv01>>-bericht het <<Gv02,Gv02>>-bericht verzonden. Dit bericht wordt verstuurd aan alle afnemers die én een afnemersindicatie hebben geplaatst bij de betreffende PL én geautoriseerd zijn voor spontane gegevensverstrekking van de betrokken adresgegevens.
.. Indien aan een persoon een nieuw A‑nummer wordt toegekend, wordt aan alle afnemers die een afnemersindicatie hebben geplaatst bij de betreffende PL een <<Wa11,Wa11>>-bericht gestuurd. +
Wanneer het verwerken van het <<Wa11,Wa11>>-bericht door de afnemer problemen oplevert, dan dient dit te worden gemeld. Problemen met de verwerking kunnen bijvoorbeeld optreden omdat de afnemer constateert dat het nieuwe A‑nummer al voorkomt.
.. Indien een afnemersindicatie bij een persoonslijst wordt geplaatst als gevolg van het plaatsen van een afnemersindicatie op basis van een sleutelrubriek, wordt een <<Ag11,Ag11>>-bericht verstuurd aan de betreffende afnemer. Nadat de afnemersindicatie bij de persoonslijst is geplaatst, zal de afnemer op de hoogte gehouden worden van wijzigingen in de PL middels de bovenstaande typen verstrekkingen.
.. Indien een rubriek op een PL wijzigt, wordt een <<Ag21,Ag21>>-bericht gestuurd aan alle afnemers die én die rubriek als sleutelrubriek hebben én geautoriseerd zijn voor het ontvangen van conditionele gegevensverstrekkingen én waarbij de PL voldoet aan de voorwaardenregel spontaan van die afnemer.
--
+
In alle overige gevallen worden geen berichten verstuurd.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Selecties

[.text-center]
.Schematische weergave Selecties BRP-V
image::image51.svg[width=566,height=339]

===== Inleiding

Bij het verstrekken van gegevens als gevolg van een selectie zijn de volgende situaties te onderscheiden:

* Een selectie zonder plaatsing van afnemersindicaties bij persoonslijsten. In dat geval worden <<Sv01,Sv01>>-berichten dan wel slechts het <<Sv11,Sv11>>-bericht verstuurd.
* Een selectie met plaatsing van afnemersindicaties bij persoonslijsten. In dat geval worden <<Ag11,Ag11>>- berichten dan wel slechts het <<Sv11,Sv11>>-bericht verstuurd. +
Indien een afnemer gekozen heeft voor selectieplaatsing zonder vulberichten, worden er geen <<Ag11,Ag11>>-berichten verstuurd aan die afnemer. Een <<Sv11,Sv11>>-bericht wordt wel verstuurd als daar reden voor is.
* Een selectie met verwijdering van afnemersindicaties bij persoonslijsten. In dat geval worden <<Sv01,Sv01>>-berichten dan wel slechts het <<Sv11,Sv11>>-bericht verstuurd. +
Indien een afnemer ervoor gekozen heeft van die verwijderingen geen berichten te willen ontvangen, wordt, als daar reden voor is, wel een <<Sv11,Sv11>>-bericht verstuurd.

Het <<Sv11,Sv11>>-bericht geeft de betrokken afnemer de garantie dat de selectie is uitgevoerd, wanneer daarbij geen enkele PL geselecteerd is.

===== Toelichting

Het verloop van de cyclus bestaat uit een enkele stap, te weten:

. *BRP-V* +
Een verstrekking van gegevens per geselecteerde PL aan de afnemer door het verzenden van een <<Sv01,Sv01>>- of een <<Ag11,Ag11>>-bericht. Indien geen enkele PL geselecteerd wordt, wordt een <<Sv11,Sv11>>-bericht verzonden.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Ad hoc vragen via de berichtendienst

[.text-center]
.Schematische weergave Ad hoc vragen in BRP-V
image::image52.svg[width=566,height=760]

===== Inleiding

Deze cyclus is gedefinieerd om via elektronische berichten vragen van afnemers te beantwoorden. Deze vragen kunnen door de afnemer aan BRP-V gesteld worden.

Hierbij wordt ervan uitgegaan dat de persoon over wie gegevens gewenst zijn reeds bij de afnemer bekend is. Een persoonsidentificatie in de vraag is namelijk verplicht. Bij de vraag wordt aangegeven welke rubrieken in het antwoord verwacht worden. Uiteraard moet een afnemer geautoriseerd zijn voor het stellen van een dergelijke vraag en de PL moet aan de voorwaardenregel ad hoc van die afnemer voldoen.

Bij het beantwoorden van de vraag speelt de Indicatie geheim op een PL een belangrijke rol. Door deze indicatie kan de verstrekking van persoonsgegevens aan bepaalde groepen afnemers worden tegengegaan. De groepen afnemers waarvoor dit van toepassing is, zijn geautoriseerd voor het stellen van ad hoc vragen, maar hebben de Indicatie geheimhouding aan staan in hun autorisatietabelregel.

In het geval dat de bijhouding van de PL is opgeschort of de PL is geblokkeerd, wordt de vraag gewoon beantwoord en worden alle gegevens waarom de afnemer gevraagd heeft en waarop de afnemer krachtens zijn autorisatie recht heeft, in een <<Ha01,Ha01>>-bericht verstuurd.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Afnemer* +
Een verzoek om informatie over een specifieke persoon door middel van het <<Hq01,Hq01>>-bericht.
. *BRP-V* +
Controle van de gestelde vraag:
+
--
* Controle of de afnemer bevoegd is voor het stellen van ad hoc vragen.
* Controle van de identificatie.
* Controle of gegevensverstrekking niet wordt uitgesloten door de indicatie geheim.
* Controle of de persoon tot de doelgroep van de afnemer behoort.
--
+
Na deze controles wordt in het <<Ha01,Ha01>>-bericht de informatie verstrekt waar de afnemer om heeft gevraagd.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Bij binnenkomst van het <<Hq01,Hq01>>-bericht controleert BRP-V of de afnemer bevoegd is tot het stellen van ad hoc vragen. Is dat niet het geval dan wordt een <<Hf01,Hf01>>-bericht verstuurd met foutreden "X". Deze gebeurtenis wordt bovendien gerapporteerd aan RvIG.
|[.number]#&#x2461;# |Vervolgens wordt gecontroleerd of de gevraagde gegevens en de gegevens die zijn gebruikt voor de identificatie onder de autorisatie voor ad hoc gegevensverstrekking van de afnemer vallen. Ook hier wordt weer een <<Hf01,Hf01>>-bericht met foutreden "X" verstuurd als dat niet het geval is en wordt het incident gerapporteerd.
|[.number]#&#x2462;# |Als de vraag binnen de grenzen van de autorisatie van de afnemer valt, wordt de persoon opgezocht in het PL‑bestand met behulp van de identificerende gegevens uit het <<Hq01,Hq01>>-bericht. Voor ad hoc vragen zal vaak gebruik worden gemaakt van andere identificerende gegevens dan het A‑nummer. Het is dus mogelijk dat de gezochte persoon niet uniek te identificeren is. In dat geval wordt een <<Hf01,Hf01>>-bericht met foutreden "U" verstuurd. Als er geen persoon gevonden wordt, wordt een <<Hf01,Hf01>>-bericht met foutreden "G" verstuurd.
|[.number]#&#x2463;# |Vervolgens wordt de controle op geheimhouding uitgevoerd. Staat de Indicatie geheim van de betrokken persoon op "2", "4", "6" of "7" en staat de Indicatie geheimhouding in de autorisatietabelregel van de afnemer aan, dan mogen er over deze persoon geen gegevens worden verstrekt. Er wordt een <<Hf01,Hf01>>-bericht met foutreden "H" aan de afnemer gestuurd.
|[.number]#&#x2464;# |Vervolgens wordt nagegaan of de persoon voldoet aan de voorwaardenregel ad hoc uit de autorisatietabelregel van de betrokken afnemer. Is dat niet het geval dan wordt een <<Hf01,Hf01>>-bericht gestuurd, met foutreden "R".
|[.number]#&#x2465;# |Afhankelijk van de foutreden in de kop van het <<Hf01,Hf01>>-bericht worden de volgende acties ondernomen:

*Foutreden G*

Deze foutreden kan wijzen op onjuiste identificerende gegevens. Eventueel nader onderzoek zal uit moeten wijzen wat de oorzaak is van het identificatieprobleem. Ad hoc vragen zijn onder andere bedoeld om personen waarvan de gegevens niet volledig of niet geheel juist bekend zijn te lokaliseren.

*Foutreden H*

De afnemer kan geen verdere actie ondernemen, omdat de persoon om geheimhouding heeft verzocht.
| |
*Foutreden R*

Als daar aanleiding voor is, stelt de afnemer een onderzoek in om na te gaan waarom een vraag werd gesteld over een persoon die buiten zijn autorisatie valt.

*Foutreden U*

De afnemer zal nadere identificerende gegevens moeten leveren om in een nieuwe cyclus alsnog antwoord op de vraag te krijgen. Daarover kan eventueel overleg met de gemeente of BRP-V worden gepleegd.

*Foutreden X*

De afnemer dient na te gaan hoe het komt dat het <<Hq01,Hq01>>-bericht werd verstuurd.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Ad hoc adresvragen via de berichtendienst

[.text-center]
.Schematische weergave Ad hoc adresvragen in BRP-V
image::image53.svg[width=566,height=827]

===== Inleiding

De ad hoc adresvraag is gedefinieerd om antwoord te kunnen krijgen op de vraag wie er op een bepaald adres zijn ingeschreven. In de beantwoording wordt ervan uitgegaan dat er gegevens worden verstrekt van alle personen die actueel zijn ingeschreven op dat adres. Wanneer (bij adresidentificerende gegevens) tenminste één op het opgegeven adres actueel ingeschreven persoon of (bij persoonsidentificerende gegevens) de gevraagde persoon waarvoor met betrekking tot de betrokken afnemer geen geheimhouding geldt, tot de doelgroep van de afnemer behoort, worden de gevraagde gegevens van alle actuele PL'en op dat adres verstrekt, met uitzondering van die PL'en waarvoor met betrekking tot de betrokken afnemer geheimhouding geldt en die PL'en die niet voldoen aan de voorwaardenregel ad hoc van de betrokken afnemer.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Afnemer* +
Een verzoek van de afnemer om gegevens te verkrijgen over wie op een bepaald adres zijn ingeschreven door het verzenden van het <<Xq01,Xq01>>-bericht.
. *BRP-V* +
BRP-V handelt het verzoek van de afnemer als volgt af:
+
--
* Controle of de afnemer bevoegd is voor het stellen van ad hoc adresvragen.
* Controle of de afnemer is geautoriseerd voor de ad hoc gegevensverstrekking van de gegevens die de afnemer gebruikt bij de adresidentificatie dan wel de persoonsidentificatie.
* Controle of de afnemer is geautoriseerd voor de ad hoc gegevensverstrekking van rubriek <<e1010,08.10.10>>, indien de afnemer in de kop van het <<Xq01,Xq01>>-bericht in het veld 'Adresfunctie' een andere waarde gebruikt dan "A".
* Controle of de afnemer is geautoriseerd voor de ad hoc gegevensverstrekking van de gegevens waarnaar de afnemer vraagt.
* Controle of het gevraagde adres bestaat dan wel de gevraagde persoon in het PL-bestand voorkomt.
* Controle of het gevraagde adres of de gevraagde persoon uniek in BRP-V voorkomt.
* Vaststellen aan de hand van de waarde van het veld 'Adresfunctie' in de kop van het <<Xq01,Xq01>>-bericht, welke PL'en bij de gegevensverstrekking moeten worden betrokken:
** bij de waarde "B": alleen actuele PL'en met het gevraagde adres als briefadres;
** bij de waarde "W": alleen actuele PL'en met het gevraagde adres als woonadres;
** bij de waarde "A": alle actuele PL'en met het gevraagde adres.
* Bij adresidentificatie: verzamelen van alle in aanmerking komende actuele PL'en en daarna controle of ten minste een van de personen, waarvan de PL'en zijn verzameld en waarvoor met betrekking tot de betrokken afnemer geen geheimhouding geldt, behoort tot de doelgroep van de afnemer (aan de hand van de voorwaardenregel ad hoc van de betrokken afnemer).
* Bij persoonsidentificatie de controle:
** of voor de gevonden persoon geen geheimhouding geldt;
** of hij behoort tot de doelgroep van de afnemer (aan de hand van de voorwaardenregel ad hoc van de betrokken afnemer);
** of de PL voldoet aan de voorwaarde van Adresfunctie;
** of de PL actueel is ingeschreven;
** of bij onderzoek niet is vastgesteld dat de persoon niet op het adres verblijft; als is vastgesteld dat een persoon niet op een adres verblijft, heeft <<e8310,08.83.10>> (Aanduiding gegevens in onderzoek) de waarde 089999 en komt <<e8330,08.83.30>> (Datum einde onderzoek) niet voor.
--
+
Daarna verzamelen van alle in aanmerking komende actuele PL'en.
+
Indien aan de controles wordt voldaan, vindt in een <<Xa01,Xa01>>-bericht de verstrekking plaats van de gevraagde gegevens, voor zover aanwezig, van alle verzamelde actuele PL'en. Daarbij geldt dat van actueel op het gevraagde adres ingeschreven personen die niet aan de voorwaardenregel ad hoc van de afnemer voldoen geen gegevens worden verstrekt. Voor afnemers waarvoor de indicatie geheimhouding "aan" staat, geldt dat van actueel op het gevraagde adres ingeschreven personen die de indicatie geheim op "2", "4", "6" of "7" hebben staan, eveneens niets wordt verstrekt. Ook van actueel op het gevraagde adres ingeschreven personen van wie bij onderzoek gebleken is dat ze niet op het adres verblijven (<<e8310,08.83.10>> heeft de waarde 089999 en <<e8330,08.83.30>> komt niet voor) worden geen gegevens verstrekt.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Bij ontvangst van het <<Xq01,Xq01>>-bericht controleert BRP-V allereerst of de afzender gerechtigd is tot het stellen van ad hoc adresvragen. Is dat niet het geval dan wordt een <<Xf01,Xf01>>-bericht met foutreden "X" verstuurd. Bovendien wordt het voorval gemeld aan RvIG.
|[.number]#&#x2461;# |
Indien de afnemer in het veld 'Adresfunctie' in de kop van het <<Xq01,Xq01>>-bericht een andere waarde dan "A" gebruikt, wordt gecontroleerd of rubriek <<e1010,08.10.10>> onder de autorisatie voor ad hoc gegevensverstrekking van de afnemer valt. Ook hier wordt een <<Xf01,Xf01>>-bericht met foutreden "X" verstuurd als dat niet het geval is en wordt het incident gerapporteerd aan RvIG.

Vervolgens wordt gecontroleerd of de gevraagde gegevens en de gegevens die zijn gebruikt voor de adresidentificatie dan wel de persoonsidentificatie onder de autorisatie voor ad hoc gegevensverstrekking van de afnemer vallen. Ook hier wordt weer een <<Xf01,Xf01>>-bericht met foutreden "X" verstuurd als dat niet het geval is en wordt het incident gerapporteerd aan RvIG.
|[.number]#&#x2462;# |Vervolgens controleert BRP-V of de opgegeven postcode voorkomt, of het adres of de persoon uniek voorkomt en of de gezochte persoon actueel is ingeschreven. Is dat niet het geval, of voldoen meerdere adressen dan wel meerdere personen aan de identificatie, dan wordt een <<Xf01,Xf01>>-bericht met foutreden "G", respectievelijk "U" verstuurd.
|[.number]#&#x2463;# |
In geval van adresidentificatie verzamelt BRP-V nu de gegevens van de personen die actueel zijn ingeschreven op het opgegeven adres. Indien aangegeven, neemt BRP-V daarbij slechts de PL'en van die personen mee, waarvoor geldt dat rubriek <<e1010,08.10.10>> de waarde "B" of "W" heeft.

Als geen actuele PL wordt gevonden op het opgegeven adres met, indien van toepassing, in rubriek <<e1010,08.10.10>> een waarde die voldoet aan de voorwaarde van het veld 'Adresfunctie' in de kop van het <<Xq01,Xq01>>-bericht, dan wordt een <<Xf01,Xf01>>-bericht met foutreden "Z" gestuurd aan de afnemer.
|[.number]#&#x2464;# |In geval van adresidentificatie wordt nagegaan of de PL van ten minste een van de gevonden personen voldoet aan de voorwaardenregel ad hoc uit de autorisatietabelregel van de afnemer. Voor die persoon moet dan tevens gelden dat er geen sprake mag zijn van geheimhouding voor de betreffende afnemer. Als geen van de gevonden PL'en aan die voorwaarden voldoet, dan wordt een <<Xf01,Xf01>>-bericht met foutreden "Z" gestuurd.
|[.number]#&#x2465;# |
In geval van persoonsidentificatie wordt nagegaan

* of de gevonden PL voldoet aan de voorwaardenregel ad hoc uit de autorisatietabelregel van de afnemer;
* of er geen sprake is van geheimhouding;
* of de PL voldoet aan de voorwaarde van Adresfunctie;
* of de PL actueel is ingeschreven;
* of bij onderzoek niet is vastgesteld, dat de persoon niet op het adres verblijft (als is vastgesteld dat een persoon niet op een adres verblijft, heeft <<e8310,08.83.10>> (Aanduiding gegevens in onderzoek) de waarde 089999 en komt <<e8330,08.83.30>> (Datum einde onderzoek) niet voor).

Als de gevonden PL aan de voorwaarden voldoet, verzamelt BRP-V de gegevens van de andere personen die actueel zijn ingeschreven op het adres dat op de gevonden PL voorkomt. Als de gevonden PL niet aan die voorwaarden voldoet, dan wordt een <<Xf01,Xf01>>-bericht met foutreden "Z" gestuurd.

|[.number]#&#x2466;# |Vervolgens wordt nagegaan of de grootte van het <<Xa01,Xa01>>-bericht, waarmee de verzamelde gegevens worden verstrekt, binnen de gestelde limieten blijft. Indien dat niet het geval is, wordt een <<Xf01,Xf01>>-bericht met foutreden "P" gestuurd.
|[.number]#&#x2467;# |Afhankelijk van de foutreden in de kop van het <<Xf01,Xf01>>-bericht worden de volgende acties ondernomen:

*Foutreden G en U*

De afnemer zal, eventueel samen met de gemeente of BRP-V, moeten nagaan wat het probleem is met het opgegeven adres dan wel de opgeven persoon. Daarna kan de vraag opnieuw worden gesteld.

*Foutreden P*

De afnemer kan de vraag opnieuw stellen, maar moet dan om minder gegevens vragen.
| |
*Foutreden X*

De afnemer stelt bij ontvangst van dit bericht een onderzoek in naar de oorzaak van deze overtreding van de grenzen van zijn autorisatie.

*Foutreden Z*

De afnemer hoeft hierop verder geen actie te ondernemen.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Plaatsen afnemersindicatie bij PL

[.text-center]
.Schematische weergave plaatsen Afnemersindicatie bij PL in BRP-V
image::image54.svg[width=566,height=740]

===== Inleiding

Deze cyclus is gedefinieerd om afnemers in staat te stellen hun afnemersindicatie te laten plaatsen bij PL'en van personen waarin ze geïnteresseerd zijn. Hierbij wordt ervan uitgegaan dat de persoon over wie gegevens gewenst zijn reeds bij de afnemer bekend is. Een persoonsidentificatie in de vraag is namelijk verplicht. Uiteraard moet een afnemer geautoriseerd zijn voor het ad hoc plaatsen van zijn afnemersindicatie en de PL moet aan de voorwaardenregel ad hoc van die afnemer voldoen.

Bij het plaatsen van een afnemersindicatie speelt de Indicatie geheim op een PL een belangrijke rol. Door deze indicatie kan de verstrekking van persoonsgegevens aan bepaalde groepen afnemers worden tegengegaan. De groepen afnemers waarvoor dit van toepassing is zijn geautoriseerd voor verstrekkingen, maar hebben de Indicatie geheimhouding aan staan in hun autorisatietabelregel.

In het geval dat de PL is opgeschort wordt de afnemersindicatie gewoon geplaatst en alle gegevens waarop de afnemer krachtens zijn autorisatie recht heeft worden verstuurd, onder vermelding van de status. Het wordt aan de afnemer overgelaten of een afnemersindicatie bij een opgeschorte PL zin heeft. Als dat niet het geval is kan de afnemersindicatie middels de cyclus Verwijderen afnemersindicatie weer worden verwijderd.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Afnemer* +
Een verzoek van de afnemer voor het plaatsen van zijn afnemersindicatie bij een specifieke PL door het <<Ap01,Ap01>>-bericht.
. *BRP-V* +
Controle van de gestelde vraag:
+
--
* Controle of de afnemer bevoegd is voor het plaatsen van een afnemersindicatie.
* Controle van de identificatie.
* Controle of gegevensverstrekking niet wordt uitgesloten door de indicatie geheim.
* Controle of de persoon tot de doelgroep van de afnemer behoort.
--
+
Na deze controles wordt de afnemersindicatie geplaatst en worden de toegestane gegevens verstrekt in het <<Ag01,Ag01>>-bericht.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |Bij binnenkomst van het <<Ap01,Ap01>>-bericht controleert BRP-V aan de hand van de autorisatietabel of het bericht afkomstig is van een afnemer die gerechtigd is tot het plaatsen van afnemersindicaties. Is dat niet het geval dan wordt een <<Af01,Af01>>-bericht verstuurd met foutreden "X". Deze gebeurtenis wordt bovendien gerapporteerd aan RvIG.

Vervolgens wordt gecontroleerd of de gegevens die zijn gebruikt voor de identificatie onder de autorisatie voor ad hoc gegevensverstrekking van de afnemer vallen. Ook hier wordt weer een <<Af01,Af01>>-bericht met foutreden "X" verstuurd als dat niet het geval is en wordt het incident gerapporteerd.
|[.number]#&#x2461;# |Als de betrokken persoon in het PL‑bestand niet te vinden is of de identificatie is niet uniek, dan wordt een <<Af01,Af01>>-bericht met foutreden "G" respectievelijk "U" naar de afnemer gestuurd.
|[.number]#&#x2462;# |Vervolgens wordt de controle op geheimhouding uitgevoerd. Staat de Indicatie geheim van de betrokken persoon op "2", "4", "6" of "7" en staat de Indicatie geheimhouding in de autorisatietabelregel van de afnemer aan, dan mogen er over deze persoon geen gegevens worden verstrekt. Er wordt een <<Af01,Af01>>-bericht met foutreden "H" aan de afnemer gestuurd.
|[.number]#&#x2463;# |Vervolgens wordt nagegaan of de PL voldoet aan de voorwaardenregel ad hoc uit de autorisatietabelregel. Is dat niet het geval dan wordt een <<Af01,Af01>>-bericht gestuurd, met foutreden "R".
|[.number]#&#x2464;# |Vervolgens wordt nagegaan of de desbetreffende afnemer al een afnemersindicatie heeft geplaatst bij deze persoon. Is dat het geval dan wordt een <<Af01,Af01>>-bericht gestuurd met foutreden "I".
|[.number]#&#x2465;# |
Afhankelijk van de foutreden in de kop van het <<Af01,Af01>>-bericht worden de volgende acties ondernomen:

*Foutreden G*

Deze foutreden kan wijzen op onjuiste identificerende gegevens. Eventueel nader onderzoek zal uit moeten wijzen wat de oorzaak is van het identificatieprobleem. Daarna kan een nieuwe cyclus worden gestart.

*Foutreden H*

De afnemer kan geen verdere actie ondernemen, omdat de persoon om geheimhouding heeft verzocht.
| |
*Foutreden I*

De afnemer hoeft geen verdere actie te ondernemen, omdat de door hem gewenste indicatie al is geplaatst. Wel kan een intern onderzoek wenselijk zijn naar de oorzaak van de inconsistentie.

*Foutreden R*

Als daar aanleiding voor is, stelt de afnemer een onderzoek in om na te gaan waarom geprobeerd werd een afnemersindicatie te plaatsen bij een persoon die buiten zijn autorisatie valt.

*Foutreden U*

De afnemer zal op enigerlei manier nader moeten specificeren om welke persoon het hem te doen is, eventueel in overleg met de betrokken gemeente of BRP-V. Daarna kan de cyclus opnieuw worden gestart met een uitgebreidere set identificerende gegevens.

*Foutreden X*

De afnemer dient na te gaan hoe het komt dat het <<Ap01,Ap01>>-bericht werd verstuurd.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Verwijderen afnemersindicatie bij PL

[.text-center]
.Schematische weergave verwijderen Afnemersindicatie bij PL in BRP-V
image::image55.svg[width=566,height=563]

===== Inleiding

Met behulp van deze cyclus kan een afnemer zijn afnemersindicatie bij een PL laten verwijderen. Indien in de autorisatietabelregel van de afnemer rubriek <<e9513,35.95.13>> Verstrekkingsbeperking de waarde "2" heeft, dient de afnemersindicatie volledig bij persoonslijst te worden verwijderd. Indien in de autorisatietabelregel van de afnemer rubriek <<e9513,35.95.13>> Verstrekkingsbeperking een andere waarde dan "2" heeft, dient de afnemersindicatie historisch te worden, met als ingangsdatum geldigheid de systeemdatum.

===== Toelichting

Het normale verloop van de cyclus bestaat uit de volgende stappen:

. *Afnemer* +
Een verzoek van de afnemer tot het verwijderen van een afnemersindicatie door het verzenden van het <<Av01,Av01>>-bericht.
. *BRP-V* +
Er vindt een controle plaats of er een afnemersindicatie van de afnemer bij de PL aanwezig is. Is dit het geval dan wordt de afnemersindicatie verwijderd; dit wordt bevestigd door een verwerkbevestiging.

Bij de uit te voeren stappen kunnen foutsituaties optreden die de volgende acties tot gevolg hebben:

[width="100%",cols="5%,95%a",frame=none,grid=none]
|===
|[.number]#&#x2460;# |De persoon wordt opgezocht in het PL‑bestand met behulp van het A‑nummer uit het <<Av01,Av01>>-bericht. Als de betrokken persoon in het PL‑bestand niet te vinden is wordt een <<Af11,Af11>>-bericht met foutreden "G" naar de afnemer gestuurd.
|[.number]#&#x2461;# |Als de identificatie is gelukt wordt nagegaan of de desbetreffende afnemer wel een afnemersindicatie heeft bij deze persoon. Is dat niet het geval dan wordt een <<Af11,Af11>>-bericht gestuurd met foutreden "I".
|[.number]#&#x2462;# |Afhankelijk van de foutreden in de kop van het <<Af11,Af11>>-bericht worden de volgende acties ondernomen:

*Foutreden G*

Foutreden "G" kan wijzen op onjuiste identificerende gegevens. Dit is wel een situatie die nader onderzoek vereist; immers, als er bij de betrokken persoon ooit een afnemersindicatie is geplaatst, dan zou de afnemer moeten beschikken over een A‑nummer dat hem verstrekt is door een gemeente en dat zou altijd tot het vinden van de gezochte persoon in het PL‑bestand moeten leiden.

*Foutreden I*

De afnemer hoeft geen verdere actie te ondernemen: de te verwijderen afnemersindicatie is niet meer aanwezig. Wel kan een intern onderzoek wenselijk zijn naar de oorzaak van de inconsistentie.
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#AdHocAdresVraagViaWebservice]
==== Ad hoc (adres)vragen via de webservice

[.text-center]
.Schematische weergave Ad hoc (adres)vragen via de webservice
image::image56.svg[width=566,height=243]

===== Beschrijving

De Ad hoc webservice zorgt ervoor dat een afnemer gegevens kan opvragen van een ingezetene of niet-ingezetene. Het is een synchrone webservice die voldoet aan de WSDL die op de website van RvIG is gepubliceerd.

De Ad hoc webservice kent twee varianten: de ad hoc vraag en de ad hoc adresvraag (het element ++<++indicatieAdresvraag++>++ in de vraag is "0" resp. "1"). Met een ad hoc vraag kunnen gegevens worden opgevraagd van personen die voldoen aan de zoekcriteria. Daarin dient dan ook een persoonsidentificatie te worden opgenomen. Met een ad hoc adresvraag kunnen gegevens worden opgevraagd van personen die een bepaald adres gebruiken als brief- of woonadres, of van personen die een adres gebruiken als tijdelijk verblijfsadres. Dat adres kan zowel met een persoonsidentificatie als met een adresidentificatie worden opgegeven. Bij een persoonsidentificatie worden dan gegevens verstrekt van alle personen die hetzelfde adres gebruiken als brief- of woonadres als de opgegeven persoon, of als de gezochte persoon het adres gebruikt als tijdelijk verblijfsadres, alle personen die datzelfde adres ook gebruiken als tijdelijk verblijfsadres. Het zoeken naar de gebruikers van een adres gebeurt dan ook in twee stappen: in de eerste stap (de tussenstap) worden alle PL'en gezocht die voldoen aan de opgegeven zoekcriteria, om vervolgens de adressen te bepalen waar die personen zijn ingeschreven. In de tweede stap worden vervolgens alle PL'en gezocht van alle andere personen die op de gevonden adressen zijn ingeschreven. Om alle gebruikers van een adres te achterhalen, is het nodig om twee adresvragen te stellen: één keer om alle gebruikers van het adres als brief- of woonadres op te vragen, en één keer om alle gebruikers van het adres als tijdelijk verblijfsadres op te vragen.

===== Input

Wat meegegeven wordt bij de vraag hangt af van het soort vraag dat gesteld wordt.

====== IndicatieAdresVraag

Dit element heeft twee mogelijke waarden: "0" of "1". De waarde "0" betekent dat de vraag behandeld wordt als Ad hoc vraag; de waarde "1" betekent dat de vraag behandeld wordt als Ad hoc adresvraag.

====== indicatieZoekenInHistorie

Dit element heeft twee mogelijke waarden: "0" of "1". De waarde "0" betekent dat gezocht wordt in actuele categorieën. Als ++<++indicatieZoekenInHistorie++>++ met 1 is gevuld, wordt ook in de historische categorieën gezocht.

Voor het zoeken in historie geldt voor de afnemer dezelfde autorisatie als voor de actuele gegevens. De autorisatie voor de historische rubrieken uit de autorisatietabelregel is bij het zoeken niet van toepassing (wel bij de opgevraagde rubrieken). Bij een ad hoc adresvraag met adresidentificatie wordt de parameter ++<++indicatieZoekenInHistorie++>++ genegeerd (de waarde moet wel in het waardebereik liggen). Deze parameter is dan niet van toepassing: alleen personen die actueel op het adres zijn ingeschreven worden geselecteerd.

====== masker

Het element ++<++masker++>++ bevat de opsomming (telkens binnen een element ++<++item++>++) van de gevraagde rubrieken van de persoonslijst.

====== parameters

Het element ++<++parameters++>++ bevat de opsomming (telkens binnen een element ++<++item++>++) van de zoekcriteria. Elk zoekcriterium bestaat uit een ++<++rubrieknummer++>++ en een ++<++zoekwaarde++>++. De zoekcriteria werken als een logische 'and': aan alle zoekcriteria moet worden voldaan. Het feit dat een bepaald gegeven niet mag voorkomen, wordt aangegeven door het opnemen van een leeg element ++<++zoekwaarde++>++ in de vraag. Historische categorieën waarin rubriek 84.10 (Indicatie onjuist dan wel strijdigheid met de openbare orde) voorkomt, worden bij het zoeken genegeerd.

====== Persoonsidentificatie (ad hoc vraag en ad hoc adresvraag)

Voor een persoonsidentificatie dient minimaal één van de volgende rubrieken voor te komen:

* <<e0110,01.01.10>> A-nummer,
* <<e0120,01.01.20>> Burgerservicenummer,
* <<e0310,01.03.10>> Geboortedatum,
* <<e0240,01.02.40>> Geslachtsnaam,
* <<e1160,08.11.60>> Postcode, of
* <<e1160,16.11.60>> Postcode.

Deze identificatie kan worden aangevuld met alle gegevens van de PL. In de Ad hoc webservice is een persoonsidentificatie niet alleen geslaagd als er met de identificerende gegevens één unieke set persoonsgegevens gevonden wordt, maar ook als er meerdere sets gevonden worden. Het type gebruik dat de gevonden persoon van een adres maakt (brief- of woonadres, of tijdelijk verblijfsadres) is bepalend voor de overige gebruikers van datzelfde adres die worden gevonden.

====== Adresidentificatie (ad hoc adresvraag)

Voor een adresidentificatie dient minimaal één van de volgende rubrieken voor te komen:

* <<e0910,08.09.10>> Gemeentecode,
* <<e1110,08.11.10>> Straatnaam,
* <<e1115,08.11.15>> Naam openbare ruimte,
* <<e1160,08.11.60>> Postcode,
* <<e1180,08.11.80>> Identificatiecode verblijfplaats,
* <<e1190,08.11.90>> Identificatiecode nummeraanduiding,
* <<e1210,08.12.10>> Locatiebeschrijving,
* <<e0910,16.09.10>> Gemeentecode,
* <<e1110,16.11.10>> Straatnaam,
* <<e1115,16.11.15>> Naam openbare ruimte,
* <<e1160,16.11.60>> Postcode,
* <<e1180,16.11.80>> Identificatiecode verblijfplaats,
* <<e1190,16.11.90>> Identificatiecode nummeraanduiding.

Deze identificatie kan worden aangevuld met element <<e1010,10.10>> Functie adres, 19.10 Type adres, 10.20 Gemeentedeel en de elementen uit groep <<g11,11>> Adres.

Als bij de identificatie binnen een ad hoc adresvraag alle gebruikte rubrieken binnen de definitie van de adresidentificatie vallen, dan interpreteert de Ad hoc webservice dit als adresidentificatie. (Dus zoeken op alleen postcode (<<e1160,08/16.11.60>>) geldt als adresidentificatie en niet als persoonsidentificatie.)


====== Gecombineerde adresvragen
****
Het is niet mogelijk om met één vraag alle gebruikers van een adres op te zoeken als er zowel personen zijn die op dat adres wonen als personen die op dat adres een tijdelijk verblijfsadres hebben. Dat komt omdat wanneer bij persoonsidentificatie een persoon gevonden wordt die een adres als brief- of als woonadres gebruikt, de webservice vervolgens zal zoeken naar alle andere personen die datzelfde adres als brief- of als woonadres gebruiken. Voor het vinden van die personen wordt namelijk gekeken of ze dezelfde waarde van <<e1180,08.11.80>> Identificatiecode verblijfplaats hebben als de gezochte persoon. Evenzo geldt dat wanneer een persoon gevonden wordt die een adres gebruikt als tijdelijk verblijfsadres, er gezocht zal worden naar alle andere gebruikers van datzelfde adres als tijdelijk verblijfsadres.

Bij adresidentificatie kunnen wel zoekcriteria in de parameters worden opgenomen uit categorie <<c08-58,08>> én categorie <<c16-66,16>>, maar dan zullen er geen PL'en gevonden worden, want geen enkele PL heeft een adres in beide categorieën. Zoekcriteria dienen dus ofwel uit categorie <<c08-58,08>> te komen, ofwel uit categorie <<c16-66,16>>. Daardoor worden alleen personen gevonden die het gevraagde adres in dezelfde categorie hebben als de categorie in de zoekcriteria.
****

===== Controles

Bij een ad hoc vraag (++<++indicatieAdresVraag++>++ heeft waarde "0") voert BRP-V de controles uit die zijn beschreven in <<_toelichting_15>>; deze zijn dan van overeenkomstige toepassing.

Bij een ad hoc adresvraag (++<++indicatieAdresVraag++>++ heeft waarde "1") wijken de controles die BRP-V uitvoert, enigszins af van die welke worden uitgevoerd na ontvangst van een <<Xq01,Xq01>>-bericht. BRP-V controleert dan:

* of de afnemer is geautoriseerd voor het stellen van ad hoc adresvragen;
* of de afnemer is geautoriseerd voor de ad hoc gegevensverstrekking van de gegevens die de afnemer gebruikt in de parameters;
* of de afnemer is geautoriseerd voor de ad hoc gegevensverstrekking van de gegevens waar de afnemer om vraagt in het masker;
* of aan de minimale voorwaarden voor adres- of persoonsidentificatie is voldaan;
* of daarbij niet meer dan één adres (identificatiecode verblijfplaats, 11.80) uit categorie <<c16-66,16>> is gevonden;
* bij persoonsidentificatie, voor elke in de tussenstap gevonden persoon:
** of de PL actueel is ingeschreven, of, indien de persoon is ingeschreven op een tijdelijk verblijfsadres en <<e1810,16.18.10>> (Einddatum geldigheid) is niet aanwezig, opgeschort met reden "E", "M" of "R";
** of er geen geheimhouding geldt voor de afnemer (dat is het geval als voor de afnemer indicatie geheimhouding "aan" staat én de indicatie geheim op de PL op "2", "4", "6" of "7" staat);
** of bij onderzoek niet is vastgesteld dat de persoon niet op het adres verblijft; als is vastgesteld dat een persoon niet op een adres verblijft, heeft <<e8310,08.83.10>> (Aanduiding gegevens in onderzoek) de waarde 089999 en komt <<e8330,08.83.30>> (Datum einde onderzoek) niet voor;
** of hij behoort tot de doelgroep van de afnemer (aan de hand van de voorwaardenregel ad hoc van de betrokken afnemer).

Wanneer aan al deze voorwaarden is voldaan, stelt BRP-V vast welke PL'en bij de gegevensverstrekking moeten worden betrokken door te zoeken naar alle PL'en die op hetzelfde adres staan ingeschreven (en waarvoor de waarde van <<e1180,08/16.11.80>> gelijk is aan die van de gevonden PL). Deze PL'en moeten voldoen aan de volgende voorwaarden (als ze dat niet doen, worden ze uit het resultaat gefilterd):

* ze moeten actueel zijn, of, indien de persoon is ingeschreven op een tijdelijk verblijfsadres en <<e1810,16.18.10>> (Einddatum geldigheid) is niet aanwezig, opgeschort met reden "E", "M" of "R";
* voor afnemers waarvoor de indicatie geheimhouding "aan" staat, geldt dat de indicatie geheim op de PL niet op "2", "4", "6" of "7" mag staan;
* bij onderzoek mag niet zijn vastgesteld dat de persoon niet op het adres verblijft; als is vastgesteld dat een persoon niet op een adres verblijft, heeft <<e8310,08.83.10>> (Aanduiding gegevens in onderzoek) de waarde 089999 en komt <<e8330,08.83.30>> (Datum einde onderzoek) niet voor;
* ze moeten tot de doelgroep van de afnemer behoren (dus voldoen aan de voorwaardenregel ad hoc van de afnemer).

Indien aan alle voorwaarden wordt voldaan, vindt in een response bericht de verstrekking plaats van de gevraagde gegevens, voor zover aanwezig, van alle verzamelde PL'en. Als de ad hoc vraag is gesteld door Mijn Overheid, geldt daarbij nog het volgende:

* Het BSN van kinderen (<<e0120,09.01.20>>) wordt vervangen door ********* als het kind 18 jaar of ouder is (dus als de <<e0310,09.03.10>> kleiner dan of gelijk is aan de systeemdatum – 18 jaar);
* Het BSN van ouders (<<e0120,02/03.01.20>>) wordt vervangen door ********* als de persoon 18 jaar of ouder is (dus als de <<e0310,01.03.10>> kleiner dan of gelijk is aan de systeemdatum – 18 jaar);;
* Gegevens van partners (categorie 05) worden uit het antwoord weggelaten als het huwelijk of geregistreerd partnerschap is beëindigd (<<e0710,05.07.10>> Datum ontbinding huwelijk/geregistreerd partnerschap komt voor in de betreffende categorie 05) én de partner nog in leven is (<<e0740,05.07.40>> Reden ontbinding huwelijk/geregistreerd partnerschap is ongelijk aan 'O' EN <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding komt niet voor of is ongelijk aan 'O').

===== Output

Als antwoord op de ad hoc (adres)vraag wordt er één of meer persoonslijsten teruggegeven met de rubrieken die de afnemer in de zoekvraag heeft opgegeven.

====== Persoonslijsten

De gevonden gegevens worden in een geneste structuur binnen het element ++<++persoonslijsten++>++ teruggestuurd. Als er voor een gevonden PL geen enkele rubriek verstrekt kan worden, dan wordt voor die PL een leeg ++<++item++>++ binnen ++<++persoonslijsten++>++ opgenomen in het antwoord.

Het element ++<++persoonslijsten++>++ komt niet voor als er in het antwoord geen persoonsgegevens worden verstrekt.

====== Resultaat

Het element ++<++resultaat++>++ bevat de volgende gegevens: code, letter, omschrijving en referentie.

[width="100%",cols="20%,80%",frame=none,grid=none]
|===
|++<++code++>++ |bevat een numerieke waarde voor het resultaat. Niet alle letter-code combinaties bij letter "X' corresponderen met de foutredenen in de bij ++<++letter++>++ genoemde berichtencycli.
|++<++letter++>++ |bevat een letter, die, met uitzondering van de letters "A" en "T", correspondeert met een van de foutredenen die in het <<Hf01,Hf01>>- dan wel <<Xf01,Xf01>>-bericht kunnen voorkomen. Zie daarvoor de cyclusbeschrijvingen Ad hoc vraag, <<_ad_hoc_vragen_via_de_berichtendienst>> en Ad hoc adresvraag, <<_ad_hoc_adresvragen_via_de_berichtendienst>>.
|++<++omschrijving++>++ |geeft een tekstuele omschrijving van het resultaat,
|++<++referentie++>++ |bevat gegevens waarmee het bij onduidelijkheden en dergelijke mogelijk is om bij RvIG navraag te doen over het geautomatiseerde proces dat het sturen van het bericht tot gevolg had.
|===

====== Meeverstrekken

Bij de gegevensverstrekking vanuit BRP-V aan afnemers worden gegevens over opschorting, onderzoek, verificatie en RNI-deelnemer meeverstrekt conform de voorschriften van <<_meeverstrekking_van_de_groepen_procedure_en_onjuist>> en <<_meeverstrekken_van_verificatie_en_rni_deelnemergegevens>>. Als element <<e8410,84.10>> (Indicatie onjuist dan wel strijdigheid met de openbare orde) voorkomt in een categorie, dan worden de gegevens uit die categorie niet verstrekt.

====== Gegevens over onderzoek

Indien er gegevens worden verstrekt uit een categorie waarin groep <<g83,83>> Procedure voorkomt, dan wordt de in de betrokken categorie voorkomende inhoud van de elementen <<e8310,83.10>>, <<e8320,83.20>> en <<38330,83.30>> meeverstrekt.

====== Gegevens over de opschorting

Indien er gegevens worden verstrekt van een PL waarin groep <<g67,67>> Opschorting voorkomt, dan wordt de inhoud van de rubrieken <<e6710,07.67.10>> en <<e6720,07.67.20>> meeverstrekt.

====== Gegevens over de verificatie

Indien er gegevens worden verstrekt en groep <<g71,71>> Verificatie komt voor in categorie <<c07,07>> Inschrijving, dan wordt de inhoud van de rubrieken <<e7110,07.71.10>> en <<e7120,07.71.20>> meeverstrekt.

====== Gegevens over de RNI-deelnemer

Indien er gegevens worden verstrekt uit een categorie waarin groep88 RNI-deelnemer voorkomt, dan wordt de in de betrokken categorie voorkomende inhoud van de elementen 88.10 en 88.20 meeverstrekt.

====== Niet verstrekken van gegevens van levenloos geboren kinderen

De gegevens van een levenloos geboren kind kunnen worden geregistreerd in de BRP. Omdat een levenloos ter wereld gekomen kind geacht wordt nooit te hebben bestaan, worden de gegevens van levenloos geboren kinderen, herkenbaar aan de waarde "L" in rubriek <<e8910,09/59.89.10>> Registratie betrekking, alleen verstrekt aan afnemers die voor het uitvoeren van hun taak gegevens van levenloos geboren kinderen nodig hebben. In de autorisatietabelregel van de zo'n afnemer komt rubriek <<e9514,35.95.14>> Bijzondere betrekking verstrekken voor met de waarde "1". In dat geval worden de gegevens van levenloos geboren kinderen verstrekt als er gegevens van kinderen worden verstrekt.

Het opnemen, wijzigen, corrigeren of verwijderen van gegevens van kinderen waarbij in categorie <<c09-59,09/59>> Kind rubriek <<e8910,09.89.10>> Registratie betrekking voorkomt, kan alleen tot gegevensverstrekking leiden aan afnemers waarbij rubriek <<e9514,35.95.14>> Bijzondere betrekking kind verstrekken voorkomt met waarde "1".

===== Foutcodes

.Foutcodes ad hoc (adres)vraag BRP-V
[width="100%",cols="15%,85%",options="header",]
|===
|Foutcode |Conditie
|A000 |++<++leeg++>++
|G033 |Geen gegevens gevonden
|H035 |Geen verstrekking vanwege indicatie geheim
|P032 |Te veel zoekresultaten
|P036 |Resultaat te groot, te veel personen op 1 adres
|R034 |Geen van de PL'en voldoet aan de voorwaardenregel
|T031 |Zoekproces afgebroken
|X001 |Technische fout
|X010 |Ongeldige combinatie gebruikersnaam/wachtwoord
|X011 |Service is niet geactiveerd voor dit account
|X012 |Wachtwoord verlopen
|X013 |Geen actuele autorisatietabelregel
|X014 |Niet geautoriseerd voor ad hoc vragen
|X015 |Niet adresvraagbevoegd
|X017 |Geen autorisatie voor rubriek: ++<++rubrieknummer++>++
|X018 |Niet toegestaan zoekcriterium gebruikt: ++<++rubrieknummer++>++
|X019 |Geen correcte persoonsidentificatie
|X020 |Geen correcte persoons- of adresidentificatie
|X021 |Ongeldige waarde voor parameter ++<++xml-tag-naam++>++
|X022 |Numeriek zoekcriterium ++<++rubrieknummer++>++ bevat geen numerieke waarde
|X023 |Zoekcriterium ++<++rubrieknummer++>++ bevat ongeldig teken op positie ++<++x++>++
|X024 |Dubbel rubrieknummer in zoekcriteria niet toegestaan: ++<++rubrieknummer++>++
|X025 |Dubbel rubrieknummer in masker niet toegestaan: ++<++rubrieknummer++>++
|X026 |Onjuiste lengte voor rubriek: ++<++rubrieknummer++>++=++<++waarde++>++
|X027 |Niet geautoriseerd voor opvragen PL
|X028 |Niet geautoriseerd voor opvragen afnemersindicaties
|Z037 |Geen PL'en die aan de verstrekkingscondities voldoen
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Berichtenverkeer via de webservice StuurGBAbericht

===== Inleiding

De webservice StuurGBAbericht is te gebruiken door afnemers.

Iedere afnemer kan het mailboxberichtenverkeer dat met BRP-V wordt uitgewisseld via deze webservice laten verlopen. Per aansluiting (dat wil zeggen: per tabelregel in tabel <<t59,59>> BRP-deelnemerstabel) kan een keuze gemaakt worden voor ofwel berichtenverkeer via de mailboxserver, ofwel berichtenverkeer via de BRP Berichten API, ofwel berichtenverkeer via deze webservice. Het is niet mogelijk om voor één aansluiting meer dan één van deze opties tegelijk te kiezen. Vooralsnog is deze webservice optioneel voor afnemers.

De webservice StuurGBAbericht kent vier activiteiten die met deze webservice uitgevoerd kunnen worden: Summarize Messages, List Messages, Get Message en Put Message.

Voor het versturen van vrije berichten (<<Vb01,Vb01>>/<<Vb02,Vb02>>) tussen partijen is een routeringsfunctie in BRP-V gerealiseerd. Deze is beschreven in <<_routering_vrij_bericht>> Routering vrij bericht.

===== Definitie Webservice

De webservice heeft als naam 'StuurGBAbericht'.

De webservices zijn gedefinieerd volgens W3C-standaarden. Alle standaarden zijn te vinden op http://www.w3.org.

De webservice StuurGBAbericht maakt gebruik van WS-Addressing (WSA). Dit is nodig om vraag- en antwoordbericht in de berichtencyclus aan elkaar te koppelen. Zie https://www.w3.org/Submission/ws-addressing/.

In onderstaande tabel zijn de WSA-elementen weergegeven die in vraag- en antwoordberichten een rol spelen. Bij elk van de elementen wordt vermeld of ze verplicht aanwezig is en wat de elementinhoud is.

.WSA-elementen StuurGBAbericht
[width="100%",cols="12%,12%,12%,32%,32%",options="header",]
|===
|Element |Aanwezig in request |Aanwezig in response |Element inhoud |Toelichting
|*Action* |Verplicht |Verplicht |sPoed |Het bevat voor alle berichten binnen sPoed de waarde 'sPoed'. Bij ontbreken volgt een SOAP-fout.
|*To* |Verplicht |Verplicht a|
http://www.w3.org/2005/08/addressing/anonymous

|Bevat altijd de genoemde URL. Gezien het synchrone karakter van de webservice kan 'anonymous' worden gebruikt.
|*ReplyTo* |Verplicht |Verplicht a|
http://www.w3.org/2005/08/addressing/anonymous

|Zie toelichting bij To.
|*MessageID* |Verplicht |Verplicht |urn:brp:spd:messageid:

%MessageID%. Wanneer niet van toepassing, dan als leeg element opnemen.
|Door de afzender toege­kende unieke identificatie van het BRPbericht in PutMessage of GetMessageResult.
|*RelatesTo* |Optioneel |Optioneel |Zie MessageID. Alleen gevuld als het bericht een BRP-bericht bevat (PutMesssage, GetMessageResult) en dat bericht een reactie is op een eerder verstuurd bericht. Het bevat het MessageID van het vorige bericht. |In sPd is dit de Cross­Reference.

In het eerste bericht van een cylcus is het element leeg of niet aanwezig.
|===

%MessageID% is maximaal 12 karakters lang. BRP-V zelf gebruikt hier numerieke IDs. Een MessageID is een URN en begint altijd met urn:brp:spd:messageid:.MessageID is een verplicht element en is leeg in alle gevallen waarin geen ++<++gbabericht++>++ aanwezig is in het bericht.

De volgende paragrafen beschrijven per actie de betekenis en het gebruik van de in de WSDL-beschrijving opgenomen elementen.

===== Summarize Messages

Summarize Messages geeft het totaal aantal klaarstaande berichten terug. Deze actie hoeft niet uitgevoerd te worden voordat de actie List Messages wordt uitgevoerd. In een aantal gevallen kan het handig zijn van tevoren te weten hoeveel berichten er opgehaald moeten worden. Bijvoorbeeld voor het maken van een schatting van de totale verwerkingstijd.

====== Het vraagbericht

*++<++actie++>++* +
De actie bevat de waarde: SummarizeMessages.

====== Het antwoordbericht

*++<++resultaatcode++>++* +
De resultaatcode bevat de waarde SummarizeResult bij het succesvol ophalen van het aantal berichten of een foutcode.

*++<++toelichting++>++* +
Als de resultaatcode een foutcode bevat, dan wordt hier een toelichting op de foutcode opgenomen.

*++<++details++>++* +
Bij het succesvol ophalen van het aantal berichten bevat details een element code. Er is geen omschrijving.

*++<++code++>++* +
Code bevat het aantal BRP-berichten dat klaar staat ter verzending.

*++<++referentie++>++* +
Referentie bevat gegevens waarmee het bij onduidelijkheden en dergelijke mogelijk is om bij RvIG navraag te doen over het geautomatiseerde proces dat het sturen van het bericht tot gevolg had.

===== List Messages

Met deze actie kan een lijst van MessageID's worden opgevraagd van BRP-berichten die ter verzending aan de gebruiker klaar staan. Deze actie gaat altijd vooraf aan actie(s) Get Message.

====== Het vraagbericht

*++<++actie++>++* +
De actie bevat de waarde: ListMessages.

====== Het antwoordbericht

*++<++resultaatcode++>++* +
De resultaatcode bevat de waarde:

* ListMessagesResult bij het succesvol ophalen van de lijst MessageID's of
* ListMessageConfirmation als er geen berichten gevonden worden of
* een foutcode.

*++<++toelichting++>++* +
Als de resultaatcode een foutcode bevat, dan wordt hier een toelichting op de foutcode opgenomen.

*++<++details++>++* +
Bij het succesvol ophalen van de lijst MessageID's bevat details een of meer elementen code. Er is geen omschrijving.

Als er geen berichten gevonden zijn, is dit element afwezig.

*++<++code++>++* +
Code bevat het MessageID van een ter verzending klaarstaand bericht.

Als er geen berichten gevonden zijn, is dit element afwezig.

*++<++referentie++>++* +
Referentie bevat gegevens waarmee het bij onduidelijkheden en dergelijke mogelijk is om bij RvIG navraag te doen over het geautomatiseerde proces dat het sturen van het bericht tot gevolg had.

===== Get Message

Met deze actie kan een enkel bericht opgehaald worden.

====== Het vraagbericht

*++<++actie++>++* +
De actie bevat de waarde: GetMessage.

*++<++berichtnummer++>++* +
Het berichtnummer bevat een MessageID dat via een actie List Messages is verkregen.

====== Het antwoordbericht

*++<++resultaatcode++>++* +
De resultaatcode bevat de waarde:

* GetMessagesResult bij het succesvol ophalen van een bericht of
* GetMessageConfirmation als er geen bericht gevonden wordt of
* een foutcode.

*++<++toelichting++>++* +
Als de resultaatcode een foutcode bevat, dan wordt hier een toelichting op de foutcode opgenomen.

*++<++gbabericht++>++* +
Bevat het complete BRP-bericht. De codering is Teletex of UTF-8. Het BRP-bericht is opgebouwd zoals in <<_opbouw_van_de_berichtendienst_berichten>> en in <<_berichten>>, <<_berichten_2>> en <<_berichten_3>> is beschreven. Het <<Vb01,Vb01>>-bericht wordt niet via deze webservice ontvangen.

Als er geen bericht gevonden wordt, is dit element afwezig.

*++<++referentie++>++* +
Referentie bevat gegevens waarmee het bij onduidelijkheden en dergelijke mogelijk is om bij RvIG navraag te doen over het geautomatiseerde proces dat het sturen van het bericht tot gevolg had.

===== Put Message

Met deze actie wordt een bericht naar BRP-V verstuurd. Het WS-Adressing element "Relates To" is in de Put Message verplicht.

*Het vraagbericht*

*++<++gbabericht++>++* +
Het te versturen BRP-bericht. De codering is Teletex of UTF-8. Het BRP-bericht is opgebouwd zoals in <<_opbouw_van_de_berichtendienst_berichten>> en in <<_berichten>>, <<_berichten_2>> en <<_berichten_3>> is beschreven. Het <<Vb01,Vb01>>-bericht wordt niet via deze webservice verstuurd.

**++<++actie++>++ +
**De actie bevat de waarde: PutMessage.

**++<++berichtnummer++>++ +
**Dit is verplicht om mee te geven en bevat altijd de waarde die overeenkomt met het berichtnummer van het te versturen BRP-bericht.

*Het antwoordbericht*

*++<++resultaatcode++>++* +
De resultaatcode bevat de waarde:

* PutMessageConfirmation bij het succesvol plaatsen van een bericht of
* een foutcode.

*++<++toelichting++>++* +
Als de resultaatcode een foutcode bevat, dan wordt hier een toelichting op de foutcode opgenomen.

*++<++referentie++>++* +
Referentie bevat gegevens waarmee het bij onduidelijkheden en dergelijke mogelijk is om bij RvIG navraag te doen over het geautomatiseerde proces dat het sturen van het bericht tot gevolg had. Voor het versturen van vrije berichten (<<Vb01,Vb01>>/<<Vb02,Vb02>>) tussen partijen is een routeringsfunctie in BRP-V gerealiseerd. Deze is beschreven in <<_routering_vrij_bericht>> Routering vrij bericht.

===== Routering vrij bericht

Voor het versturen van vrije berichten (<<Vb01,Vb01>>/<<Vb02,Vb02>>) tussen partijen is een routeringsfunctie in BRP-V gerealiseerd. Van afnemers die zijn aangesloten op de webservice StuurGBAbericht neemt RvIG het beheer van de mailbox over om de <<Vb01,Vb01>>-berichten die in de mailbox van de afnemer worden ontvangen te routeren naar de webservices en te vertalen naar <<Vb02,Vb02>>-berichten en vice versa.

In <<Vb02,Vb02>>-berichten worden altijd alle velden ingevuld (communicatiepartner aan, commu­nicatiepartner van en bericht).

De volgende situaties worden ondersteund:

. BRP-V ontvangt een <<Vb02,Vb02>> en communicatiepartner aan is gekoppeld aan de webservice. +
+
Het <<Vb02,Vb02>>-bericht wordt klaargezet voor de communicatiepartner aan om via de webservice op te halen. Hierbij wordt rekening gehouden met het eventueel omzetten van UTF8 in Teletex of andersom.
. BRP-V ontvangt een <<Vb02,Vb02>> en communicatiepartner aan is gekoppeld aan de mailbox­server. +
+
Deze situatie kan alleen als RvIG het beheer van de mailbox van de afnemer heeft overgenomen. De afnemer communiceert zelf alleen nog via de webservices. +
Het bericht uit het <<Vb02,Vb02>>-bericht wordt in een <<Vb01,Vb01>>-bericht in Teletexcodering gezet. Vanuit de mailbox van afnemer wordt het <<Vb01,Vb01>>-bericht gestuurd naar de mailbox van commu­nicatiepartner aan.
. De mailbox van een afnemer bevat een <<Vb01,Vb01>>. +
+
Deze situatie kan alleen als RvIG het beheer van de mailbox van de afnemer heeft overgenomen. De afnemer communiceert zelf alleen nog via de webservices. +
+
Het <<Vb01,Vb01>>-bericht wordt omgezet in een <<Vb02,Vb02>>-bericht, waarbij de mailbox van de afnemer wordt ingevuld in communicatiepartner aan en de mailbox die het bericht aan de afnemer gestuurd heeft, wordt ingevuld in communicatiepartner van. Hierbij wordt rekening gehouden met het eventueel omzetten van Teletex in UTF8. Het <<Vb02,Vb02>>-bericht wordt klaargezet voor de afnemer (is communicatiepartner aan) om via de webservice op te halen.
. BRP-V stuurt een <<Vb02,Vb02>> aan een communicatiepartner die is gekoppeld aan de webservice +
+
Als RvIG als beheerder een Vrij Bericht stuurt aan een communicatiepartner die is gekoppeld aan de webservice, wordt hiervoor altijd het <<Vb02,Vb02>>-bericht gebruikt.

===== Doorsturen tabelberichten

Partijen die voor de berichtenuitwisseling met BRP-V zijn aangesloten op de webservice StuurGBAbericht, ontvangen de tabelberichten (<<Dt01,Dt01>>/<<Dw01,Dw01>>) ook via deze webservice.

Zodra BRP-V van de tabellenapplicatie een <<Dt01,Dt01>>-bericht dan wel een <<Dw01,Dw01>>-bericht ontvangt en verwerkt heeft, worden deze berichten doorgestuurd naar alle partijen die zijn aangesloten op deze webservice. De berichtencyclus is beschreven in <<_onderhoud_landelijke_tabellen>>, waarbij RvIG moet worden gelezen als BRP-V.

===== Foutcodes

Onderstaande tabel bevat de meldingen waarbij foutcodes meegegeven worden. Naast deze fouten kunnen ook SOAP fouten optreden.

.Foutcodes StuurGBAbericht
[width="100%",cols="15%,40%,45%",options="header",]
|===
|Foutcode |Conditie |Toelichting
|X001 |Technische fout |Generieke melding voor technische fout bij het verwerken van de vraag
|X010 |Ongeldige combinatie gebruikersnaam / wachtwoord |Bij onjuiste credentials of ongeldig certificaat
|X011 |Service is niet geactiveerd voor dit account |Controleren PL is alleen te gebruiken door gemeenten of de RNI. Behoort de vraagsteller niet tot deze groep, dan volgt deze foutmelding.
|X012 |Wachtwoord verlopen |
|X021 |Onbekende actie |Melding: ongeldige waarde voor parameter ++<++actie++>++
|X021 |Mismatch tussen berichtnummer en berichtinhoud |Melding: ongeldige waarde voor parameter ++<++berichtnummer++>++
|X021 |<<Lg01,Lg01>> bericht is niet valide |Melding: ongeldige waarde voor parameter ++<++gbabericht++>++
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP Aantal bewoners API

===== Beschrijving

De BRP Aantal bewoners API is een API in het kader van Experimentbesluit bijhouding BRP. Met deze API kan MijnOverheid het aantal bewoners van een adres opvragen op basis van het BSN van één van die bewoners.

URI: ++{++basis++_++url}/adres/telling/aantalbewoners

Method: POST

Voor de basis++_++url en de gedetailleerde functionele en technische specificaties van de BRP Aantal bewoners API, zie de Open API Specificaties op de website van RvIG.

===== Input

De input is een JSON-object waarin één element voorkomt:

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Elementnaam |Type |Verplicht? |Mogelijke waarden / corresponderende rubriek in BRP-V
|Burgerservicenummer |string |ja |<<e0120,01.01.20>> Burgerservicenummer
|===

===== Controles

Na ontvangst van het request bericht controleert BRP-V of er een geldig BSN is verstrekt. Zo ja, dan wordt de PL opgezocht die dit BSN in <<e0120,01.01.20>> (Burgerservicenummer) heeft staan. Op die PL wordt vervolgens gecontroleerd of:

* de PL een geldige BAG-code heeft in <<e1180,08.11.80>>;
* de PL actueel is ingeschreven (en niet opgeschort);
* het adres op de PL een woonadres is (<<e1010,08.10.10>> Functie adres = "W").

Vervolgens worden alle PL'en verzameld die deze BAG-code in <<e1180,08.11.80>> (Identificatiecode verblijfplaats) hebben staan en die op het moment dat de vraag wordt gesteld voldoen aan de volgende voorwaarden:

* de PL is actueel ingeschreven (en niet opgeschort);
* het adres op de PL is een woonadres (<<e1010,08.10.10>> Functie adres = "W").

Tenslotte wordt het aantal PL'en bepaald dat aan deze voorwaarden voldoet. Dit is inclusief de PL waarvan het BSN als input heeft gediend.

===== Output

De output is een JSON-object met de volgende elementen:

[width="100%",cols="40%,10%,50%",options="header",]
|===
|Element naam |Type |Mogelijke waarden / corresponderende rubriek in BRP-V
|aantalBewoners |integer |Het aantal bewoners dat in BRP-V gevonden is op het adresseerbaar object.
|referentieId |string |Uniek referentieID gekoppeld aan deze response.
|===

===== Foutsituaties

[width="100%",cols="40%,15%,45%",options="header",]
|===
|Foutsituatie |HTTP status code |Foutmelding
|Het burgerservicenummer ontbreekt in de request body of is niet in het juiste formaat opgegeven. |400 |De vraag bevat geen, of een ongeldig, burgerservicenummer.
|De vraagsteller kan niet (meer) inloggen met opgegeven gebruikersnaam, wachtwoord en/of certificaat |401 |De combinatie gebruikersnaam en wachtwoord is incorrect, het certificaat is ongeldig of het maximum aantal incorrecte inlogpogingen is overschreden.
|De vraagsteller kan wel inloggen, maar is niet geautoriseerd voor de gevraagde functionaliteit. |403 |U heeft geen autorisatie voor het gebruik van deze functionaliteit.
|De persoon met het gevraagde BSN voldoet niet aan de voorwaarden, of de telling levert geen resultaat op (0). |404 |Het aantal bewoners kan niet bepaald worden voor de opgegeven persoon.
|Het inhoudstype van de verwachte response is niet juist. |406 |Alleen de 406 statuscode.

Deze statuscode wordt gegeven als de header niet op "Accept: application/json", maar een ander type is ingesteld.

|Het inhoudstype van het gestuurde request is niet juist. |415 |Het opgegeven mediatype in het vraagbericht wordt niet ondersteund. Gebruik de gangbare mediatypen.
|Door een technische fout kan het systeem geen antwoord genereren. |500 |Door een technische fout kan het systeem geen antwoord genereren.
|===

===== Protocollering

Het aantal bewoners dat wordt getoond op Mijn Overheid geldt niet als verstrekking door de Minister aan een overheidsorgaan of derde en wordt daarom niet geprotocolleerd.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP API - Bewoning

===== Beschrijving

De BRP API is een API in het kader van het Experimentbesluit dataminimalisatie BRP. Met dit endpoint in de API is het voor deelnemers aan het experiment mogelijk om de gegevens van bewoningen te raadplegen voor een bepaald adres in een op te geven periode of op een op te geven peildatum. Een bewoning is een combinatie van een adresseerbaar object en één of meer bewoners van dat object op een bepaalde datum of in een bepaalde periode.

URI: ++{++basis++_++url}/bewoningen

Method: POST

Voor gedetailleerde functionele en technische specificaties van de BRP API, zie de website van RvIG.

===== Input

De input is een JSON-object waarin de volgende elementen kunnen voorkomen. Welke elementen dat kunnen zijn, hangt af van de gekozen waarde van type:

[.center,width="99%",cols="35%,10%,12%,42%a",options="header",]
|===
|Elementnaam |Type |Verplicht? |Mogelijke waarden / corresponderende rubriek in BRP-V
|type |string |ja |"BewoningMetPeildatum" / "BewoningMetPeriode"
|adresseerbaarObjectidentificatie |string |ja |Wordt vergeleken met <<e1180,08/58.11.80>> Identificatiecode verblijfplaats
4+|Als type="BewoningMetPeildatum":
|peildatum |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e1030,08/58.10.30>> Datum aanvang adreshouding en/of <<e1320,08/58.13.20>> Datum aanvang adres buitenland
4+|Als type="BewoningMetPeriode":
|datumVan |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e1030,08/58.10.30>> Datum aanvang adreshouding en/of <<e1320,08/58.13.20>> Datum aanvang adres buitenland
|datumTot |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e1030,08/58.10.30>> Datum aanvang adreshouding en/of <<e1320,08/58.13.20>> Datum aanvang adres buitenland
|===

===== Controles

Na ontvangst van het request bericht controleert de API:

* Of de syntax van het request bericht en de waarden van de zoekcriteria voldoen aan de eisen in de vorige paragraaf;
* Of de vraag afkomstig is van een gemeente en zo ja, of het adres dat wordt aangeduid met het opgegeven adresseerbaarObjectidentificatie binnen de gezochte periode/peildatum in die gemeente lag.

Als de vraag afkomstig is van een gemeente en een adres in die gemeente betreft, wordt de vraag beantwoord.

Als de vraag niet afkomstig is van een gemeente of wel afkomstig is van een gemeente, maar geen adres in die gemeente betreft, dan wordt gecontroleerd:

* Of de afnemer geautoriseerd is voor systematische verstrekking van gegevens (dus: of er een autorisatietabelregel voor de afnemer is met <<r359998,35.99.98>> Datum ingang =< systeemdatum en <<r359999,35.99.99>> > systeemdatum of leeg);
* Of de afnemer geautoriseerd is voor het medium ad hoc (<<e9567,35.95.67>> Medium ad hoc = "N" of "A");
* Of de afnemer geautoriseerd is voor <<eBW01,AX.BW.01>> Bewoningen (komt deze rubriek voor in <<e9560,35.95.60>> Rubrieknummer ad hoc?).

Ongeacht van wie de vraag afkomstig is, wordt bij de gevonden PL'en (die in de gevraagde periode waren ingeschreven op het gevraagde adres) bovendien gecontroleerd:

* Of in de gevraagde periode het gevraagde adres werd gebruikt als woonadres (<<e1010,08.10.10>> Functie adres = "W"). Als dat niet zo is, wordt de PL uit het resultaat gefilterd.
* Of in de gevraagde periode het gevraagde adres in onderzoek stond, waarbij <<e8310,08.83.10>> (Aanduiding gegevens in onderzoek) de waarde 089999 had, terwijl <<e8330,08.83.30>> (Datum einde onderzoek) helemaal niet voorkomt. Als dat zo is, wordt de PL uit het resultaat gefilterd.
* Of in de gevraagde periode het gevraagde adres in onderzoek stond, waarbij <<e8310,08.83.10>> de waarde 089999 had, terwijl <<e8330,08.83.30>> ook voorkomt. In dat geval is kennelijk bij het onderzoek gebleken dat iemand toch op het adres verbleef en wordt de PL meegenomen in het resultaat als bewoner.
* Of in de gevraagde periode het gevraagde adres in onderzoek stond, waarbij <<e8310,58.83.10>> de waarde 089999 of 589999 had, terwijl <<e8330,58.83.30>> in de zelfde categorie ook voorkomt en valt vóór <<e1030,08/58.10.30>> (Datum aanvang adreshouding) van de volgende categorie. Ook in dat geval is kennelijk bij het onderzoek gebleken dat iemand toch op het adres verbleef en wordt de PL meegenomen in het resultaat als bewoner.
* Of in de gevraagde periode het gevraagde adres in onderzoek stond, waarbij <<e8310,58.83.10>> de waarde 089999 of 589999 had, terwijl <<e8330,58.83.30>> in de zelfde categorie ook voorkomt en valt op of na <<e1030,08/58.10.30>> van de volgende categorie. In dat geval heeft de volgende gemeente kennelijk het onderzoek afgesloten omdat vanaf die datum wel bekend is waar de persoon verbleef en wordt de PL meegeteld als mogelijke bewoner.

Van de overgebleven PL'en worden de gevraagde gegevens verzameld en verstrekt in het response bericht.

===== Output

De output is een JSON-object met de volgende elementen:

[width="100%",cols="40%,10%,50%",options="header",]
|===
|Element naam |Type |Mogelijke waarden / corresponderende rubriek in BRP-V
|bewoningen |JSON-object |<<eBW01,AX.BW.01>> Bewoningen
|===

Mogelijke bewoners zijn personen waarvan door een onvolledige datum in rubriek <<e1030,08/58.10.30>> Datum aanvang adreshouding niet met zekerheid kan worden aangegeven of ze in de betreffende bewoningPeriode op het adres woonachtig waren of niet, of waarvan tijdens een onderzoek is vastgesteld dat ze in de gevraagde periode niet op het adres verbleven en onduidelijk is of er daadwerkelijk onderzoek is gedaan naar de werkelijke verblijfplaats van de persoon.

Omdat een adres in dit endpoint altijd wordt geïdentificeerd aan de hand van de adresseerbaarObjectIdentificatie (<<e1180,08.11.80>> Identificatiecode verblijfplaats), en na de introductie van de BAG niet alle adressen direct werden voorzien van deze identificatiecode, kan het voorkomen dat bewoners en mogelijke bewoners in het response bericht onvolledig zijn. Hoe verder terug in het verleden de gevraagde periode of de peildatum ligt, hoe groter de kans dat dit het geval is.

===== Protocollering

Verstrekking van persoonsgegevens via het endpoint /bewoningen in de BRP API worden geprotocolleerd: van elke bewoner en elke mogelijke bewoner die in het resultaat is opgenomen, wordt geprotocolleerd dat <<eBW01,AX.BW.01>> Bewoningen is verstrekt.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP API - Personen

===== Beschrijving

De BRP API is een API in het kader van het Experimentbesluit dataminimalisatie BRP. Met dit endpoint in de API is het voor deelnemers aan het experiment mogelijk om persoonsgegevens te raadplegen of te zoeken in de BRP-V.

URI: ++{++basis++_++url}/personen

Method: POST

Standaard worden gegevens verstrekt van personen die nog in leven zijn, tenzij inclusiefOverledenPersonen = "true" is opgegeven in het vraagbericht. Deze beperking geldt echter alleen bij het zoeken van personen, niet bij het raadplegen van een specifiek persoon (type = "RaadpleegMetBurgerservicenummer").

Voor gedetailleerde functionele en technische specificaties van de BRP API, zie de website van RvIG.

===== Input

De input is een JSON-object waarin de volgende elementen kunnen voorkomen. Welke elementen dat kunnen zijn, hangt af van de gekozen waarde van type:

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Mogelijke waarden / corresponderende rubriek in BRP-V
|type |string |ja |"RaadpleegMetBurgerservicenummer" / "ZoekMetAdresseerbaarObjectIdentificatie" / "ZoekMetGeslachtsnaamEnGeboortedatum" / "ZoekMetNaamEnGemeenteVanInschrijving" / "ZoekMetNummeraanduidingIdentificatie" / "ZoekMetPostcodeEnHuisnummer" / "ZoekMetStraatHuisnummerEnGemeenteVanInschrijving"
|fields |array of strings |ja |Eén of meerdere uit alle mogelijke elementen die hieronder zijn beschreven.
4+|Als type = "RaadpleegMetBurgerservicenummer":
|burgerservicenummer |array of strings |ja |Wordt vergeleken met <<e0120,01.01.20>> Burgerservicenummer
|gemeenteVanInschrijving |string |nee |<<e0910,08.09.10>> Gemeente van inschrijving
4+|Als type = "ZoekMetAdresseerbaarObjectIdentificatie":
|inclusiefOverledenPersonen |boolean |nee |true: geen filter op <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding +
false: <<e6720,07.67.20>> is leeg of ongelijk aan "O"
|gemeenteVanInschrijving |string |nee |<<e0910,08.09.10>> Gemeente van inschrijving
|adresseerbaarObjectIdentificatie |string |ja |Wordt vergeleken met <<e1180,08.11.80>> Identificatiecode verblijfplaats
4+|Als type = "ZoekMetGeslachtsnaamEnGeboortedatum":
|inclusiefOverledenPersonen |boolean |nee |true: geen filter op <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding +
false: <<e6720,07.67.20>> is leeg of ongelijk aan "O"
|voornamen |string |nee |Wordt vergeleken met <<e0210,01.02.10>> Voornamen
|voorvoegsel |string |nee |Wordt vergeleken met <<e0230,01.02.30>> Voorvoegsel geslachtsnaam
|geslachtsnaam |string |ja |Wordt vergeleken met <<e0240,01.02.40>> Geslachtsnaam
|geboortedatum |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e0310,01.03.10>> Geboortedatum
|geslacht |string |nee |Wordt vergeleken met <<e0410,01.04.10>> Geslachtsaanduiding
|gemeenteVanInschrijving |string |nee |<<e0910,08.09.10>> Gemeente van inschrijving
4+|Als type = "ZoekMetNaamEnGemeenteVanInschrijving":
|inclusiefOverledenPersonen |boolean |nee |true: geen filter op <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding +
false: <<e6720,07.67.20>> is leeg of ongelijk aan "O"
|voornamen |string |ja |Wordt vergeleken met <<e0210,01.02.10>> Voornamen
|voorvoegsel |string |nee |Wordt vergeleken met <<e0230,01.02.30>> Voorvoegsel geslachtsnaam
|geslachtsnaam |string |ja |Wordt vergeleken met <<e0240,01.02.40>> Geslachtsnaam
|geslacht |string |nee |Wordt vergeleken met <<e0410,01.04.10>> Geslachtsaanduiding
|gemeenteVanInschrijving |string |ja |<<e0910,08.09.10>> Gemeente van inschrijving
4+|Als type = "ZoekMetNummeraanduidingIdentificatie":
|inclusiefOverledenPersonen |boolean |nee |true: geen filter op <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding +
false: <<e6720,07.67.20>> is leeg of ongelijk aan "O"
|gemeenteVanInschrijving |string |nee |<<e0910,08.09.10>> Gemeente van inschrijving
|nummeraanduidingIdentificatie |string |ja |Wordt vergeleken met <<e1190,08.11.90>> Identificatiecode nummeraanduiding
4+|Als type = "ZoekMetPostcodeEnHuisnummer":
|inclusiefOverledenPersonen |boolean |nee |true: geen filter op <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding +
false: <<e6720,07.67.20>> is leeg of ongelijk aan "O"
|geslachtsnaam |string |nee |Wordt vergeleken met <<e0240,01.02.40>> Geslachtsnaam
|geboortedatum |string (datum: jjjj-mm-dd) |nee |Wordt vergeleken met <<e0310,01.03.10>> Geboortedatum
|gemeenteVanInschrijving |string |nee |<<e0910,08.09.10>> Gemeente van inschrijving
|huisnummer |integer |ja |Wordt vergeleken met <<e1120,08.11.20>> Huisnummer
|huisletter |string |nee |Wordt vergeleken met <<e1130,08.11.30>> Huisletter
|huisnummertoevoeging |string |nee |Wordt vergeleken met <<e1140,08.11.40>> Huisnummertoevoeging
|postcode |string |ja |Wordt vergeleken met <<e1160,08.11.60>> Postcode
4+|Als type = "ZoekMetStraatHuisnummerEnGemeenteVanInschrijving":
|inclusiefOverledenPersonen |boolean |nee |true: geen filter op <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding +
false: <<e6720,07.67.20>> is leeg of ongelijk aan "O"
|gemeenteVanInschrijving |string |ja |<<e0910,08.09.10>> Gemeente van inschrijving
|straat |string |ja |Wordt vergeleken met <<e1110,08.11.10>> Straatnaam
|huisnummer |integer |ja |Wordt vergeleken met <<e1120,08.11.20>> Huisnummer
|huisletter |string |nee |Wordt vergeleken met <<e1130,08.11.30>> Huisletter
|huisnummertoevoeging |string |nee |Wordt vergeleken met <<e1140,08.11.40>> Huisnummertoevoeging
|===

====== Het fields element

Met het fields element kan worden aangegeven welke gegevens gevraagd worden. Het bestaat uit een lijst met paden, gescheiden door komma's. Hierbij gelden de volgende voorwaarden:

* Het gebruik van de fields parameter is verplicht.
* Veld paden zijn case sensitive.
* Een veld in een groep of collectie kan worden gevraagd door het pad met punt gescheiden op te geven, bijvoorbeeld ouders.naam.voornamen.
* Alle velden van een groep kunnen worden gevraagd door het pad van de groep in fields op te nemen, bijvoorbeeld ouders.naam.
* De volgorde van veld paden in fields heeft geen invloed op de volgorde van velden in de response.
* Wanneer een gevraagd veld geen waarde heeft voor de persoon, wordt het veld niet opgenomen in de response.

===== Controles

Na ontvangst van het request bericht controleert de API:

* Of de syntax van het request bericht en de waarden van de zoekcriteria voldoen aan de eisen in de vorige paragraaf;
* Of de vraag afkomstig is van een gemeente.

Als de vraag afkomstig is van een gemeente, dan wordt de vraag beantwoord. Van de gevonden PL'en worden de gevraagde gegevens verzameld en verstrekt in het response bericht mits het aantal overgebleven PL'en niet groter is dan het maximumaantal toegestane PL'en.

Als de vraag niet afkomstig is van een gemeente, dan wordt nog gecontroleerd:

* Of de afnemer geautoriseerd is voor systematische verstrekking van gegevens (dus: of er een autorisatietabelregel voor de afnemer is met <<r359998,35.99.98>> Datum ingang =++<++ systeemdatum en <<r359999,35.99.99>> ++>++ systeemdatum of leeg);
* Of de afnemer geautoriseerd is voor het medium ad hoc (<<e9567,35.95.67>> Medium ad hoc = "N" of "A");
* Of de afnemer geautoriseerd is voor de gegevens in de zoekcriteria (komen de met de zoekcriteria corresponderende rubrieken voor in <<e9560,35.95.60>> Rubrieknummer ad hoc?);
* Of de afnemer geautoriseerd is voor de gevraagde gegevens (komen de rubrieken voor in <<e9560,35.95.60>> Rubrieknummer ad hoc?). Daarbij geldt:
** Als de afnemer vraagt om <<eNM03,PA.NM.03>> Aanhef, <<eNM04,PA.NM.04>> Aanspreekvorm, <<eNM05,PA.NM.05>> Aanspreeknaam of <<eNM06,PA.NM.06>> Naamgebruik in lopende tekst, dan wordt gecontroleerd of de afnemer is geautoriseerd voor <<eAD01,PA.AD.01>> Adressering of voor <<eAD02,PA.AD.02>> Elektronische adressering;
** Als de afnemer vraagt om <<eVP01,PA.VP.01>> Begindatum adreshouding, dan wordt gecontroleerd of de afnemer is geautoriseerd voor <<e1030,08.10.30>> Datum aanvang adreshouding. of voor <<e1320,08.13.20>> Datum aanvang adres buitenland;
** Als de afnemer vraagt om <<eVP03,PA.VP.03>> Adresregel 1 of <<eVP04,PA.VP.04>> Adresregel 2, dan wordt gecontroleerd of de afnemer is geautoriseerd voor <<eAD01,PA.AD.01>> Adressering;
** Als de afnemer vraagt om <<e1350,08.13.50>> Regel 3 adres buitenland of om <<e1310,08.13.10>> Land adres buitenland, dan wordt gecontroleerd of de afnemer is geautoriseerd voor deze rubrieken, of voor <<eAD01,PA.AD.01>> Adressering.

Vervolgens worden alle PL'en gezocht die voldoen aan de zoekcriteria, en wordt per PL gecontroleerd:

* of er geheimhouding van toepassing is voor deze afnemer (<<e9512,35.95.12>> Indicatie geheimhouding = 1 en <<e7010,07.70.10>> Indicatie geheim = 2, 4, 6 of 7): zo ja, dan wordt de PL uit het resultaat gefilterd;
* of er geheimhouding van toepassing is, maar niet voor deze afnemer (<<e9512,35.95.12>> Indicatie geheimhouding = 0 en <<e7010,07.70.10>> Indicatie geheim = 2, 4, 6 of 7): zo ja, dan wordt geheimhoudingPersoonsgegevens meeverstrekt;
* of de PL voldoet aan <<e9561,35.95.61>> Voorwaardenregel ad hoc. Zo niet, dan wordt die uit het resultaat gefilterd.

Van de overgebleven PL'en worden de gevraagde gegevens verzameld en verstrekt in het response bericht, mits het aantal overgebleven PL'en niet groter is dan het maximumaantal toegestane PL'en.

===== Output

De output is een JSON-object met de volgende elementen (voor zover ze zijn gevraagd met de fields parameter):

[width="100%",cols="3%,3%,3%,3%,28%,10%,50%",options="header",]
|===
5+|Element naam |Type |Mogelijke waarden / corresponderende rubriek in BRP-V
5+|type |string |"RaadpleegMetBurgerservicenummer" / "ZoekMetAdresseerbaarObjectIdentificatie" / "ZoekMetGeslachtsnaamEnGeboortedatum" / "ZoekMetNaamEnGemeenteVanInschrijving" / "ZoekMetNummeraanduidingIdentificatie" /
"ZoekMetPostcodeEnHuisnummer" / "ZoekMetStraatHuisnummerEnGemeenteVanInschrijving"
7+|Als type = "RaadpleegMetBurgerservicenummer":
5+|personen |array of objects |
| 4+|aNummer |string |<<e0110,01.01.10>> A-nummer
| 4+|burgerservicenummer |string |<<e0120,01.01.20>> Burgerservicenummer
| 4+|naam |object |
| | 3+|voornamen |string |<<e0210,01.02.10>> Voornamen
| | 3+|voorletters |string |<<eNM01,PA.NM.01>> Voorletters
| | 3+|adellijkeTitelPredicaat |object |
| | | 2+|code |string |<<e0220,01.02.20>> Adellijke titel/predicaat
| | | 2+|omschrijving |string |Omschrijving zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | 2+|soort |string |Soort zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | 3+|voorvoegsel |string |<<e0230,01.02.30>> Voorvoegsel geslachtsnaam
| | 3+|geslachtsnaam |string |<<e0240,01.02.40>> Geslachtsnaam
| | 3+|volledigeNaam |string |<<eNM02,PA.NM.02>> Volledige naam
| | 3+|aanduidingNaamgebruik |object |
| | | 2+|code |string |<<e6110,01.61.10>> Aanduiding naamgebruik
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|inOnderzoek |object |
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| | | 2+|aanduidingNaamgebruik |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|adellijkeTitelPredicaat |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|geslachtsnaam |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|volledigeNaam |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|voorletters |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|voornamen |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|voorvoegsel |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| 4+|geboorte |object |
| | 3+|datum |date |Gebaseerd op <<e0310,01.03.10>> Geboortedatum
| | 3+|plaats |object |
| | | 2+|code |string |<<e0320,01.03.20>> Geboorteplaats als het een code van vier cijfers is, anders leeg
| | | 2+|omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel, of <<e0320,01.03.20>> Geboorteplaats als dat een buitenlandse plaatsnaam is
| | 3+|land |object |
| | | 2+|code |string |<<e0330,01.03.30>> Geboorteland
| | | 2+|omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | 3+|inOnderzoek |object |
| | | 2+|datum |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|land |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|plaats |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| 4+|leeftijd |integer |<<eGL01,PA.GL.01>> Leeftijd
| 4+|geslacht |object |
| | 3+|code|string |<<e0410,01.04.10>> Geslachtsaanduiding
| | 3+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| 4+|inOnderzoek |object |
| | 3+|burgerservicenummer |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | 3+|geslacht |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | 3+|leeftijd |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | 3+|datumIngangOnderzoekPersoon |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| | 3+|datumInschrijvingInGemeente |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | 3+|gemeenteVanInschrijving |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | 3+|datumIngangOnderzoekGemeente |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 3+|indicatieCurateleRegister |boolean |Afgeleid van <<e8310,11.83.10>> Aanduiding gegevens in onderzoek
| | 3+|datumIngangOnderzoekGezag |date |Gebaseerd op <<e8320,11.83.20>> Datum ingang onderzoek
| 4+|ouders |array of objects |
| | 3+|ouderAanduiding |string |Geeft aan de gegevens afkomstig zijn uit categorie <<c02-52,02>> (1 = Ouder 1) of uit categorie <<c03-53,03>> (2 = Ouder 2)
| | 3+|burgerservicenummer |string |<<e0120,02.01.20>> dan wel <<e0120,03.01.20>> Burgerservicenummer
| | 3+|naam |object |
| | | 2+|voornamen |string |<<e0210,02.02.10>> dan wel <<e0210,03.02.10>> Voornamen
| | | 2+|voorletters |string |<<eOU01,PA.OU.01>> Voorletters ouder van de betreffende ouder
| | | 2+|adellijkeTitelPredicaat |object |
| | | | |code |string |<<e0220,02.02.20>> dan wel <<e0220,03.02.20>> Adellijke titel/predicaat
| | | | |omschrijving |string |Omschrijving zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | | |soort |string |Soort zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | 2+|voorvoegsel |string |<<e0230,02.02.30>> dan wel <<e0230,03.02.30>> Voorvoegsel geslachtsnaam
| | | 2+|geslachtsnaam |string |<<e0240,02.02.40>> dan wel <<e0240,03.02.40>> Geslachtsnaam
| | | 2+|inOnderzoek |object |Geeft aan welke gegevens over de naam in onderzoek zijn.
| | | | |adellijkeTitelPredicaat |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |geslachtsnaam |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |voorletters |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |voornamen |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |voorvoegsel |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,02.83.20>> dan wel <<e8320,03.83.20>> Datum ingang onderzoek
| | 3+|geboorte |object |
| | | 2+|datum |date |Gebaseerd op <<e0310,02.03.10>> dan wel <<e0310,03.03.10>> Geboortedatum
| | | 2+|plaats |object |
| | | | |code |string |<<e0320,02.03.20>> dan wel <<e0320,03.03.20>> Geboorteplaats als het een code van vier cijfers is, anders leeg
| | | | |omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel, of <<e0320,02.03.20>> dan wel <<e0320,03.03.20>> Geboorteplaats als dat een buitenlandse plaatsnaam is
| | | 2+|land |object |
| | | | |code |string |<<e0330,02.03.30>> dan wel <<e0230,03.02.30>> Geboorteland
| | | | |omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | | 2+|inOnderzoek |object |
| | | | |datum |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |land |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |plaats |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,02.83.20>> dan wel <<e8320,03.83.20>> Datum ingang onderzoek
| | 3+|geslacht |object |
| | | 2+|code |string |<<e0410,02.04.10>> dan wel <<e0410,03.04.10>> Geslachtsaanduiding
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|datumIngangFamilierechtelijkeBetrekking |date |Gebaseerd op <<e6210,02.62.10>> dan wel <<e6210,03.62.10>> Datum ingang familierechtelijke betrekking
| | 3+|inOnderzoek |object |
| | | 2+|burgerservicenummer |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangFamilierechtelijkeBetrekking |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|geslacht |boolean |Afgeleid van <<e8310,02.83.10>> dan wel <<e8310,03.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,02.83.20>> dan wel <<e8320,03.83.20>> Datum ingang onderzoek
| 4+|nationaliteiten |array of objects |
| | 3+|type |string |<<eNT01,PA.NT.01>> Type nationaliteit
| | 3+|redenOpname |object |
| | | 2+|code |string |<<e6310,04.63.10>> Reden opname nationaliteit
| | | 2+|omschrijving |string |Omschrijving van de reden zoals vermeld in tabel <<t37,37>> Reden opname/beëindigen nationaliteit
| | 3+|datumIngangGeldigheid |date |<<e8510,04.85.10>> Ingangsdatum geldigheid
| | 5+|Als type="Nationaliteit"
| | 3+|nationaliteit |object |
| | | 2+|code |string |<<e0510,04.05.10>> Nationaliteit
| | | 2+|omschrijving |string |Naam van de nationaliteit zoals vermeld in tabel <<t32,32>> Nationaliteitentabel
| | 3+|inOnderzoek |object |
| | | 2+|nationaliteit |boolean |Afgeleid van <<e8310,04.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|redenOpname |boolean |Afgeleid van <<e8310,04.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|type |boolean |Afgeleid van <<e8310,04.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,04.83.20>> Datum ingang onderzoek
| | 5+|Als type="BehandeldAlsNederlander" / "NationaliteitOnbekend" / "Staatloos" / "VastgesteldNietNederlander"
| | 3+|inOnderzoek |object |
| | | 2+|redenOpname |boolean |Afgeleid van <<e8310,04.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|type |boolean |Afgeleid van <<e8310,04.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,04.83.20>> Datum ingang onderzoek
| 4+|partners |array of objects |
| | 3+|burgerservicenummer |string |<<e0120,05.01.20>> Burgerservicenummer
| | 3+|naam |object |
| | | 2+|voornamen |string |<<e0210,05.02.10>> Voornamen
| | | 2+|voorletters |string |<<eHP01,PA.HP.01>> Voorletters partner
| | | 2+|adellijkeTitelPredicaat |object |
| | | | |code |string |<<e0220,05.02.20>> Adellijke titel/predicaat
| | | | |omschrijving |string |Omschrijving zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | | |soort |string |Soort zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | 2+|voorvoegsel |string |<<e0230,05.02.30>> Voorvoegsel geslachtsnaam
| | | 2+|geslachtsnaam |string |<<e0240,05.02.40>> Geslachtsnaam
| | | 2+|inOnderzoek |object |
| | | | |adellijkeTitelPredicaat |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |geslachtsnaam |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |voorletters |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |voornamen |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |voorvoegsel |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op<<e8320,05.83.20>> Datum ingang onderzoek
| | 3+|geboorte |object |
| | | 2+|datum |date |Gebaseerd op <<e0310,05.03.10>> Geboortedatum
| | | 2+|plaats |object |
| | | | |code |string |<<e0320,05.03.20>> Geboorteplaats als het een code van vier cijfers is, anders leeg
| | | | |omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel, of een buitenlandse plaats of <<e0320,05.03.20>> Geboorteplaats als het een buitenlandse plaatsnaam is
| | | 2+|land |string |
| | | | |code |string |<<e0330,05.03.30>> Geboorteland
| | | | |omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | | 2+|inOnderzoek |object |
| | | | |datum |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |land |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |plaats |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,05.83.20>> Datum ingang onderzoek
| | 3+|geslacht |object |
| | | 2+|code |string |<<e0410,05.04.10>> Geslachtsaanduiding
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|aangaanHuwelijkPartnerschap |object |
| | | 2+|datum |date |Gebaseerd op <<e0610,05.06.10>> dan wel <<e0610,55.06.10>> Datum huwelijkssluiting/aangaan geregistreerd partnerschap
| | | 2+|plaats |object |
| | | | |code |string |<<e0620,05.06.20>> dan wel <<e0620,55.06.20>> Plaats huwelijkssluiting/aangaan geregistreerd partnerschap als het een code van vier cijfers is, anders leeg
| | | | |omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel, of <<e0620,05.06.20>> dan wel <<e0620,55.06.20>> Plaats huwelijkssluiting/aangaan geregistreerd partnerschap als dat een buitenlandse plaatsnaam is
| | | 2+|land |string |
| | | | |code |string |<<e0630,05.06.30>> dan wel <<e0630,55.06.30>> Land huwelijkssluiting/aangaan geregistreerd partnerschap
| | | | |omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | | 2+|inOnderzoek |object |
| | | | |datum |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |land |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |plaats |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,05.83.20>> Datum ingang onderzoek
| | 3+|ontbindingHuwelijkPartnerschap |object |
| | | 2+|datum |date |<<e0710,05.07.10>> Datum ontbinding huwelijk/geregistreerd partnerschap
| | | 2+|inOnderzoek |object |
| | | | |datum |boolean |Afgeleid van <<e8320,05.83.20>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,05.83.20>> Datum ingang onderzoek
| | 3+|soortVerbintenis |object |
| | | 2+|code |string |<<e1510,05.15.10>> Soort verbintenis
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|inOnderzoek |object |
| | | 2+|burgerservicenummer |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|geslacht |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|soortVerbintenis |boolean |Afgeleid van <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,05.83.20>> Datum ingang onderzoek
| 4+|overlijden |object |
| | 3+|datum |date |Gebaseerd op <<e0810,06.08.10>> Datum overlijden
| | 3+|plaats |object |
| | | 2+|code |string |<<e0820,06.08.20>> Plaats overlijden als het een code van vier cijfers is, anders leeg
| | | 2+|omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel, of <<e0820,06.08.20>> Plaats overlijden als dat een buitenlandse plaatsnaam is
| | 3+|land |object |
| | | 2+|code |string |<<e0830,06.08.30>> Land overlijden
| | | 2+|omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | 3+|inOnderzoek |object |
| | | 2+|datum |boolean |Afgeleid van <<e8310,06.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|land |boolean |Afgeleid van <<e8310,06.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|plaats |boolean |Afgeleid van <<e8310,06.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,06.83.20>> Datum ingang onderzoek
| 4+|opschortingBijhouding |object |
| | 3+|datum |date |Gebaseerd op <<e6710,07.67.10>> Datum opschorting bijhouding
| | 3+|reden |object |
| | | 2+|code |string |<<e6720,07.67.20>> Omschrijving reden opschorting bijhouding
| | | 2+|omschrijving |string |Omschrijving bij de code zoals in LO vermeld
| 4+|datumEersteInschrijvingGBA |date |Gebaseerd op <<e6810,07.68.10>> Datum eerste inschrijving BRP
| 4+|geheimhoudingPersoonsgegevens |boolean |Geeft aan of de persoon om geheimhouding van persoonsgegevens heeft gevraagd. +
Afgeleid van <<e7010,07.70.10>> Indicatie geheim.
| 4+|verificatie |object |
| | 3+|datum |date |Gebaseerd op <<e7110,07.71.10>> Datum verificatie
| | 3+|omschrijving |string |<<e7120,07.71.20>> Omschrijving verificatie
| 4+|gemeenteVanInschrijving |object |
| | 3+|code |string |<<e0910,08.09.10>> Gemeente van inschrijving
| | 3+|omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel
| 4+|datumInschrijvingInGemeente |date |Gebaseerd op <<e0920,08.09.20>> Datum inschrijving
| 4+|verblijfplaats |object |
| | 3+|datumVan |date |<<eVP01,PA.VP.01>> Begindatum adreshouding
| | 3+|type |string |<<eVP02,PA.VP.02>> Type verblijfplaats
| | 5+|Als type="Adres"
| | 3+|functieAdres |object |
| | | 2+|code |string |<<e1010,08.10.10>> Functie adres
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|verblijfadres |object |
| | | 2+|korteStraatnaam |string |<<e1110,08.11.10>> Straatnaam
| | | 2+|officieleStraatnaam |string |<<e1115,08.11.15>> Naam openbare ruimte
| | | 2+|huisnummer |string |<<e1120,08.11.20>> Huisnummer
| | | 2+|huisletter |string |<<e1130,08.11.30>> Huisletter
| | | 2+|huisnummertoevoeging |string |<<e1140,08.11.40>> Huisnummertoevoeging
| | | 2+|aanduidingbijHuisnummer |object |
| | | | |code |string |<<e1150,08.11.50>> Aanduiding bij huisnummer
| | | | |omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | | 2+|postcode |string |<<e1160,08.11.60>> Postcode
| | | 2+|woonplaats |string |<<e1170,08.11.70>> Woonplaatsnaam
| | | 2+|inOnderzoek |string |
| | | | |aanduidingBijHuisnummer |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |korteStraatnaam |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |huisletter |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |huisnummer |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |huisnummertoevoeging |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |officieleStraatnaam |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |postcode |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |woonplaats |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 3+|adresseerbaarObjectIdentificatie |string |<<e1180,08.11.80>> Identificatiecode verblijfplaats
| | 3+|nummeraanduidingIdentificatie |string |<<e1190,08.11.90>> Identificatiecode nummeraanduiding
| | 3+|indicatieVastgesteldVerblijftNietOpAdres |boolean |Afgeleid van <<e8310,08.83.10>> +
Aanduiding gegevens in onderzoek
| | 3+|inOnderzoek |object |
| | | 2+|adresseerbaarObjectIdentificatie |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumVan |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|functieAdres |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|nummeraanduidingIdentificatie |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|type |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 5+|Als type="Locatie"
| | 3+|functieAdres |object |
| | | 2+|code |string |<<e1010,08.10.10>> Functie adres
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|verblijfadres |object |
| | | 2+|locatiebeschrijving |string |<<e1210,08.12.10>> Locatiebeschrijving
| | | 2+|inOnderzoek |object |
| | | | |locatiebeschrijving |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 3+|indicatieVastgesteldVerblijftNietOpAdres |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | 3+|inOnderzoek |object |
| | | 2+|datumVan |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|functieAdres |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|type |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 5+|Als type="VerblijfplaatsBuitenland"
| | 3+|verblijfadres |object |
| | | 2+|land |object |
| | | | |code |string |<<e1310,08.13.10>> Land adres buitenland
| | | | |omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | | 2+|regel1 |string |<<e1330,08.13.30>> Regel 1 adres buitenland
| | | 2+|regel2 |string |<<e1340,08.13.40>> Regel 2 adres buitenland
| | | 2+|regel3 |string |<<e1350,08.13.50>> Regel 3 adres buitenland
| | | 2+|inOnderzoek |object |
| | | | |land |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |regel1 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |regel2 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |regel3 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 3+|inOnderzoek |object |
| | | 2+|datumVan |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|type |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| | 5+|Als type="VerblijfplaatsOnbekend"
| | 3+|inOnderzoek |object |
| | | 2+|datumVan |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|type |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| 4+|adressering |object |
| | 3+|adresregel1 |string |<<eVP03,PA.VP.03>> Adresregel 1
| | 3+|adresregel2 |string |<<eVP04,PA.VP.04>> Adresregel 2
| | 3+|adresregel3 |string |<<e1350,08.13.50>> Regel 3 adres buitenland
| | 3+|land |object |
| | | 2+|code |string |<<e1310,08.13.10>> Land adres buitenland
| | | 2+|omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | 3+|aanhef |string |<<eNM03,PA.NM.03>> Aanhef
| | 3+|aanschrijfwijze |object |
| | | 2+|naam |string |<<eNM05,PA.NM.05>> Aanspreeknaam
| | | 2+|aanspreekvorm |string |<<eNM04,PA.NM.04>> Aanspreekvorm
| | 3+|gebruikInLopendeTekst |string |<<eNM06,PA.NM.06>> Naamgebruik in lopende tekst
| | 3+|indicatieVastgesteldVerblijftNietOpAdres |boolean |Afgeleid van <<e8310,08.83.10>> +
Aanduiding gegevens in onderzoek
| | 3+|inOnderzoek |object |
| | | 2+|aanhef |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoekPersoon |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| | | 2+|datumIngangOnderzoekPartner |date |Gebaseerd op <<e8320,05.83.20>> Datum ingang onderzoek
| | | 2+|aanschrijfwijze |boolean |Afgeleid van <<e8310,01.83.10>> dan wel <<e8310,05.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|adresregel1 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|adresregel2 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|adresregel3 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|gebruikInLopendeTekst |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|land |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoekVerblijfplaats |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| 4+|immigratie |object |
| | 3+|landVanwaarIngeschreven |object |
| | | 2+|code |string |<<e1410,08.14.10>> Land vanwaar ingeschreven
| | | 2+|omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | 3+|datumVestigingInNederland |date |Gebaseerd op <<e1420,08.14.20>> Datum vestiging in Nederland
| | 3+|indicatieVestigingVanuitBuitenland |boolean |<<eVP05,PA.VP.05>> Indicatie vestiging vanuit buitenland
| | 3+|vanuitVerblijfplaatsOnbekend |boolean |<<eVP06,PA.VP.06>> Indicatie vestiging vanuit onbekende verblijfplaats
| | 3+|inOnderzoek |object |
| | | 2+|datumVestigingInNederland |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|indicatieVestigingVanuitBuitenland |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|landVanwaarIngeschreven |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|vanuitVerblijfplaatsOnbekend |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| 4+|kinderen |array of objects |
| | 3+|burgerservicenummer |string |<<e0120,09.01.20>> Burgerservicenummer
| | 3+|naam |object |
| | | 2+|voornamen |string |<<e0210,09.02.10>> Voornamen
| | | 2+|voorletters |string |<<eKD01,PA.KD.01>> Voorletters kind
| | | 2+|adellijkeTitelPredicaat |object |
| | | | |code |string |<<e0220,09.02.20>> Adellijke titel/predicaat
| | | | |omschrijving |string |Omschrijving zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | | |soort |string |Soort zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | 2+|voorvoegsel |string |<<e0230,09.02.30>> Voorvoegsel geslachtsnaam
| | | 2+|geslachtsnaam |string |<<e0240,09.02.40>> Geslachtsnaam
| | | 2+|inOnderzoek |object |
| | | | |adellijkeTitelPredicaat |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |geslachtsnaam |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |voorletters |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |voornamen |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |voorvoegsel |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,09.83.20>> Datum ingang onderzoek
| | 3+|geboorte |object |
| | | 2+|datum |date |Gebaseerd op <<e0310,09.03.10>> Geboortedatum
| | | 2+|plaats |object |
| | | | |code |string |<<e0320,09.03.20>> Geboorteplaats als het een code van vier cijfers is, anders leeg
| | | | |omschrijving |string |Naam van de gemeente zoals vermeld in tabel <<t33,33>> Gemeententabel, of <<e0320,09.03.20>> Geboorteplaats als dat een buitenlandse plaatsnaam is
| | | 2+|land |string |
| | | | |code |string |<<e0330,09.03.30>> Geboorteland
| | | | |omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | | 2+|inOnderzoek |string |
| | | | |datum |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |land |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |plaats |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | | |datumIngangOnderzoek |date |Gebaseerd op <<e8320,09.83.20>> Datum ingang onderzoek
| | 3+|inOnderzoek |object |
| | | 2+|burgerservicenummer |boolean |Afgeleid van <<e8310,09.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,09.83.20>> Datum ingang onderzoek
| 4+|verblijfstitel |object |
| | 3+|aanduiding |object |
| | | 2+|code |string |<<e3910,10.39.10>> Aanduiding verblijfstitel
| | | 2+|omschrijving |string |Naam van de verblijfstitel zoals vermeld in tabel <<t56,56>> Verblijfstiteltabel
| | 3+|datumEinde |date |Gebaseerd op <<e3920,10.39.20>> Datum einde verblijfstitel
| | 3+|datumIngang |date |Gebaseerd op <<e3930,10.39.30>> Ingangsdatum verblijfstitel
| | 3+|inOnderzoek |object |
| | | 2+|aanduiding |boolean |Afgeleid van <<e8310,10.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumEinde |boolean |Afgeleid van <<e8310,10.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngang |boolean |Afgeleid van <<e8310,10.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,10.83.20>> Datum ingang onderzoek
| 4+|gezag |JSON-object |<<eGZ01,PA.GZ.01>> Gezagsrelaties
| 4+|indicatieCurateleRegister |boolean |Afgeleid van <<e3310,11.33.10>> Indicatie curateleregister
| 4+|europeesKiesrecht |object |
| | 3+|aanduiding |object |
| | | 2+|code |string |<<e3110,13.31.10>> Aanduiding Europees kiesrecht
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|einddatumUitsluiting |date |Gebaseerd op <<e3130,13.31.30>> Einddatum uitsluiting Europees kiesrecht
| 4+|uitsluitingKiesrecht |object |
| | 3+|uitgeslotenVanKiesrecht |boolean |Afgeleid van <<e3810,13.38.10>> Aanduiding uitgesloten kiesrecht
| | 3+|einddatum |date |Gebaseerd op <<e3820,13.38.20>> Einddatum uitsluiting kiesrecht
| 4+|rni |array of objects |
| | 3+|deelnemer |object |
| | | 2+|code |string |88.10 RNI-deelnemer voor de betreffende categorie
| | | 2+|omschrijving |string |Naam van de RNI deelnemer zoals vermeld in tabel <<t60,60>> RNI-deelnemers
| | 3+|omschrijvingVerdrag |string |88.20 Omschrijving verdrag voor de betreffende categorie
| | 3+|categorie |string |Naam van categorie waarop de RNI-deelnemer gegevens heeft aangeleverd
7+|Als type = "ZoekMetAdresseerbaarObjectIdentificatie" / "ZoekMetGeslachtsnaamEnGeboortedatum" / "ZoekMetNaamEnGemeenteVanInschrijving" / "ZoekMetNummeraanduidingIdentificatie" /
"ZoekMetPostcodeEnHuisnummer" / "ZoekMetStraatHuisnummerEnGemeenteVanInschrijving":
5+|personen |array of objects |
| 4+|burgerservicenummer |string |<<e0120,01.01.20>> Burgerservicenummer
| 4+|naam |object |
| | 3+|voornamen |string |<<e0210,01.02.10>> Voornamen
| | 3+|voorletters |string |<<eNM01,PA.NM.01>> Voorletters
| | 3+|adellijkeTitelPredicaat |object |
| | | 2+|code |string |<<e0220,01.02.20>> Adellijke titel/predicaat
| | | 2+|omschrijving |string |Omschrijving zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | | 2+|soort |string |Soort zoals vermeld in tabel <<t38,38>> Adellijke titel/predicaat
| | 3+|voorvoegsel |string |<<e0230,01.02.30>> Voorvoegsel geslachtsnaam
| | 3+|geslachtsnaam |string |<<e0240,01.02.40>> Geslachtsnaam
| | 3+|volledigeNaam |string |<<eNM02,PA.NM.02>> Volledige naam
| | 3+|inOnderzoek |object |
| | | 2+|adellijkeTitelPredicaat |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|geslachtsnaam |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|volledigeNaam |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|voorletters |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|voornamen |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|voorvoegsel |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| 4+|geboorte |object |
| | 3+|datum |date |Gebaseerd op <<e0310,01.03.10>> Geboortedatum
| | 3+|inOnderzoek |object |
| | | 2+|datum |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| 4+|leeftijd |integer |<<eGL01,PA.GL.01>> Leeftijd
| 4+|geslacht |object |
| | 3+|code |string |<<e0410,01.04.10>> Geslachtsaanduiding
| | 3+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| 4+|inOnderzoek |object |
| | 3+|burgerservicenummer |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | 3+|geslacht |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | 3+|leeftijd |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | 3+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| 4+|opschortingBijhouding |object |
| | 3+|datum |date |Gebaseerd op <<e6710,07.67.10>> Datum opschorting bijhouding
| | 3+|reden |object |
| | | 2+|code |string |<<e6720,07.67.20>> Omschrijving reden opschorting bijhouding
| | | 2+|omschrijving |string |Omschrijving bij de code zoals in LO vermeld
| 4+|geheimhoudingPersoonsgegevens |boolean |Geeft aan of de persoon om geheimhouding van persoonsgegevens heeft gevraagd. +
Afgeleid van <<e7010,07.70.10>> Indicatie geheim.
| 4+|verificatie |object |
| | 3+|datum |date |Gebaseerd op <<e7110,07.71.10>> Datum verificatie
| | 3+|omschrijving |string |<<e7120,07.71.20>> Omschrijving verificatie
| 4+|adressering |object |
| | 3+|land |object |
| | | 2+|code |string |<<e1310,08.13.10>> Land adres buitenland
| | | 2+|omschrijving |string |Naam van het land zoals vermeld in tabel <<t34,34>> Landentabel
| | 3+|adresregel1 |string |<<eVP03,PA.VP.03>> Adresregel 1
| | 3+|adresregel2 |string |<<eVP04,PA.VP.04>> Adresregel 2
| | 3+|adresregel3 |string |<<e1350,08.13.50>> Regel 3 adres buitenland
| | 3+|indicatieVastgesteldVerblijftNietOpAdres |boolean |Afgeleid van <<e8310,08.83.10>> +
Aanduiding gegevens in onderzoek
| | 3+|inOnderzoek |object |
| | | 2+|adresregel1 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|adresregel2 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|adresregel3 |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|land |boolean |Afgeleid van <<e8310,08.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoekVerblijfplaats |date |Gebaseerd op <<e8320,08.83.20>> Datum ingang onderzoek
| 4+|rni |array of objects |
| | 3+|deelnemer |object |
| | | 2+|code |string |88.10 RNI-deelnemer voor de betreffende categorie
| | | 2+|omschrijving |string |Naam van de RNI deelnemer zoals vermeld in tabel <<t60,60>> RNI-deelnemers
| | 3+|omschrijvingVerdrag |string |88.20 Omschrijving verdrag voor de betreffende categorie
| | 3+|categorie | string |Naam van de categorie waaruit elementen 88.10 en 88.20 zijn opgenomen
| 6+|Als type = "ZoekMetAdresseerbaarObjectIdentificatie":
| 4+|gezag |JSON-object |<<eGZ01,PA.GZ.01>> Gezagsrelaties
|===

===== Protocollering

Verstrekking van persoonsgegevens via het endpoint /personen in de BRP API worden geprotocolleerd.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP API - Reisdocumenten

===== Beschrijving

De BRP API is een API in het kader van het Experimentbesluit dataminimalisatie BRP. Met dit endpoint in de API is het voor gemeenten die deelnemen aan het experiment mogelijk om te zoeken naar reisdocumenten van een specifiek persoon, of om de gegevens van een specifiek reisdocument op te vragen.

URI: ++{++basis++_++url}/reisdocumenten

Method: POST

Voor gedetailleerde functionele en technische specificaties van de BRP API, zie de website van RvIG.

Het /reisdocumenten endpoint in de BRP API wordt uitgefaseerd, en er worden geen nieuwe gebruikers meer op aangesloten!

===== Input

De input is een JSON-object waarin de volgende elementen kunnen voorkomen. Welke elementen dat zijn, hangt af van de gekozen waarde van type:

[width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Mogelijke waarden / corresponderende rubriek in BRP-V
|type |string |Ja |"RaadpleegMetReisdocumentnummer" / "ZoekMetBurgerservicenummer"
|fields |array of strings |Ja |De gewenste velden in het antwoord. Zie voor een beschrijving van de mogelijkheden hieronder.
4+|Als type = "RaadpleegMetReisdocumentnummer":
|reisdocumentnummer |string |ja |Wordt vergeleken met <<e3520,12.35.20>> Nummer Nederlands reisdocument
4+|Als type = "ZoekMetBurgerservicenummer":
|burgerservicenummer |string |ja |Wordt vergeleken met <<e0120,01.01.20>> Burgerservicenummer
|===

====== Het fields element

Met het fields element kan worden aangegeven welke gegevens gevraagd worden. Het bestaat uit een lijst met paden, gescheiden door komma's. Hierbij gelden de volgende voorwaarden:

* Het gebruik van de fields parameter is verplicht.
* Veld paden zijn case sensitive.
* Een veld in een groep of collectie wordt gevraagd door het pad met punt gescheiden op te geven, bijvoorbeeld soort.code.
* Alle velden van een groep kunnen worden gevraagd door het pad van de groep in fields op te nemen, bijvoorbeeld soort (dan bevat het antwoord zowel code als omschrijving).
* De volgorde van veld paden in fields heeft geen invloed op de volgorde van velden in de response.
* Wanneer een gevraagd veld geen waarde heeft voor de persoon, wordt het veld niet opgenomen in de response.

===== Controles

Na ontvangst van het request bericht controleert de API:

* Of de syntax van het request bericht en de waarden van de zoekcriteria voldoen aan de eisen in de vorige paragraaf;
* Of de vraag afkomstig is van een gemeente.

Als de vraag afkomstig is van een gemeente, dan wordt de vraag beantwoord. Van de gevonden PL worden de gevraagde gegevens verzameld en verstrekt in het response bericht.

Als de vraag niet afkomstig is van een gemeente, dan wordt een foutcode terug gegeven.

===== Output

De output is een JSON-object met de volgende elementen:


[width="100%",cols="3%,3%,3%,3%,28%,10%,50%",options="header",]
|===
5+|Element naam |Type |Mogelijke waarden / corresponderende rubriek in BRP-V
5+|type |string |"ZoekMetBurgerservicenummer" / "RaadpleegMetReisdocumentnummer"
5+|reisdocumenten |array of objects |
| 4+|houder |object |
| | 3+|burgerservicenummer |string |<<e0120,01.01.20>> Burgerservicenummer
| | 3+|geheimhoudingPersoonsgegevens |boolean |Geeft aan of de persoon om geheimhouding van persoonsgegevens heeft gevraagd. +
Afgeleid van <<e7010,07.70.10>> Indicatie geheim.
| | 3+|opschortingBijhouding |object |
| | | 2+|datum |date |Gebaseerd op <<e6710,07.67.10>> Datum opschorting bijhouding
| | | 2+|reden |object |
| | | | |code |string |<<e6720,07.67.20>> Omschrijving reden opschorting bijhouding
| | | | |omschrijving |string |Omschrijving bij de code zoals in LO vermeld
| | 3+|inOnderzoek |object |
| | | 2+|burgerservicenummer |boolean |Afgeleid van <<e8310,01.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,01.83.20>> Datum ingang onderzoek
| 4+|soort |object |
| | 3+|code |string |<<e3510,12.35.10>> Soort Nederlands reisdocument
| | 3+|omschrijving |string |Naam van het reisdocument zoals vermeld in tabel <<t48,48>> Tabel Nederlands reisdocument
| 4+|reisdocumentnummer |string |<<e3520,12.35.20>> Nummer Nederlands reisdocument
| 4+|datumEindeGeldigheid |date |Gebaseerd op <<e3550,12.35.50>> Datum einde geldigheid Nederlands reisdocument
| 4+|inhoudingOfVermissing |object |
| | 3+|datum |date |Gebaseerd op <<e3560,12.35.60>> Datum inhouding dan wel vermissing Nederlands reisdocument
| | 3+|aanduiding |object |
| | | 2+|code |string |<<e3570,12.35.70>> Aanduiding inhouding dan wel vermissing Nederlands reisdocument
| | | 2+|omschrijving |string |Omschrijving bij de code zoals vermeld in het LO
| | 3+|inOnderzoek |object |
| | | 2+|aanduiding |boolean |Afgeleid van <<e8310,12.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datum |boolean |Afgeleid van <<e8310,12.83.10>> Aanduiding gegevens in onderzoek
| | | 2+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,12.83.20>> Datum ingang onderzoek
| 4+|inOnderzoek |object |
| | 3+|datumEindeGeldigheid  |boolean |Afgeleid van <<e8310,12.83.10>> Aanduiding gegevens in onderzoek
| | 3+|reisdocumentnummer |boolean |Afgeleid van <<e8310,12.83.10>> Aanduiding gegevens in onderzoek
| | 3+|soort |boolean |Afgeleid van <<e8310,12.83.10>> Aanduiding gegevens in onderzoek
| | 3+|datumIngangOnderzoek |date |Gebaseerd op <<e8320,12.83.20>> Datum ingang onderzoek
|===

===== Protocollering

Verstrekkingen van persoonsgegevens via het endpoint /reisdocumenten in de BRP API worden geprotocolleerd.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP API - Verblijfplaatshistorie

===== Beschrijving

De BRP API is een API in het kader van het Experimentbesluit dataminimalisatie BRP. Met dit endpoint in de API is het voor deelnemers aan het experiment mogelijk om historische gegevens op te vragen over de verblijfplaats van een persoon op een op te geven peildatum of in een op te geven periode.

URI: ++{++basis++_++url}/verblijfplaatshistorie

Method: POST

Voor gedetailleerde functionele en technische specificaties van de BRP API, zie de website van RvIG.

===== Input

De input is een JSON-object waarin de volgende elementen kunnen voorkomen. Welke elementen dat kunnen zijn, hangt af van de gekozen waarde van type:

[.center,width="99%" ,cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Mogelijke waarden / corresponderende rubriek in BRP-V
|type |string |ja |"RaadpleegMetPeildatum" / "RaadpleegMetPeriode"
|burgerservicenummer |string |ja |<<e1020,01.10.20>> Burgerservicenummer van de persoon
4+|Als type="RaadpleegMetPeildatum":
|peildatum |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e1030,08/58.10.30>> Datum aanvang adreshouding en/of <<e1320,08/58.13.20>> Datum aanvang adres buitenland
4+|Als type="RaadpleegMetPeriode":
|datumVan |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e1030,08/58.10.30>> Datum aanvang adreshouding en/of <<e1320,08/58.13.20>> Datum aanvang adres buitenland
|datumTot |string (datum: jjjj-mm-dd) |ja |Wordt vergeleken met <<e1030,08/58.10.30>> Datum aanvang adreshouding en/of <<e1320,08/58.13.20>> Datum aanvang adres buitenland
|===

===== Controles

Na ontvangst van het request bericht controleert de API:

* Of de syntax van het request bericht en de waarden van de zoekcriteria voldoen aan de eisen in de vorige paragraaf;
* Of de vraag afkomstig is van een gemeente.

Als de vraag afkomstig is van een gemeente, dan wordt de vraag beantwoord. Van de gevonden PL'en worden de gevraagde gegevens verzameld en verstrekt in het response bericht mits het aantal overgebleven PL'en niet groter is dan het maximumaantal toegestane PL'en.

Als de vraag niet afkomstig is van een gemeente, dan wordt nog gecontroleerd:

* Of de afnemer geautoriseerd is voor systematische verstrekking van gegevens (dus: of er een autorisatietabelregel voor de afnemer is met <<r359998,35.99.98>> Datum ingang =++<++ systeemdatum en <<r359999,35.99.99>> ++>++ systeemdatum of leeg);
* Of de afnemer geautoriseerd is voor het medium ad hoc (<<e9567,35.95.67>> Medium ad hoc = "N" of "A");
* Of de afnemer geautoriseerd is voor <<e0120,01.01.20>> Burgerservicenummer, <<e7010,07.70.10>> Indicatie geheim en <<eVP07,PX.VP.07>> Verblijfplaatshistorie (komen deze voor in <<e9560,35.95.60>> Rubrieknummer ad hoc?).

Vervolgens worden alle PL'en gezocht die voldoen aan de zoekcriteria, en wordt per PL gecontroleerd:

* of er geheimhouding van toepassing is voor deze afnemer (<<e9512,35.95.12>> Indicatie geheimhouding = 1 en <<e7010,07.70.10>> Indicatie geheim = 2, 4, 6 of 7): zo ja, dan wordt de PL uit het resultaat gefilterd;
* of er geheimhouding van toepassing is, maar niet voor deze afnemer (<<e9512,35.95.12>> Indicatie geheimhouding = 0 en <<e7010,07.70.10>> Indicatie geheim = 2, 4, 6 of 7): zo ja, dan wordt geheimhoudingPersoonsgegevens meeverstrekt;
* of de PL voldoet aan <<e9561,35.95.61>> Voorwaardenregel ad hoc. Zo niet, dan wordt die uit het resultaat gefilterd.

Van de overgebleven PL'en worden de gevraagde gegevens verzameld en verstrekt in het response bericht, mits het aantal overgebleven PL'en niet groter is dan het maximumaantal toegestane PL'en.

===== Output

De output is een JSON-object met de volgende elementen:

[width="100%",cols="3%,3%,34%,10%,50%",options="header",]
|===
3+|Element naam |Type |Mogelijke waarden / corresponderende rubriek in BRP-V
3+|opschortingBijhouding |object |
| 2+|datum |date |<<e6710,07.67.10>> Datum opschorting bijhouding
| 2+|reden |object |
| | |code |integer |<<e6720,07.67.20>> Omschrijving reden opschorting bijhouding
| | |omschrijving |string |Omschrijving bij de code zoals in LO vermeld
3+|geheimhoudingPersoonsgegevens |boolean |Geeft aan of de persoon om geheimhouding van persoonsgegevens heeft gevraagd. +
Afgeleid van <<e7010,07.70.10>> Indicatie geheim.
3+|verblijfplaatsen |JSON-object |<<eVP07,PX.VP.07>> Verblijfplaatshistorie
|===

===== Protocollering

Verstrekking van persoonsgegevens via het endpoint /verblijfplaatshistorie in de BRP API worden geprotocolleerd. Van de PL die in het resultaat is opgenomen, wordt geprotocolleerd dat <<e6710,07.67.10>> Datum opschorting bijhouding, <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding en <<eVP07,PX.VP.07>> Verblijfplaatshistorie zijn verstrekt.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP Protocolleringsoverzicht API

===== Beschrijving

De BRP protocolleringsoverzicht API is een API van de POAM, die uitsluitend is te gebruiken door MijnOverheid en een protocolleringsoverzicht over een bepaalde periode voor een bepaald BSN opvraagt via de webservice van de POM en deze vervolgens aan de burger verstrekt via de MijnOverheid Berichtenbox.

URI: ++{++basis++_++url}/protocolleringsoverzicht

Method: POST

Voor gedetailleerde functionele en technische specificaties van de BRP Protocolleringsoverzicht API, zie de website van RvIG.

===== Input

De input is een JSON-object waarin de volgende elementen kunnen voorkomen:

[.center,width="99%" ,cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Mogelijke waarden / corresponderende rubriek in BRP-V
|bsn |string |ja |Het burgerservicenummer van de burger voor wie het protocolleringsoverzicht wordt aangevraagd.
|begindatum	|string (datum: jjjj-mm-dd) |ja |De begindatum van de periode waarvoor het protocolleringsoverzicht wordt opgevraagd. Deze mag niet voor 6 januari 2013 liggen, aangezien er voor deze datum geen protocolleringen zijn vastgelegd. 
|einddatum	|string (datum: jjjj-mm-dd) |ja	|De einddatum van de periode waarvoor het protocolleringsoverzicht wordt opgevraagd (inclusief). Deze moet minimaal één dag voor de systeemdatum liggen en maximaal 1 jaar na de begindatum.

|===

===== Controles

Na ontvangst van het request bericht controleert de API:

* Of de syntax van het request bericht en de waarden van de zoekcriteria voldoen aan de eisen in de vorige paragraaf;
* Of de vraag afkomstig is van MijnOverheid.

Als aan deze twee voorwaarden is voldaan, wordt het verzoek in behandeling genomen en verwerkt. De POAM roept de webservice van de POM aan om het protocolleringsoverzicht van de burger met het opgegeven BSN op te vragen. Na ontvangst plaatst de POAM het overzicht in de MijnOverheid Berichtenbox van de burger.

===== Output

De output is een JSON-object met de volgende elementen:

[width="100%",cols="40%,10%,50%",options="header",]
|===
|Element naam |Type |Mogelijke waarden / corresponderende rubriek in BRP-V
|success |boolean |Geeft aan of het verzoek succesvol is verwerkt.
|bericht |string |De tekst van de succes- of de foutmelding. Bij succes is dat: “De aanvraag is succesvol ingediend”.
|===

===== Foutsituaties

[width="100%",cols="40%,15%,45%",options="header",]
|===
|Foutsituatie |HTTP status code |Foutmelding
|Het BSN is niet meegestuurd |400 |BSN is verplicht
|Het BSN is niet geldig |400 |Het BSN moet een positief getal zijn van maximaal 9 posities. BSNs van 8 posities worden zowel met als zonder voorloopnul geaccepteerd
|De begindatum is niet meegestuurd |400 |Begindatum is verplicht
|De begindatum heeft een ongeldig formaat |400 |Begindatum moet formaat jjjj-mm-dd hebben
|De begindatum is niet groter dan of gelijk aan 6 januari 2013 |400 |De begindatum moet groter of gelijk zijn aan 6 januari 2013
|De einddatum is niet meegestuurd |400 |Einddatum is verplicht
|De einddatum heeft een ongeldig formaat |400 |Einddatum moet formaat jjjj-mm-dd hebben
|De einddatum ligt op of na de huidige datum |400 |De einddatum moet kleiner zijn dan de systeemdatum
|De begindatum ligt na de einddatum. |400 |De begindatum moet kleiner of gelijk zijn aan de einddatum
|De periode tussen de begin- en einddatum is groter dan 1 jaar. |400 |De periode mag niet groter zijn dan 1 jaar
|De aanvraag is al in behandeling |400 |Er is al een aanvraag in behandeling voor de gevraagde periode voor deze burger
|Overige technische fouten |500 |Er is een interne serverfout opgetreden
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Berichten

===== Inleiding

In de beschrijving van de berichten worden de volgende onderdelen vermeld:

[unordered.stack]
*Berichtnummer*:: Een nummer bestaande uit 2 letters gevolgd door 2 cijfers.
*Berichtnaam*:: Naam die in korte vorm de inhoud van het bericht weergeeft.
*Omschrijving*:: Hierin wordt aangegeven wanneer en waarom het bericht verstuurd wordt.
*Te verzenden door*:: Geeft aan door welke aangesloten instantie het bericht verstuurd wordt.
*Te verzenden aan*:: Geeft aan door welke aangesloten instantie het bericht ontvangen wordt.
*Volgt op bericht*:: Geeft aan dat het bericht alleen verstuurd kan worden als het daar aangegeven bericht ontvangen is.
*Wordt gevolgd door*:: Geeft aan dat als dit bericht ontvangen wordt, er gereageerd dient te worden met een van de genoemde berichten.
*Kop bevat*:: Geeft aan welke gegevens in de kop zijn opgenomen.
*Inhoud bevat*:: Geeft aan welke groepen of elementen worden opgenomen.

De berichten zijn opgenomen in alfabetische volgorde.

Deze paragraaf eindigt met een overzicht van alle foutredenen en statusmeldingen.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

===== Beschrijving van de BRP-berichten

[#Af01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Af01
Berichtnaam:: Fout: plaatsen afnemersindicatie op persoonslijst onmogelijk
Omschrijving:: Indien een afnemer een afnemersindicatie wil plaatsen terwijl dat niet mogelijk is, wordt dit bericht verstuurd.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Ap01,Ap01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
G =::: persoon komt niet voor
H =::: betrokkene heeft om geheimhouding verzocht
I =::: reeds een afnemersindicatie geplaatst bij deze persoon
R =::: geen autorisatie voor het plaatsen van een afnemersindicatie bij deze persoon
U =::: eenduidige identificatie niet gelukt
X =::: geen autorisatie voor de gevraagde actie
--
+
gemeente = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: de bij het <<Ap01,Ap01>>-bericht opgegeven identificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Af11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Af11
Berichtnaam:: Fout: verwijderen afnemersindicatie van persoonslijst onmogelijk
Omschrijving:: Dit bericht wordt verstuurd, wanneer een afnemer een afnemers­indicatie probeert te verwijderen terwijl dat niet mogelijk is.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Av01,Av01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
G =::: persoon komt niet voor
H =::: betrokkene heeft om geheimhouding verzocht
I =::: geen afnemersindicatie geplaatst bij deze persoon
U =::: eenduidige identificatie niet gelukt
--
+
gemeente = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer uit het <<Av01,Av01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ag01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ag01
Berichtnaam:: Gegevensverstrekking als gevolg van ad hoc plaatsing afnemers­indicatie op persoonslijst
Omschrijving:: Dit bericht wordt verstuurd als een afnemer een afnemersindicatie heeft geplaatst bij een persoon. Het bevat alle gegevens van de persoon, waarvoor de afnemer bij spontane gegevensverstrekking geautoriseerd is.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Ap01,Ap01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat::
* alle gegevens waarvoor de afnemer bij spontane gegevens­verstrekking geautoriseerd is
* eventueel de verwijderde aantekeningen.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ag11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ag11
Berichtnaam:: Vulbericht
Omschrijving:: Dit bericht wordt verstuurd als voor een afnemer een afnemersindicatie is geplaatst bij een persoon. Het bevat alle gegevens van die persoon, waarvoor de afnemer bij spontane gegevensverstrekking geautoriseerd is.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat::
* alle gegevens waarvoor de afnemer bij spontane gegevens­verstrekking geautoriseerd is
* eventueel de verwijderde aantekeningen.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ag21]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ag21
Berichtnaam:: Conditionele gegevensverstrekking
Omschrijving:: Dit bericht wordt verstuurd als op een PL één of meer sleutelrubrieken van een afnemer wijzigen, de PL vervolgens aan de voorwaardenregel spontaan van de afnemer voldoet en de afnemer geautoriseerd is voor het ontvangen van conditionele verstrekkingen.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat:: alle gegevens waarvoor de afnemer bij spontane gegevensverstrekking geautoriseerd is.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ag31]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ag31
Berichtnaam:: Foutherstelbericht
Omschrijving:: Dit bericht wordt verstuurd als door een opgetreden fout een <<Ag01,Ag01>>-, <<Ag11,Ag11>>-, <<Ag21,Ag21>>-, <<Gv01,Gv01>>- of <<Gv02,Gv02>>-bericht niet of niet correct is verstuurd.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat:: alle gegevens waarvoor de afnemer bij spontane gegevensverstrekking geautoriseerd is.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ap01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ap01
Berichtnaam:: Plaatsen afnemersindicatie op persoonslijst
Omschrijving:: Het bericht van de afnemer aan BRP-V, waarbij de afnemer aangeeft geïnteresseerd te zijn in een gespecificeerde persoon.
Te verzenden door:: afnemer
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Ag01,Ag01>> of <<Af01,Af01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: persoonsidentificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Av01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Av01
Berichtnaam:: Verwijderen afnemersindicatie van persoonslijst
Omschrijving:: Het bericht van de afnemer aan BRP-V, waarbij de afnemer aangeeft niet langer geïnteresseerd te zijn in een gespecificeerde persoon.
Te verzenden door:: afnemer
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging of <<Af11,Af11>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie
Inhoud bevat:: rubriek <<e0110,01.01.10>> A‑nummer.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Gv01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Gv01
Berichtnaam:: Spontane mutatie
Omschrijving:: Kennisgeving van het feit dat er een rubriek, waarvoor de betrokken afnemer bij spontane gegevensverstrekking geautoriseerd is, gewijzigd is bij een persoon waar de afnemer een afnemersindicatie heeft staan.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: zowel het oude als het nieuwe gegeven.
+
Om het nieuwe gegeven in het bericht aan te duiden wordt het actuele categorienummer dat bij het gegeven hoort, gebruikt. Om het oude gegeven in het bericht aan te duiden wordt het actuele categorienummer verhoogd met 50 gebruikt. Dit betekent dat in dit bericht ook de categorienummers 57, 62 en 63 kunnen voorkomen. +
+
Indien het oude of het nieuwe gegeven niet voorkomt, wordt dat gegeven toch opgenomen in het bericht. Dit wordt gerealiseerd door de betreffende categorie of element in het bericht op te nemen met lengte 0 (nul). +
+
Het is toegestaan om meerdere mutaties in één <<Gv01,Gv01>>-bericht samen te nemen. Voor meerdere mutaties in één categorie geldt dat samennemen alleen is toegestaan indien die mutaties zijn gebaseerd op hetzelfde brondocument en voor die mutaties geldt dat ze dezelfde ingangsdatum geldigheid hebben.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Gv02]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Gv02
Berichtnaam:: Spontane mutatie: infrastructurele wijziging
Omschrijving:: Kennisgeving van het feit dat er een rubriek, waarvoor de betrokken afnemer bij spontane gegevensverstrekking geautoriseerd is, gewijzigd is bij een persoon waar de afnemer een afnemersindicatie heeft staan. Deze spontane mutatie wordt alleen verstuurd, indien deze wijziging het gevolg is van een aanpassing van de verblijfplaatsgegevens vanwege een infrastructurele wijziging.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
A‑nummer = 10 posities
Inhoud bevat:: zowel het oude als het nieuwe gegeven. +
+
Om het nieuwe gegeven in het bericht aan te duiden wordt het actuele categorienummer dat bij het gegeven hoort, gebruikt. Om het oude gegeven in het bericht aan te duiden wordt het actuele categorienummer verhoogd met 50 gebruikt. +
+
Indien het oude of het nieuwe gegeven niet voorkomt, wordt dat gegeven toch opgenomen in het bericht. Dit wordt gerealiseerd door de betreffende categorie of element in het bericht op te nemen met lengte 0 (nul).

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ha01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ha01
Berichtnaam:: Ad hoc antwoord
Omschrijving:: Antwoord op een gestelde ad hoc vraag. Dit antwoord wordt slechts verstuurd als de afnemer voor alle gebruikte gegevens geautoriseerd is bij de ad hoc gegevensverstrekking.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Hq01,Hq01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat:: inhoud van de, in de kop van het <<Hq01,Hq01>>-bericht, gevraagde rubrieken.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Hf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Hf01
Berichtnaam:: Fout: ad hoc vraag niet te beantwoorden
Omschrijving:: Indien de vraag niet te beantwoorden is, wordt deze melding gestuurd.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Hq01,Hq01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
G =::: persoon komt niet voor
H =::: betrokkene heeft om geheimhouding verzocht
R =::: geen autorisatie voor het stellen van ad hoc vragen over deze persoon
U =::: eenduidige identificatie niet gelukt
X =::: geen autorisatie voor de gevraagde actie
--
+
gemeente = 4 posities +
A‑nummer = 10 posities +
aantal = 3 posities (uit de kop van het <<Hq01,Hq01>>-bericht) +
gevraagde rubrieken = 6 posities N maal (uit de kop van het <<Hq01,Hq01>>-bericht)
Inhoud bevat:: de bij het <<Hq01,Hq01>>-bericht opgegeven identificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Hq01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Hq01
Berichtnaam:: Ad hoc vraag
Omschrijving:: Dit bericht wordt door een afnemer verstuurd aan BRP-V met de bedoeling aan de hand van de opgegeven identificatie, gegevens over de persoon verstrekt te krijgen.
Te verzenden door:: afnemer
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Ha01,Ha01>> of <<Hf01,Hf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
aantal = 3 posities +
gevraagde rubrieken = 6 posities N maal
Inhoud bevat:: persoonsidentificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ng01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ng01
Berichtnaam:: Afvoeren PL
Omschrijving:: Kennisgeving van het feit dat er een PL is afgevoerd aan elke afnemer, die zijn afnemersindicatie op de betreffende PL heeft geplaatst.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: de rubrieken: +
* <<e0110,01.01.10>> A‑nummer
* <<e2020,01.20.20>> Volgend A‑nummer
* <<e6710,07.67.10>> Datum opschorting bijhouding
* <<e6720,07.67.20>> Omschrijving reden opschorting bijhouding.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Sv01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Sv01
Berichtnaam:: Selectieverstrekking
Omschrijving:: Na het draaien van de selectie zonder plaatsing van afnemersindicaties op persoonslijsten wordt voor ieder van de personen die aan de gestelde criteria voldoen, dit bericht verstuurd.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
status = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
A =::: PL is actueel
E =::: bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
M =::: bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
O =::: bijhouden PL opgeschort wegens overlijden op "datum"
R =::: bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
--
+
datum = 8 posities
Inhoud bevat:: alle gegevens waarvoor de afnemer bij selecties geautoriseerd is.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Sv11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Sv11
Berichtnaam:: Niemand geselecteerd
Omschrijving:: Indien na het draaien van de selectie door de gemeente blijkt dat niemand aan de gestelde voorwaarden voldoet, wordt dit bericht verstuurd.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Wa11]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Wa11
Berichtnaam:: Wijziging A‑nummer ten behoeve van afnemers
Omschrijving:: Melding van een wijziging van het A‑nummer aan elke afnemer die zijn afnemersindicatie op de betreffende PL heeft geplaatst.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
(nieuw) A‑nummer = 10 posities +
datum geldigheid = 8 posities
Inhoud bevat:: rubriek <<e0110,01.01.10>> (oude) A‑nummer +
alsmede uit categorie <<c01-51,01>> Persoon de groepen: +
* <<g02,02>> Naam, indien de afnemer hiervoor is geautoriseerd
* <<g03,03>> Geboorte, indien de afnemer hiervoor is geautoriseerd.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Xa01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Xa01
Berichtnaam:: Ad hoc adresantwoord
Omschrijving:: De A‑nummers en verder gevraagde gegevens van de op het opgegeven adres ingeschreven personen.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Xq01,Xq01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: ingeschreven A‑nummers, waarbij elk A‑nummer wordt gevolgd door de inhoud van de in de kop van het <<Xq01,Xq01>>-bericht gevraagde rubrieken indien de betreffende PL tot de doelgroep van de afnemer behoort en er geen geheimhouding geldt. +
+
Dit houdt in dat de sortering van de gegevens in dit bericht afwijkt van de standaard; zie <<_opbouw_van_de_berichtendienst_berichten>>.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Xf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Xf01
Berichtnaam:: Fout: ad hoc adresvraag niet te beantwoorden
Omschrijving:: Indien de gestelde ad hoc adresvraag niet te beantwoorden is, wordt dit bericht teruggestuurd.
Te verzenden door:: BRP-V
Te verzenden aan:: afnemer
Volgt op bericht:: <<Xq01,Xq01>>
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
foutreden = 1 positie
+
--
[horizontal,labelwidth=5%,itemwidth=95%]
G =::: adres dan wel persoon komt niet voor
P =::: antwoordbericht te groot
U =::: eenduidige identificatie niet gelukt
X =::: geen autorisatie voor de gevraagde actie
Z =::: autorisatie voor geen van de personen op het aangegeven adres (bij adresidentificatie) dan wel geen autorisatie voor de gezochte persoon (bij persoonsidentificatie)
--
+
aantal = 3 posities +
gevraagde rubrieken = 6 posities N maal +
adresfunctie = 1 positie +
identificatie = 1 positie
Inhoud bevat:: de inhoud van het bijbehorende <<Xq01,Xq01>>-bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Xq01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Xq01
Berichtnaam:: Ad hoc adresvraag
Omschrijving:: Op basis van de in dit bericht verstrekte unieke adresidentificatie dan wel persoonsidentificatie worden de A‑nummers en de verder gevraagde gegevens van de actueel op dat adres ingeschreven personen verstrekt, indien bij persoonsidentificatie geldt dat de persoon tot de doelgroep van de afnemer m.b.t. ad hoc gegevensverstrekking behoort en bij adresidentificatie tenminste een van die personen tot de doelgroep van de afnemer m.b.t. ad hoc gegevensverstrekking behoort.
Te verzenden door:: afnemer
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: <<Xa01,Xa01>> of <<Xf01,Xf01>>
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
aantal = 3 posities (waarde kan niet 000 zijn) +
gevraagde rubrieken = 6 posities N maal, waaronder altijd <<e0110,01.01.10>> +
adresfunctie = 1 positie +
identificatie = 1 positie
Inhoud bevat:: adresidentificerende of persoonsidentificerende gegevens.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

===== Overzicht foutredenen en statusmeldingen

De in de berichten voorkomende foutredenen en statusmeldingen zijn in de onderstaande opsomming opgenomen. Indien bij de omschrijving van de betekenis "datum" of "code" voorkomt, wil dat zeggen dat in het betreffende bericht ook de bedoelde datum of gemeentecode voorkomt.

[width="100%",cols="10%,12%,78%",options="header",frame=none,grid=none]
|===
|Fout/ Status |Berichtnr. |Betekenis
|A |<<Ag01,Ag01>> |PL is actueel
|A |<<Ag11,Ag11>> |PL is actueel
|A |<<Ag21,Ag21>> |PL is actueel
|A |<<Ag31,Ag31>> |PL is actueel
|A |<<Ha01,Ha01>> |PL is actueel
|A |<<Sv01,Sv01>> |PL is actueel
3+|
|E |<<Ag01,Ag01>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Ag11,Ag11>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Ag21,Ag21>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Ag31,Ag31>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Ha01,Ha01>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
|E |<<Sv01,Sv01>> |Bijhouden PL opgeschort wegens emigratie m.i.v. "datum"
3+|
|G |<<Af01,Af01>> |Persoon komt niet voor
|G |<<Af11,Af11>> |Persoon komt niet voor
|G |<<Hf01,Hf01>> |Persoon komt niet voor
|G |<<Xf01,Xf01>> |Adres dan wel persoon komt niet voor
3+|
|H |<<Af01,Af01>> |Betrokkene heeft om geheimhouding verzocht
|H |<<Af11,Af11>> |Betrokkene heeft om geheimhouding verzocht
|H |<<Hf01,Hf01>> |Betrokkene heeft om geheimhouding verzocht
3+|
|I |<<Af01,Af01>> |Reeds een afnemersindicatie geplaatst bij deze persoon
|I |<<Af11,Af11>> |Geen afnemersindicatie geplaatst bij deze persoon
3+|
|M |<<Ag01,Ag01>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Ag11,Ag11>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Ag21,Ag21>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Ag31,Ag31>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Ha01,Ha01>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
|M |<<Sv01,Sv01>> |Bijhouden PL opgeschort wegens Ministerieel besluit m.i.v. "datum"
3+|
|O |<<Ag01,Ag01>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Ag11,Ag11>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Ag21,Ag21>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Ag31,Ag31>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Ha01,Ha01>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Sv01,Sv01>> |Bijhouden PL opgeschort wegens overlijden op "datum"
|O |<<Tf01,Tf01>> |Bijhouden PL ouder opgeschort wegens overlijden ouder
3+|
|P |<<Xf01,Xf01>> |Antwoordbericht te groot
3+|
|R |<<Af01,Af01>> |Geen autorisatie voor plaatsen afnemersindicatie bij deze persoon
|R |<<Ag01,Ag01>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
|R |<<Ag11,Ag11>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
|R |<<Ag21,Ag21>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
|R |<<Ag31,Ag31>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
|R |<<Ha01,Ha01>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
|R |<<Hf01,Hf01>> |Geen autorisatie voor het stellen van ad hoc vragen over deze persoon
|R |<<Sv01,Sv01>> |Bijhouden PL opgeschort wegens aanleg in de RNI op "datum"
3+|
|U |<<Af01,Af01>> |Eenduidige identificatie niet gelukt
|U |<<Af11,Af11>> |Eenduidige identificatie niet gelukt
|U |<<Hf01,Hf01>> |Eenduidige identificatie niet gelukt
|U |<<Xf01,Xf01>> |Eenduidige identificatie niet gelukt
3+|
|X |<<Af01,Af01>> |Geen autorisatie voor de gevraagde actie
|X |<<Hf01,Hf01>> |Geen autorisatie voor de gevraagde actie
|X |<<Xf01,Xf01>> |Geen autorisatie voor de gevraagde actie
3+|
|Z |<<Xf01,Xf01>> |Autorisatie voor geen van de personen op het aangegeven adres (bij adresidentificatie) dan wel geen autorisatie voor de gezochte persoon (bij persoonsidentificatie)
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

=== Overige berichten

==== Inleiding

In deze paragraaf worden de berichtencycli uiteengezet. Elke cyclus wordt beschreven aan de hand van:

[unordered.stack]
*Een schematische weergave van de cyclus*:: Hieruit blijkt de volgorde van de berichten. Het normale proces wordt beschreven met de kenmerkende activiteiten binnen de cyclus. Tevens zijn, indien van toepassing, de punten aangegeven waarop een cyclus afgebroken wordt in het geval van een foutsituatie.
*Een inleiding*:: Hierin is een omschrijving van het doel van de cyclus en een beknopte omschrijving van het verloop opgenomen.
*Een toelichting*:: Het verloop van de cyclus wordt daarin stap voor stap beschreven. Indien van toepassing, worden de foutsituaties behandeld die in een cyclus kunnen optreden. Hierbij wordt voor iedere foutsituatie aangegeven welke acties van de betrokken instanties noodzakelijk zijn.

In het overzicht hierna zijn de berichtencycli gegroepeerd uitgaande van de betrokken partijen bij de verschillende cycli. De tevens opgenomen paragraafnummers verwijzen naar de subparagraaf waarin de betreffende cyclus wordt behandeld.

[width="100%",cols="15%a,85%",frame=none,grid=none]
|===
2+|BRP‑V en RvIG:
|

* <<_onderhoud_autorisatietabel,5.4.2>>

|Onderhoud autorisatietabel
2+|
2+|Gemeenten, RNI, afnemers, BvBSN, BRP‑V en RvIG:
|

* <<_onderhoud_landelijke_tabellen,5.4.3>>

|Onderhoud overige tabellen
|

* <<_brp_tabellen_api,5.4.4>>

|BRP Tabellen API
2+|
2+|Alle partijen onderling:
|

* <<_protocolfouten_2,5.4.5>>

|Protocolfouten
|

* <<_vrij_bericht,5.4.6>>

|Vrij bericht
|

* <<_vrij_bericht_via_webservice,5.4.7>>

|Vrij bericht via de webservice
|

* <<_verwerkbevestiging,5.4.8>>

|Verwerkbevestiging
2+|
2+|Al deze berichtencycli, met uitzondering van de BRP Tabellen API en het vrije bericht via de webservice (<<Vb02,Vb02>>) kunnen behalve via de mailboxserver ook via de BRP Berichten API worden uitgewisseld.
2+|
2+|Onderstaande berichtencycli kunnen bovendien via de webservice StuurGBAbericht worden uitgewisseld:
|

* <<_onderhoud_landelijke_tabellen,5.4.3>>

|Onderhoud overige tabellen
|

* <<_vrij_bericht_via_webservice,5.4.7>>

|Vrij bericht via de webservice
|===

De berichtencyclus Onderhoud overige tabellen betreft het doorsturen van <<Dt01,Dt01>>- en <<Dw01,Dw01>>-berichten en is beschreven in <<_doorsturen_tabelberichten>> Doorsturen tabelberichten. +
De berichtencyclus Vrij bericht betreft het routeren van vrije berichten uit de mailbox naar de webservice en omgekeerd en is beschreven in <<_routering_vrij_bericht>> Routering vrij bericht.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Onderhoud autorisatietabel

****
[.text-center]
.Schematische weergave Onderhoud autorisatietabel
image::image57.svg[width=566,height=284]
****

===== Inleiding

****
De cyclus Onderhoud autorisatietabel is gedefinieerd om de autorisatietabel te onderhouden. Vanuit RvIG worden wijzigingen op de autorisatietabel aan BRP-V verstuurd. Ieder bericht heeft betrekking op één autorisatietabelregel. Er wordt onderscheid gemaakt tussen drie typen wijzigingen:

. Het toevoegen van een autorisatietabelregel aan de autorisatietabel
. Het wijzigen van een autorisatietabelregel in de autorisatietabel
. Het beëindigen van een autorisatietabelregel in de autorisatietabel.
****

===== Toelichting

****
Het verloop van de cyclus bestaat uit de volgende stappen:

. *RvIG* +
RvIG verstuurt een wijziging op de autorisatietabel. Hierbij kunnen drie typen berichten verstuurd worden:

* <<Ct01,Ct01>> Toevoegen tabelregel aan Autorisatietabel
* <<Cw01,Cw01>> Wijzigen tabelregel in Autorisatietabel
* <<Cb01,Cb01>> Beëindigen tabelregel in Autorisatietabel.

. *BRP-V* +
Na controle of het bericht afkomstig is van RvIG wordt de wijziging afhankelijk van het type verwerkt.
+
--
* <<Ct01,Ct01>> De toegestuurde nieuwe autorisatietabelregel wordt toegevoegd aan de autorisatietabel.
* <<Cw01,Cw01>> Met behulp van de toegestuurde afnemersindicatie en datum ingang tabelregel wordt de te wijzigen tabelregel geïdentificeerd. In die regel wordt de datum beëindiging tabelregel overschreven met de toegestuurde waarde. Tenslotte wordt de toegestuurde nieuwe autorisatietabelregel toegevoegd aan de autorisatietabel.
* <<Cb01,Cb01>> Met behulp van de toegestuurde afnemersindicatie en datum ingang tabelregel wordt de te beëindigen tabelregel geïdentificeerd. In die regel wordt de datum beëindiging tabelregel overschreven met de toegestuurde waarde.
--
+
Nadat de wijziging is verwerkt, wordt een verwerkbevestiging aan RvIG gestuurd.

In deze cyclus zijn geen foutsituaties voorzien.
****

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Onderhoud landelijke tabellen

[.text-center]
.Schematische weergave Onderhoud landelijke tabellen
image::image58.svg[width=566,height=243]

===== Inleiding

De cyclus Onderhoud landelijke tabellen is gedefinieerd om de landelijke tabellen te onderhouden. Vanuit RvIG worden wijzigingen op deze tabellen verstuurd aan de gemeenten, de RNI, BRP-V, de BvBSN en de afnemers. Ieder bericht heeft betrekking op één tabelregel. Er wordt onderscheid gemaakt tussen twee typen wijzigingen:

. het toevoegen van een tabelregel aan een tabel;
. het wijzigen van een tabelregel in een tabel.

Het beëindigen van een tabelregel komt overeen met het wijzigen van de datum einde geldigheid van de betreffende tabelregel.

Deze berichtencyclus kan ook via de webservice StuurGBAbericht worden uitgevoerd. De instantie RvIG moet dan gelezen worden als BRP-V.

===== Toelichting

Het verloop van de cyclus bestaat uit de volgende stappen:

. *RvIG* +
RvIG verstuurt een wijziging op één van de overige tabellen. Hierbij kunnen twee typen berichten verstuurd worden:

* <<Dt01,Dt01>> Toevoegen tabelregel
* <<Dw01,Dw01>> Wijzigen tabelregel.

. *Gemeente, RNI, BRP-V, BvBSN en afnemer* +
Na controle of het bericht afkomstig is van RvIG wordt de wijziging afhankelijk van het type verwerkt.
+
--
* <<Dt01,Dt01>> Met behulp van het toegestuurde tabelnummer wordt bepaald aan welke tabel een tabelregel moet worden toegevoegd. Vervolgens wordt de toegestuurde tabelregel opgenomen in deze tabel.
* <<Dw01,Dw01>> Met behulp van het toegestuurde tabelnummer wordt bepaald in welke tabel een tabelregel moet worden vervangen. Met behulp van het toegestuurde sleutelelement wordt de betreffende tabelregel geïdentificeerd. Vervolgens wordt deze tabelregel vervangen door de toegestuurde tabelregel.
--
+
Nadat de wijziging is verwerkt, wordt een verwerkbevestiging aan RvIG gestuurd.

. *RvIG*:: De ontvangst van een verwerkbevestiging betekent dat de procedure correct is afgerond en dat de tabel is bijgewerkt.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== BRP Tabellen API

===== Beschrijving

De BRP Tabellen API is een API waarmee het voor gemeenten, RNI en afnemers mogelijk is om de landelijke tabellen te raadplegen.

URI: ++{++basis++_++url++}++/tabellen/{tabelaanduiding}

Method: GET

Hierin is {tabelaanduiding} een path parameter met de naam van de te bevragen tabel:

[.center,width="100%,cols="50%,50%%",options="header",]
|===
|Tabel |Tabelaanduiding
|32 Nationaliteitentabel |Nationaliteiten
|33 Gemeententabel |Gemeenten
|34 Landentabel |Landen
|36 Voorvoegseltabel |Voorvoegsels
|37 Tabel Reden opnemen/beeïndigen nationaliteit |Redenen_Opnemen_Beeindigen_Nationaliteit
|38 Tabel Adellijke titel/predicaat |Adellijke_Titels_Predicaten
|39 Tabel Akteaanduiding |Akteaanduidingen
|41 Tabel Reden ontbinding/nietigverklaring huwelijk/geregistreerd partnerschap |Redenen_Ontbinding_Nietigverklaring_Huwelijk_Geregistreerd_Partnerschap
|48 Tabel Nederlands reisdocument |Nederlandse_Reisdocumenten
|49 Tabel Autoriteit van afgifte Nederlands reisdocument |Autoriteiten_Van_Afgifte_Nederlands_Reisdocument
|56 Verblijfstiteltabel |Verblijfstitels
|59 BRP-deelnemerstabel |BRP-deelnemers
|60 RNI-deelnemerstabel |RNI-deelnemers
|61 Gezagsverhoudingentabel |Gezagsverhoudingen
|===

===== Input

De input bestaat uit een aantal optionele query parameters:

[.center,width="100%",cols="35%,10%,12%,42%a",options="header",]
|===
|Element naam |Type |Verplicht? |Omschrijving
|alleenActueel |string |nee |Indien aanwezig worden alleen actuele tabelregels (waarin 99.99 Datum beëindiging tabelregel dus niet voorkomt) teruggegeven. Als deze parameter ontbreekt, worden alle tabelregels teruggegeven.
|datum |integer |nee |De datum waarop de tabel de inhoud had die gevraagd wordt. Dus als datum=20180701, dan wordt de inhoud van de tabel teruggegeven zoals die op 1 juli 2018 van kracht was: alle tabelregels met 99.98 Datum ingang tabelregel groter dan 20180701 worden weggelaten, en uit alle tabelregels met 99.99 Datum beëindiging tabelregel groter dan 20180701 wordt die datum weggelaten. Als deze parameter ontbreekt, worden de relevante tabelregels teruggegeven zoals die op het moment van bevragen in de tabel staan.
|{elementaanduiding} |string |nee |De waarde die een tabelregel moet hebben in het betreffende element.
|===

Hierin is {elementaanduiding} een "e" + het elementnummer, zonder de punt, bijv. "e0511" om element 05.11 Nationaliteitscode aan te duiden. Als er geen query parameters worden meegegeven, wordt standaard de volledige inhoud van de aangeduide tabel teruggegeven.

Voorbeeld: GET {basis_url}/tabellen/nationaliteiten?alleenActueel&datum=20200101 geeft de inhoud van tabel 32 Nationaliteitentabel zoals die eruitzag op 1 januari 2020, maar laat daarin alle tabelregels weg die op dat moment al beëindigd waren.

===== Controles

Na ontvangst van het request bericht voert de API geen controles uit, maar stelt direct het response bericht samen.

===== Output

De output is een JSON-object met de volgende elementen:

[width="100%",cols="3%,3%,34%,10%,50%",options="header",]
|===
3+|Element naam |Type |Corresponderende tabelrubriek
3+|tabelnummer |integer |Het nummer van de tabel
3+|tabelnaam |string |De naam van de tabel
3+|tabelData |array of objects |
| 2+|{tabel} |array of objects |Altijd "t" + het nummer van de tabel die wordt bevraagd. Bijv. "t32" voor Tabel 32 Nationaliteitentabel.
| | |{elementaanduiding} |string |Voor elk element in de tabelregel: "e" + het elementnummer van het element in de tabelregel, zonder de punt. Bijv. "e0511" voor 05.11 Nationaliteitscode.
|===

Alle tabelrubrieken worden behandeld als strings, ook als het om een datum of een getal gaat. De reden hiervoor is dat dit ervoor zorgt dat in de output elke tabelrij evenveel elementen bevat, en dat als een rubriek niet voorkomt (bijvoorbeeld element 99.99 Datum beëindiging tabelregel), het element e9999 wel in de output JSON voorkomt als een lege string.

Het aantal elementen in het object dat correspondeert met een tabelregel, verschilt per tabel. Hieronder een voorbeeld voor tabel 32 Nationaliteitentabel:

[width="100%",cols="3%,3%,34%,10%,50%",options="header",]
|===
3+|Element naam |Type |Corresponderende tabelrubriek
3+|tabelnummer |integer |32
3+|tabelnaam |string |Nationaliteitentabel
3+|tabelData |array of objects |
| 2+|t32 |array of objects |
| | |e0511 |string | <<e0511,32.05.11>> Nationaliteitscode
| | |e0512 |string | <<e0512,32.05.12>> Omschrijving nationaliteit
| | |e9998 |string | <<r329998,32.99.98>> Datum ingang tabelregel
| | |e9999 |string | <<r329999,32.99.99>> Datum beëindiging tabelregel
|===

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Protocolfouten

[.text-center]
.Schematische weergave Protocolfouten
image::image59.svg[width=566,height=292]

===== Inleiding

Zie <<_protocolfouten>>.

===== Toelichting

Een protocolfout kan op ieder ontvangen bericht worden verstuurd, als het te versturen protocolfoutbericht maar recht doet aan de betekenis ervan. Dus <<Pf01,Pf01>> bij een cyclusfout, <<Pf02,Pf02>> bij een syntax (structuur) fout of <<Pf03,Pf03>> bij een inhoudelijke fout. Als het ontvangen bericht ondanks de geconstateerde fout verwerkbaar is, is het niet de bedoeling om een protocolfout te versturen.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Vrij bericht

[.text-center]
.Schematische weergave Vrij bericht
image::image60.svg[width=566,height=162]

===== Inleiding

De indeling van het vrije bericht is vrij. Hierdoor kan het niet automatisch worden afgehandeld.

Ten behoeve van een uniforme presentatie van de vrije berichten zij het volgende opgemerkt:

* Als regelscheider moeten achtereenvolgens een Carriage Return (CR, Teletex/ASCII code 0D) en een Line Feed (LF, Teletex/ASCII code 0A) gebruikt worden.
* Als paginascheiding mag een Form Feed (FF, Teletex/ASCII code 0C) gebruikt worden.
* Het verdient aanbeveling om als maximale regellengte 72 aan te houden, om de presentatie op beeldscherm en printer te vereenvoudigen.

===== Toelichting

De cyclus bestaat uit één stap, dit is het verzenden van het <<Vb01,Vb01>>-bericht.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Vrij bericht via webservice

[.text-center]
.Schematische weergave Vrij bericht via webservice
image::image61.svg[width=566,height=162]

===== Inleiding

De indeling van het vrije bericht is vrij. Hierdoor kan het niet automatisch worden afgehandeld.

Ten behoeve van een uniforme presentatie van de vrije berichten zij het volgende opgemerkt:

* Als regelscheider moeten achtereenvolgens een Carriage Return (CR, Teletex/ASCII code 0D) en een Line Feed (LF, Teletex/ASCII code 0A) gebruikt worden.
* Als paginascheiding mag een Form Feed (FF, Teletex/ASCII code 0C) gebruikt worden.
* Het verdient aanbeveling om als maximale regellengte 72 aan te houden, om de presentatie op beeldscherm en printer te vereenvoudigen.

===== Toelichting

De cyclus bestaat uit één stap, dit is het verzenden van het <<Vb01,Vb01>>-bericht.

In deze cyclus zijn geen foutsituaties voorzien.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

==== Verwerkbevestiging

[.text-center]
.Schematische weergave Verwerkbevestiging
image::image62.svg[width=565,height=744]

===== Inleiding

Voor berichtencycli die voor de bijhouding bij gemeenten en de RNI van belang zijn, wordt het laatste inhoudelijke bericht gevolgd door deze verwerkbevestiging, zodat expliciet zeker wordt gesteld, dat het laatste inhoudelijke bericht ook is verwerkt. Een verwerkbevestiging wordt ook verstuurd na ontvangst van een tabelbericht, omdat niet bijgewerkte landelijke tabellen kunnen leiden tot verkeerde interpretaties. Een verwerkbevestiging vraagt niet om een vervolgactie.

===== Toelichting

Een verwerkbevestiging volgt op de berichten <<Av01,Av01>>, <<Cb01,Cb01>>, <<Ct01,Ct01>>, <<Cw01,Cw01>>, <<Dt01,Dt01>>, <<Dw01,Dw01>>, <<Iv01,Iv01>>, <<Jv01,Jv01>>, <<Og11,Og11>>, <<Rv01,Rv01>>, <<Tb02,Tb02>>, <<Tv01,Tv01>> en <<Wa01,Wa01>>.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

====  Berichten

===== Inleiding

In de beschrijving van de berichten worden de volgende onderdelen vermeld:

[unordered.stack]
*Berichtnummer*:: Een nummer bestaande uit 2 letters gevolgd door 2 cijfers.
*Berichtnaam*:: Naam die in korte vorm de inhoud van het bericht weergeeft.
*Omschrijving*:: Hierin wordt aangegeven wanneer en waarom het bericht verstuurd wordt.
*Te verzenden door*:: Geeft aan door welke aangesloten instantie het bericht verstuurd wordt.
*Te verzenden aan*:: Geeft aan door welke aangesloten instantie het bericht ontvangen wordt.
*Volgt op bericht*:: Geeft aan dat het bericht alleen verstuurd kan worden als het daar aangegeven bericht ontvangen is.
*Wordt gevolgd door*:: Geeft aan dat als dit bericht ontvangen wordt, er gereageerd dient te worden met een van de genoemde berichten.
*Kop bevat*:: Geeft aan welke gegevens in de kop zijn opgenomen.
*Inhoud bevat*:: Geeft aan welke groepen of elementen worden opgenomen.

De berichten zijn opgenomen in alfabetische volgorde.

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

===== Beschrijving van de BRP-berichten

[#Cb01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Cb01
Berichtnaam:: Beëindigen tabelregel in Autorisatietabel
Omschrijving:: Bericht ter beëindiging van een tabelregel in de Autorisatietabel.
Te verzenden door:: RvIG
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
afnemersindicatie = 6 posities +
datum ingang tabelregel = 8 posities +
datum beëindiging tabelregel = 8 posities
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Ct01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Ct01
Berichtnaam:: Toevoegen tabelregel aan Autorisatietabel
Omschrijving:: Bericht ter uitbreiding van de Autorisatietabel.
Te verzenden door:: RvIG
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
autorisatietabelregel = ...
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Cw01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Cw01
Berichtnaam:: Wijzigen tabelregel in Autorisatietabel
Omschrijving:: Bericht ter wijziging van een tabelregel in de Autorisatietabel.
Te verzenden door:: RvIG
Te verzenden aan:: BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
afnemersindicatie = 6 posities +
datum ingang tabelregel = 8 posities +
datum beëindiging tabelregel = 8 posities +
autorisatietabelregel = ...
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Dt01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Dt01
Berichtnaam:: Toevoegen tabelregel
Omschrijving:: Bericht ter uitbreiding van een tabel niet zijnde de autorisatietabel, de voorvoegseltabel, de tabel adellijke titel/predicaat of PK‑afnemerstabel.
Te verzenden door:: RvIG, dan wel doorgestuurd door BRP-V
Te verzenden aan:: gemeenten, RNI, BRP-V, BvBSN, afnemers
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
te wijzigen tabel = 2 posities
Inhoud bevat:: de toe te voegen tabelregel. +
+
Elementen die niet voorkomen, worden niet in het bericht opgenomen, dus ook niet met lengte 0 (nul). +
+
De bullet in tabel 39 Akteaanduiding wordt weergegeven met het Teletex karakter B7 (middle dot). +
+
De vier bullets in tabel 49 Autoriteit van afgifte Nederlands reisdocument waar een complete tabel kan worden ingevuld (bijvoorbeeld de gemeentecodes uit tabel 33 Gemeententabel) worden als volgt weergegeven: de eerste twee bullets worden weergegeven met het Teletex karakter B7 (middle dot) en daarachter wordt het tabelnummer van de betreffende tabel vermeld (bijvoorbeeld ··33).

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Dw01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Dw01
Berichtnaam:: Wijzigen tabelregel
Omschrijving:: Bericht ter wijziging van een tabel niet zijnde de autorisatietabel, de voorvoegseltabel, de tabel adellijke titel/predicaat of PK‑afnemerstabel.
Te verzenden door:: RvIG, dan wel doorgestuurd door BRP-V
Te verzenden aan:: gemeenten, RNI, BRP-V, BvBSN, afnemers
Volgt op bericht:: {empty}
Wordt gevolgd door:: verwerkbevestiging
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
herhaling = 1 positie +
te wijzigen tabel = 2 posities
Inhoud bevat:: de gewijzigde tabelregel. +
+
Elementen die niet voorkomen, worden niet in het bericht opgenomen, dus ook niet met lengte 0 (nul). +
+
De bullet in tabel 39 Akteaanduiding wordt weergegeven met het Teletex karakter B7 (middle dot). +
+
De vier bullets in tabel 49 Autoriteit van afgifte Nederlands reisdocument waar een complete tabel kan worden ingevuld (bijvoorbeeld de gemeentecodes uit tabel 33 Gemeententabel) worden als volgt weergegeven: de eerste twee bullets worden weergegeven met het Teletex karakter B7 (middle dot) en daarachter wordt het tabelnummer van de betreffende tabel vermeld (bijvoorbeeld ··33).

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Pf01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Pf01
Berichtnaam:: Fout: cyclus
Omschrijving:: Bericht dat wordt verstuurd indien er een bericht binnenkomt dat niet in een cyclus kan worden geplaatst of waarvan het berichttype niet gedefinieerd is.
Te verzenden door:: aangesloten instantie
Te verzenden aan:: aangesloten instantie
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Pf02]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Pf02
Berichtnaam:: Fout: syntax
Omschrijving:: Bericht dat wordt verstuurd als reactie op een ontvangen bericht dat niet voldoet aan de specificaties van het berichtenuitwisselingsformaat.
Te verzenden door:: aangesloten instantie
Te verzenden aan:: aangesloten instantie
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Pf03]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Pf03
Berichtnaam:: Fout: inhoudelijk
Omschrijving:: Bericht dat wordt verstuurd bij inhoudelijke fouten die zo ernstig zijn dat het bericht niet is te verwerken.
Te verzenden door:: aangesloten instantie
Te verzenden aan:: aangesloten instantie
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Vb01]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Vb01
Berichtnaam:: Vrij bericht
Omschrijving:: Bericht dat niet automatisch afgehandeld wordt. Het kan binnen de BRP gebruikt worden voor bronmeldingen en foutmeldingen van algemene aard. Het is vergelijkbaar met een notitie op papier.
Te verzenden door:: op de berichtendienst aangesloten instantie
Te verzenden aan:: op de berichtendienst aangesloten instantie
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
lengte bericht = 5 posities +
bericht = ...
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Vb02]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: Vb02
Berichtnaam:: Vrij bericht via de webservice StuurGBAbericht
Omschrijving:: Bericht dat niet automatisch afgehandeld wordt. Het kan binnen de BRP gebruikt worden voor bronmeldingen en foutmeldingen van algemene aard. Het is vergelijkbaar met een notitie op papier.
Te verzenden door:: Op webservice StuurGBAbericht aangesloten instantie of BRP-V
Te verzenden aan:: Op webservice StuurGBAbericht aangesloten instantie of BRP-V
Volgt op bericht:: {empty}
Wordt gevolgd door:: {empty}
Kop bevat::
random key = 8 posities +
berichtnummer = 4 posities +
communicatiepartner aan = 7 posities +
communicatiepartner van = 7 posities +
lengte bericht = 5 posities +
bericht = ...
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

[#Null]
[horizontal,labelwidth=35%,itemwidth=65%]
Berichtnummer:: {empty}
Berichtnaam:: Verwerkbevestiging (Null-bericht)
Omschrijving:: Bericht dat in bepaalde cycli wordt verstuurd ter bevestiging van de verwerking van de gegevens die opgenomen zijn in het eraan voorafgaande bericht in de cyclus.
Te verzenden door:: gemeente, RNI, terugmeldvoorziening, afnemer, BRP-V
Te verzenden aan:: gemeente, RNI, IND, RvIG
Volgt op bericht:: <<Av01,Av01>>, <<Cb01,Cb01>>, <<Ct01,Ct01>>, <<Cw01,Cw01>>, <<Dt01,Dt01>>, <<Dw01,Dw01>>, <<Iv01,Iv01>>, <<Jv01,Jv01>>, <<Og11,Og11>>, <<Rv01,Rv01>>, <<Tb02,Tb02>>, <<Tv01,Tv01>> en <<Wa01,Wa01>>
Wordt gevolgd door:: {empty}
Kop bevat:: {empty}
Inhoud bevat:: {empty}

ifdef::backend-pdf[<<<]
ifdef::backend-html5[''']

=== Alternatieve media

==== Inleiding

Van het begin af aan is binnen de BRP erkend dat er voor de uitwisseling van gegevens naast de berichtendienst behoefte bestaat aan alternatieve media. Deze media kunnen worden gebruikt in die gevallen waar er sprake is van (bulk)transporten tussen twee BRP-participanten. Gebruik van de berichtendienst kan in die gevallen leiden tot onnodig hoge kosten en tot capaciteits- en andere problemen.

Het medium voor de verschillende gegevensverstrekkingen in de BRP bestaat in principe uit de berichtendienst, webservices en API's. Indien een afnemer de voorkeur geeft aan een ander medium en de afnemer kan de verantwoordelijk Minister overtuigen van het nut van een bepaalde gegevensverstrekking via een ander medium, dan kan de afnemer hiervoor geautoriseerd worden.

Onder alternatieve media wordt alleen nog verstaan:

* FTPS (een uitbreiding voor het file transfer protocol FTP dat ondersteuning voor Transport Layer Security TLS biedt);
* SecureTransfer via de Rijkscloud.

==== Uitgangspunten

Voor de standaards met betrekking tot alternatieve media worden de volgende uitgangspunten gedefinieerd:

* De standaard is gebaseerd op het sPd-protocol dat gebruikt wordt bij de berichten die via de berichtendienst worden uitgewisseld. Dit betekent dat ook gebruik wordt gemaakt van de in <<_tekenset>> gedefinieerde te gebruiken tekens, niet alleen voor de BRP-gegevens maar ook voor de stuurinformatie (zij het dat daar vrijwel uitsluitend alfanumerieke informatie in voorkomt, en geen speciale tekens of diakrieten). De te gebruiken media moeten dus 8-bits data aankunnen.
* Ieder volume omvat één file. Deze file bestaat uit een stuurrecord (waarin de informatie die voor de hele gegevensdrager geldt) en een x aantal berichten in sPd-formaat en (als het het laatste volume in een set betreft) een afsluitrecord.
* Wanneer het nodig is om meerdere volumes te gebruiken wordt geen gebruik gemaakt van eventueel beschikbare systeemvoorzieningen voor multi-volume sets. In plaats daarvan wordt de benodigde informatie op gebruikersniveau bijgehouden in de stuurrecords.

Het te versturen bestand wordt versleuteld en op een server geplaatst, waar de afnemer het kan ophalen. Eventuele andere directories en files op de server worden genegeerd. De logische aspecten met betrekking tot de via FTPS of SecureTransfer verstuurde CSV-bestanden zijn beschreven in <<_logische_aspecten_bij_gebruik_csv>>.

[unordered,stack]
Versienummer:: Het versienummer voor FTPS en SecureTransfer is 02.40.
Maximum volume size:: De maximale omvang van een volume is een 4,7 GB, maar de omvang van een volume (bestand) kan ook worden beperkt door aan te geven hoeveel records er maximaal in mogen voorkomen.
RecordSize:: De RecordSize voor dit medium is vastgesteld op 512 bytes.
Default Padding character:: Het default padding character voor dit medium is de asterisk * (Teletexcode 2A).
Bestandsstructuur:: Als er maar één bestand is waarin alle records zijn opgenomen, dan heeft dat bestand de naam GBA.DAT. Als er meerdere bestanden nodig zijn, dan worden die van een volgnummer voorzien: GBA_001.DAT, GBA_002.DAT, enz. Deze bestanden worden vervolgens gecomprimeerd tot één of meer ZIP-bestanden.

==== Logische aspecten bij gebruik alternatieve media

===== Volume set

Een volume set bestaat uit één of meerdere volumes. Ieder volume bevat slechts één file. De file begint met een stuurrecord. Het laatste volume van een set wordt afgesloten met een speciaal afsluitrecord.

Dit geeft dus de volgende globale lay-out voor een single-volume set:

[.text-center]
.Single volume set lay-out
image::image63.svg[width=416,height=93]

Voor een volume set die uit meerdere volumes bestaat, is de opbouw als volgt:

[.text-center]
.Meerdere volumes set layout
image::image64.svg[width=416,height=332]

===== Stuurrecords

Stuurrecords worden geplaatst aan het begin van ieder volume. Een stuurrecord heeft de lengte die geldt voor de gebruikte RecordSize (in dit voorbeeld 512 bytes) en de volgende lay-out:

[.text-center]
.Stuurrecord lay-out
image::image65.svg[width=459,height=112]

De velden in het stuurrecord hebben de volgende betekenis:

.Velden in stuurrecord
[.center,width="80%" ,cols="25%,15%,60%",options="header",]
|===
|Veld |Lengte |Betekenis
|Originator |7 |Adres (mailbox) waar de gegevensdrager is aangemaakt. Dit kan ook het adres van een verwerker zijn.
|DateTime |11 |Datum en tijd waarop de volume set is aangemaakt, in het binnen sPd gebruikelijke formaat: YYMMDDHHMMZ.
|Version |5 |Het versienummer van de standaard, in de vorm VV.MM, waarbij VV het eigenlijke versienummer is, en MM een postfix die het medium aangeeft.
|VolSeqNo |3 |Volgnummer van dit volume. De verschillende volumes in een volume set worden met dit veld opeenvolgend genummerd, te beginnen met 001.
|RecordSize |5 |De grootte van een record, in bytes. De stelregel dat alle records binnen één volume dezelfde lengte hebben wordt echter altijd gehandhaafd. De minimale recordlengte wordt gesteld op 128.
|PaddingCharacter |1 |Het teken dat gebruikt wordt om het laatste record van een bericht of het afsluitrecord aan te vullen tot de gebruikte record grootte. Hiervoor wordt bij default de asterisk "++*++" gebruikt (Teletexcode 2A), omdat dit teken in de BRP-gegevens niet of nauwelijks voorkomt. Het teken is opgenomen in het stuurrecord voor het geval het gebruik van de ++*++ op enigerlei systeem problemen op zou leveren.
|Reserved |480 |De overige bytes in het stuurrecord hebben geen betekenis.
|===

Als er een andere RecordSize geldt, is de lengte van het "Reserved" veld uiteraard anders.

===== Datarecords

Voor de datarecords is een keuze gemaakt voor het formaat dat de verzender van BRP-gegevens voor de berichtendienst gebruikt (het PutMessage formaat). Dit betekent dat de ontvanger van BRP-gegevens de gegevens moet converteren om ze op één lijn te brengen met het formaat van de gegevens die via de berichtendienst binnenkomen (het formaat van de GetMessageResult). De twee formaten zijn grotendeels equivalent, zoals in onderstaand diagram is aangegeven (de verplichte elementen zijn vet gedrukt).

De MessageId wordt ook wel aangeduid als referentienummer; niet te verwarren met de MessageId die in de communicatie tussen Message Store services en User Agent wordt gebruikt om berichten te specificeren.

Om te voldoen aan de algemene eisen van sPd zal ieder bericht worden gevolgd door een "Termination Record" (5 nullen).

Ook in het PutMessage formaat zitten nog een aantal elementen die overbodig zijn buiten de netwerkcontext (ContentType, NumberOfRecipients, NotificationRequest), maar ter wille van de uniformiteit is besloten deze te handhaven. De enige "afwijking" ten opzichte van het echte sPd is dat alle velden verplicht voorkomen, terwijl de netwerkversie van sPd toelaat dat optionele velden aan het eind van een operatie mogen worden weggelaten. Door deze velden in het uitwisselingsformaat voor alternatieve media verplicht te stellen wordt bereikt dat het begin van een bericht altijd dezelfde lay-out heeft, wat het teruglezen vereenvoudigt.

[.text-center]
.PutMessage en GetMessage elementen
image::image66.svg[width=566,height=367]

De volgende waarden worden voorgeschreven voor deze elementen:

.Invulling sPd elementen
[.center,width="80%" ,cols="25%,15%,15%,45%",options="header",]
|===
|Veld |Lengte |Waarde |Omschrijving
|OriginatorORName |7 | |Adres (mailbox) waar het bericht is aangemaakt
|ContentType |1 |2 |Vaste waarde
|Priority |1 |0 |Vaste waarde
|DeferredDeliveryTime |11 |spaties |Vaste waarde
|Attention |1 |0 |Vaste waarde
|MessageId |12 | |Het unieke volgnummer dat aan het uitgaande bericht wordt toegekend.
|CrossReference |12 | |Het volgnummer van het bericht, waarop dit uitgaande bericht een reactie is. Dit volgnummer is het MessageId van het voorgaande bericht uit de cyclus. Is het bericht het eerste van een cyclus dan heeft dit nummer een van de volgende waarden: 12 spaties, 12 nullen, 1 nul gevolgd door 11 spaties of 11 spaties gevolgd door 1 nul.
|OriginatorORName |7 | |Adres (mailbox) van afzender
|NumberOfRecipients |3 |1 |Vaste waarde
|RecipientORName |7 | |Adres (mailbox) van ontvanger
|NotificationRequest |1 |0 |Vaste waarde
|===

Zoals bij de uitgangspunten is vastgesteld, gaat het uitwisselingsformaat voor alternatieve media uit van fixed-length records, en wordt als eis gesteld dat ieder bericht een geheel aantal records beslaat. Dit betekent dat het laatste record behorend bij een bericht moet worden opgevuld met het "PaddingCharacter". Aangezien de sPd body een lengte-indicatie bevat, kan ondubbelzinnig worden vastgesteld waar de eigenlijke data ophoudt en waar de opvulling begint.

Een bericht binnen de data records komt er dan als volgt uit te zien (uitgaande van een recordlengte van 512 bytes):

[.text-center]
.Bericht lay-out
image::image67.svg[width=416,height=356]

Aangezien de recordlengte altijd groter is dan 87 bytes, past het vaste gedeelte van de PutMessage (header, envelope, en de eerste 8 bytes van de body) altijd volledig binnen het eerste record. De eerste 5 bytes van de body bevatten de lengte van de body zelf (inclusief de opcode, maar exclusief het lengte veld). Het aantal vervolgrecords nv is daaruit als volgt te bepalen:

[stem]
++++
nv = \left\lbrack \frac{(79 + 5 + \text{BodyLength} + 5) + (\text{RecordSize} - 1)}{\text{RecordSize}} \right\rbrack - 1
++++

of eenvoudiger

[stem]
++++
nv = \left\lbrack \frac{(\text{BodyLength} + 88)}{\text{RecordSize}} \right\rbrack
++++

waarbij de rechte haken ++[]++ staan voor de entier-functie (trunceren).

Het aantal opvul-bytes nf in het laatste record is dan

[stem]
++++
nf = (nv + 1) * \text{RecordSize} - 89 - \text{BodyLength}
++++

De laatste regel voor de datarecords is dat de records behorend bij één bericht altijd op hetzelfde volume worden geplaatst. Het is de verantwoordelijkheid van het systeem dat de bestanden aanmaakt om hiervoor zorg te dragen. Dit kan door een schatting te maken van het aantal berichten dat in het bestand kan worden geplaatst en een veiligheidsmarge aan te houden, of door een eventueel gedeeltelijk geschreven bericht weer te verwijderen. Dit voorschrift maakt het teruglezen van de berichten eenvoudiger.

===== Afsluitrecord

Het afsluitrecord dient om een volume set af te sluiten. Aangezien het afsluitrecord altijd als laatste record op een volume staat, na de datarecords, is het wenselijk dat het formaat van dit record aansluit bij dat van de datarecords. Dit garandeert dat het record met hetzelfde algoritme te lezen is.

Anderzijds hoeft het afsluitrecord geen informatie te bevatten. De meest eenvoudige invulling is dus om het afsluitrecord uitsluitend te laten bestaan uit een "Termination Record" van 5 nullen, uiteraard weer aangevuld tot een geheel record met het padding character:

[.text-center]
.Afsluitrecord lay-out
image::image68.svg[width=416,height=96]

==== Logische aspecten bij gebruik CSV

===== Opbouw CSV-bestand

Een CSV-bestand met BRP-gegevens bestaat uit een koprecord (het eerste record) en records met gegevens, een record voor elke persoon waarover gegevens worden verstrekt. Een CSV-bestand bevat géén sluitrecord. De records met gegevens bevatten (in tegenstelling tot het AM-formaat) alleen de gegevens die op de persoonslijsten (PL'en), waarvan gegevens verstrekt worden, voorkomen.

Voor een CSV-bestand met BRP-gegevens gelden de volgende regels.

. Het koprecord bevat de rubrieknummers (formaat: xx.yy.zz) van alle rubrieken waarvan gegevens kunnen zijn opgenomen in de records met gegevens, gescheiden door komma's. Na de laatste rubriek volgt geen komma.
. In de records met gegevens worden de gegevens in dezelfde volgorde opgenomen als in de kopregel.
. Ook in de records met gegevens wordt elk gegeven gevolgd door een komma. Het aantal ","-tekens in de records met gegevens in het CSV-bestand is altijd gelijk aan het aantal rubrieknummers dat in het koprecord van het CSV-bestand is opgenomen min 1. Bij X gegevens komen dus X-1 komma's voor. Als een bepaald gegeven niet voorkomt op de PL (persoonslijst) van een persoon, wordt daarvoor in het gegevensrecord alleen een komma opgenomen. In zo'n geval komen er dus 2 komma's achter elkaar voor. Meer dan twee komma's achter elkaar kan uiteraard ook voorkomen. Een record kan ook beginnen en/of eindigen met een komma als het eerste en/of laatste gegeven er niet is.
. Voor elk rubrieknummer in de kopregel, waarvoor geldt dat er van de categorie waarin die rubriek voorkomt, meer dan een stapel op de PL van de persoon voorkomt, geldt dat alle voorkomens van dat gegeven op de PL achter elkaar in het betrokken record worden opgenomen, gescheiden door een puntkomma, behalve het laatste. Dat laatste gegeven wordt, vanwege de regel onder 3, gevolgd door een komma, tenzij het een gegeven is dat correspondeert met de laatste rubriek in de kopregel. Het aantal puntkomma's bij zo'n herhalend gegeven kan variëren van nul tot N-1, oftewel als er N herhalingen van dat gegeven voorkomen op de PL, komen er N-1 puntkomma's voor. Dit geldt per record, het aantal puntkomma's dat voorkomt bij zo'n gegeven kan en zal per record anders zijn. Dit, omdat het aantal herhalingen op PL'en persoonsafhankelijk is en dus variabel is.
. Als er meerdere rubrieken in de kopregel voorkomen die tot dezelfde categorie horen en van die categorie komen meerdere stapels voor op de PL van de persoon, dan is het aantal herhalingen voor elk van de gegevens die bij die rubrieken horen, gelijk. Het aantal puntkomma's dat bij elk van de gegevens voorkomt, is dus gelijk. Dat houdt in dat het kan voorkomen dat er twee of meer puntkomma's achter elkaar voorkomen. Dat is het geval als voor een bepaalde herhaling het gegeven waar het om gaat niet aanwezig is. De reeks kan ook beginnen en/of eindigen met een puntkomma als het betrokken gegeven niet voorkomt in het eerst en/of laatste voorkomen van die categorie. Als het om het laatste voorkomen gaat van een gegeven dat correspondeert met een andere rubriek dan de laatste rubriek in de kopregel, zal, vanwege de regel onder 3, de puntkomma wordt gevolgd door een komma. Betreft het het laatste voorkomen van een gegeven dat correspondeert met de laatste rubriek in de kopregel, dan eindigt het record met een puntkomma. Betreft het het eerste voorkomen van een gegeven dat correspondeert met de eerste rubriek in de kopregel, dan begint het record met een puntkomma.
. Als de bij regel 5 beschreven situatie zich voordoet, geldt dat in het record met gegevens bij elk van de betrokken rubrieken de herhalingen altijd in dezelfde volgorde zijn opgenomen.
. Als er in de kopregel ook rubrieken zijn opgenomen uit historische categorieën geldt dat alleen gegevens verstrekt worden uit de meest recente, niet als onjuist aangemerkte, historie.
. Voor die historische gegevens geldt wat is gesteld in de regels 3 tot en met 6.

De puntkomma-constructie en met name het variabel aantal puntkommatekens per record, maakt dat een CSV-bestand, waarin gegevens voorkomen die corresponderen met rubrieken uit categorieën waarvan er meer dan een stapel op de PL van de persoon kan voorkomen, niet met een standaardmethode voor het interpreteren van CSV-bestanden verwerkt kan worden. Categorieën waarvan meer dan een stapel op een PL kan voorkomen zijn <<c04-54,04>> Nationaliteit, <<c05-55,05>> Huwelijk/geregistreerd partnerschap, <<c09-59,09>> Kind en <<c12,12>> Reisdocument.

===== Inhoudelijke aspecten CSV-bestand

Gegevens die in een AM-bestand en in het berichtenverkeer worden "meeverstrekt" (zie <<_meeverstrekking_van_de_groepen_procedure_en_onjuist>> en <<_meeverstrekken_van_verificatie_en_rni_deelnemergegevens>>) worden niet meeverstrekt in een CSV-bestand. Door de rubrieknummers waarmee dergelijke gegevens corresponderen op te nemen in de kopregel kunnen deze gegevens wel verstrekt worden.

Scheidingstekens die in de inhoud voorkomen, worden vooraf gegaan door een '++\++' (backslash). Indien een '++\++'-teken zelf in de inhoud voorkomt, wordt deze ook voorafgegaan door een '++\++'.

De voor de codering gebruikte karakterset is UTF-8.

Omdat regel 7 uit de vorige paragraaf zegt dat alleen gegevens uit de meest recente, niet als onjuist aangemerkte, historie in een record met gegevens worden opgenomen, is het niet mogelijk om in een CSV-bestand de complete historie van dergelijke gegevens op te nemen.

===== Voorbeeld CSV-bestand

In het volgende voorbeeld is er sprake van zes rubrieken. De eerste rubriek is de geslachtsnaam van de betrokken persoon. De tweede rubriek is de geboortedatum van de persoon. De derde rubriek is het voorvoegsel van de geslachtsnaam van Ouder1. De vierde is de geslachtsnaam van Ouder1. De vijfde het voorvoegsel van de geslachtsnaam partner. De zesde rubriek is de geslachtsnaam partner. Op de PL van de eerste persoon komen de gegevens van drie partners voor, waarvan de tweede geen voorvoegsel heeft. Op de PL van de tweede persoon komen de gegevens van twee partners voor, waarvan de eerste geen voorvoegsel heeft. De Ouder1 van persoon 1 heeft een voorvoegsel, die van persoon 2 niet.

_Koprecord:_

<<e0240,01.02.40>>,<<e0310,01.03.10>>,<<e0230,02.02.30>>,<<e0240,02.02.40>>,<<e0230,05.02.30>>,<<e0240,05.02.40>>

_Gegevensrecord persoon 1_

Jansen,19600131,van,Steen,de;;van,Groot;Klein;Duin

Rubriek 1: Jansen (de naam van de persoon)

Rubriek 2: 19600131 (de geboortedatum van de persoon)

Rubriek 3: van (het voorvoegsel van Ouder1, van Steen)

Rubriek 4: Steen (de geslachtsnaam van Ouder1)

Rubriek 5: de;;van (de door puntkomma's gescheiden voorvoegsels van de drie partners de Groot, Klein en van Duin. De tweede partner heeft geen voorvoegsel)

Rubriek 6: Groot;Klein;Duin (de door puntkomma's gescheiden geslachtsnamen van de drie partners)

_Gegevensrecord persoon 2_

Pietersen,19600120,,Brood,;der,Borst;Kinderen

Rubriek 1: Pietersen (de naam van de persoon)

Rubriek 2: 19600120 (de geboortedatum van de persoon)

Rubriek 3: ++<++afwezig++>++ (Ouder1, Brood, heeft geen voorvoegsel)

Rubriek 4: Brood (de geslachtsnaam van Ouder1)

Rubriek 5: ;der (de door puntkomma's gescheiden voorvoegsels van de twee partners Borst en der Kinderen. De eerste partner heeft geen voorvoegsel)

Rubriek 6: Borst;Kinderen (de door puntkomma's gescheiden geslachtsnamen van de twee partners)

De gegevens bij de rubriek <<e0230,02.02.30>> illustreren regel 3, die bij de rubrieken <<e0230,05.02.30>> en <<e0240,05.02.40>> de regels 4 en 5.
